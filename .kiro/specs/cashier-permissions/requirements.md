# متطلبات ميزة صلاحيات الكاشير - Cashier Permissions Requirements

## المشكلة الحالية

النظام حالياً فيه 3 أدوار (Roles) فقط:
- **SystemOwner** — مالك المنصة
- **Admin** — المدير (يقدر يعمل كل حاجة)
- **Cashier** — الكاشير (بس يقدر يبيع ويشوف الطلبات والوردية)

**المشكلة:** مفيش تحكم دقيق. يعني مثلاً مش ممكن تخلي كاشير يشوف التقارير بس ما يقدرش يعدّل المنتجات. كل الكاشيرات ليهم نفس الصلاحيات بالظبط.

## الهدف

الأدمن يقدر يتحكم في صلاحيات كل كاشير بشكل منفصل:
- كاشير يقدر يشوف المنتجات بس ما يعدّلش
- كاشير تاني يقدر يشوف التقارير
- كاشير تالت يقدر يعمل مرتجعات
- وهكذا...

## الصلاحيات المطلوبة

| الصلاحية (Permission) | الوصف | القيمة الافتراضية للكاشير |
|---|---|---|
| `pos.sell` | البيع من نقطة البيع | ✅ مفعّل |
| `pos.apply_discount` | تطبيق خصومات | ❌ |
| `orders.view` | عرض الطلبات | ✅ مفعّل |
| `orders.refund` | عمل مرتجعات | ❌ |
| `products.view` | عرض المنتجات | ❌ |
| `products.manage` | إضافة/تعديل/حذف منتجات | ❌ |
| `categories.view` | عرض التصنيفات | ❌ |
| `categories.manage` | إضافة/تعديل/حذف تصنيفات | ❌ |
| `customers.view` | عرض العملاء | ❌ |
| `customers.manage` | إضافة/تعديل/حذف عملاء | ❌ |
| `reports.view` | عرض التقارير | ❌ |
| `expenses.view` | عرض المصروفات | ❌ |
| `expenses.create` | إنشاء مصروف | ❌ |
| `inventory.view` | عرض المخزون | ❌ |
| `shifts.manage` | إدارة الورديات (كل الورديات) | ❌ |
| `cash_register.view` | عرض الخزينة | ❌ |

> **ملاحظة:** الأدمن دائماً عنده كل الصلاحيات. هذا النظام فقط للتحكم في الكاشير.

## القواعد الأساسية

1. الأدمن = كل الصلاحيات دائماً (ما يتأثرش بالنظام ده)
2. الكاشير الجديد = صلاحيات افتراضية (البيع + عرض الطلبات فقط)
3. الأدمن يقدر يعدّل صلاحيات أي كاشير من صفحة الإعدادات
4. الصلاحيات تتخزّن في الـ Database ومرتبطة بالـ User
5. الصلاحيات تترسل مع الـ JWT Token عند تسجيل الدخول
6. الـ Backend يتحقق من الصلاحيات قبل تنفيذ أي عملية
7. الـ Frontend يخفي/يظهر العناصر حسب الصلاحيات
