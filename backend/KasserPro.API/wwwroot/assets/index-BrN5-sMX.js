var Uy=Object.defineProperty;var By=(s,n,a)=>n in s?Uy(s,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[n]=a;var Rn=(s,n,a)=>By(s,typeof n!="symbol"?n+"":n,a);(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const u of d.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function a(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=a(c);fetch(c.href,d)}})();function yo(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var bd={exports:{}},Ta={},Nd={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mh;function Qy(){if(Mh)return Ie;Mh=1;var s=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),d=Symbol.for("react.provider"),u=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function w(D){return D===null||typeof D!="object"?null:(D=y&&D[y]||D["@@iterator"],typeof D=="function"?D:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,j={};function C(D,W,se){this.props=D,this.context=W,this.refs=j,this.updater=se||v}C.prototype.isReactComponent={},C.prototype.setState=function(D,W){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,W,"setState")},C.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function T(){}T.prototype=C.prototype;function _(D,W,se){this.props=D,this.context=W,this.refs=j,this.updater=se||v}var k=_.prototype=new T;k.constructor=_,N(k,C.prototype),k.isPureReactComponent=!0;var R=Array.isArray,b=Object.prototype.hasOwnProperty,E={current:null},O={key:!0,ref:!0,__self:!0,__source:!0};function L(D,W,se){var ae,ie={},pe=null,ce=null;if(W!=null)for(ae in W.ref!==void 0&&(ce=W.ref),W.key!==void 0&&(pe=""+W.key),W)b.call(W,ae)&&!O.hasOwnProperty(ae)&&(ie[ae]=W[ae]);var fe=arguments.length-2;if(fe===1)ie.children=se;else if(1<fe){for(var Ne=Array(fe),_e=0;_e<fe;_e++)Ne[_e]=arguments[_e+2];ie.children=Ne}if(D&&D.defaultProps)for(ae in fe=D.defaultProps,fe)ie[ae]===void 0&&(ie[ae]=fe[ae]);return{$$typeof:s,type:D,key:pe,ref:ce,props:ie,_owner:E.current}}function M(D,W){return{$$typeof:s,type:D.type,key:W,ref:D.ref,props:D.props,_owner:D._owner}}function A(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function I(D){var W={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return W[se]})}var F=/\/+/g;function B(D,W){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):W.toString(36)}function $(D,W,se,ae,ie){var pe=typeof D;(pe==="undefined"||pe==="boolean")&&(D=null);var ce=!1;if(D===null)ce=!0;else switch(pe){case"string":case"number":ce=!0;break;case"object":switch(D.$$typeof){case s:case n:ce=!0}}if(ce)return ce=D,ie=ie(ce),D=ae===""?"."+B(ce,0):ae,R(ie)?(se="",D!=null&&(se=D.replace(F,"$&/")+"/"),$(ie,W,se,"",function(_e){return _e})):ie!=null&&(A(ie)&&(ie=M(ie,se+(!ie.key||ce&&ce.key===ie.key?"":(""+ie.key).replace(F,"$&/")+"/")+D)),W.push(ie)),1;if(ce=0,ae=ae===""?".":ae+":",R(D))for(var fe=0;fe<D.length;fe++){pe=D[fe];var Ne=ae+B(pe,fe);ce+=$(pe,W,se,Ne,ie)}else if(Ne=w(D),typeof Ne=="function")for(D=Ne.call(D),fe=0;!(pe=D.next()).done;)pe=pe.value,Ne=ae+B(pe,fe++),ce+=$(pe,W,se,Ne,ie);else if(pe==="object")throw W=String(D),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return ce}function q(D,W,se){if(D==null)return D;var ae=[],ie=0;return $(D,ae,"","",function(pe){return W.call(se,pe,ie++)}),ae}function Z(D){if(D._status===-1){var W=D._result;W=W(),W.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=W)}if(D._status===1)return D._result.default;throw D._result}var ne={current:null},Y={transition:null},H={ReactCurrentDispatcher:ne,ReactCurrentBatchConfig:Y,ReactCurrentOwner:E};function V(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:q,forEach:function(D,W,se){q(D,function(){W.apply(this,arguments)},se)},count:function(D){var W=0;return q(D,function(){W++}),W},toArray:function(D){return q(D,function(W){return W})||[]},only:function(D){if(!A(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ie.Component=C,Ie.Fragment=a,Ie.Profiler=c,Ie.PureComponent=_,Ie.StrictMode=i,Ie.Suspense=f,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,Ie.act=V,Ie.cloneElement=function(D,W,se){if(D==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+D+".");var ae=N({},D.props),ie=D.key,pe=D.ref,ce=D._owner;if(W!=null){if(W.ref!==void 0&&(pe=W.ref,ce=E.current),W.key!==void 0&&(ie=""+W.key),D.type&&D.type.defaultProps)var fe=D.type.defaultProps;for(Ne in W)b.call(W,Ne)&&!O.hasOwnProperty(Ne)&&(ae[Ne]=W[Ne]===void 0&&fe!==void 0?fe[Ne]:W[Ne])}var Ne=arguments.length-2;if(Ne===1)ae.children=se;else if(1<Ne){fe=Array(Ne);for(var _e=0;_e<Ne;_e++)fe[_e]=arguments[_e+2];ae.children=fe}return{$$typeof:s,type:D.type,key:ie,ref:pe,props:ae,_owner:ce}},Ie.createContext=function(D){return D={$$typeof:u,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},D.Provider={$$typeof:d,_context:D},D.Consumer=D},Ie.createElement=L,Ie.createFactory=function(D){var W=L.bind(null,D);return W.type=D,W},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(D){return{$$typeof:x,render:D}},Ie.isValidElement=A,Ie.lazy=function(D){return{$$typeof:g,_payload:{_status:-1,_result:D},_init:Z}},Ie.memo=function(D,W){return{$$typeof:p,type:D,compare:W===void 0?null:W}},Ie.startTransition=function(D){var W=Y.transition;Y.transition={};try{D()}finally{Y.transition=W}},Ie.unstable_act=V,Ie.useCallback=function(D,W){return ne.current.useCallback(D,W)},Ie.useContext=function(D){return ne.current.useContext(D)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(D){return ne.current.useDeferredValue(D)},Ie.useEffect=function(D,W){return ne.current.useEffect(D,W)},Ie.useId=function(){return ne.current.useId()},Ie.useImperativeHandle=function(D,W,se){return ne.current.useImperativeHandle(D,W,se)},Ie.useInsertionEffect=function(D,W){return ne.current.useInsertionEffect(D,W)},Ie.useLayoutEffect=function(D,W){return ne.current.useLayoutEffect(D,W)},Ie.useMemo=function(D,W){return ne.current.useMemo(D,W)},Ie.useReducer=function(D,W,se){return ne.current.useReducer(D,W,se)},Ie.useRef=function(D){return ne.current.useRef(D)},Ie.useState=function(D){return ne.current.useState(D)},Ie.useSyncExternalStore=function(D,W,se){return ne.current.useSyncExternalStore(D,W,se)},Ie.useTransition=function(){return ne.current.useTransition()},Ie.version="18.3.1",Ie}var Oh;function vo(){return Oh||(Oh=1,Nd.exports=Qy()),Nd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lh;function Hy(){if(Lh)return Ta;Lh=1;var s=vo(),n=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,c=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function u(x,f,p){var g,y={},w=null,v=null;p!==void 0&&(w=""+p),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(v=f.ref);for(g in f)i.call(f,g)&&!d.hasOwnProperty(g)&&(y[g]=f[g]);if(x&&x.defaultProps)for(g in f=x.defaultProps,f)y[g]===void 0&&(y[g]=f[g]);return{$$typeof:n,type:x,key:w,ref:v,props:y,_owner:c.current}}return Ta.Fragment=a,Ta.jsx=u,Ta.jsxs=u,Ta}var Dh;function Vy(){return Dh||(Dh=1,bd.exports=Hy()),bd.exports}var e=Vy(),S=vo();const he=yo(S);var Mi={},wd={exports:{}},At={},Sd={exports:{}},kd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function Wy(){return Ah||(Ah=1,(function(s){function n(Y,H){var V=Y.length;Y.push(H);e:for(;0<V;){var D=V-1>>>1,W=Y[D];if(0<c(W,H))Y[D]=H,Y[V]=W,V=D;else break e}}function a(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var H=Y[0],V=Y.pop();if(V!==H){Y[0]=V;e:for(var D=0,W=Y.length,se=W>>>1;D<se;){var ae=2*(D+1)-1,ie=Y[ae],pe=ae+1,ce=Y[pe];if(0>c(ie,V))pe<W&&0>c(ce,ie)?(Y[D]=ce,Y[pe]=V,D=pe):(Y[D]=ie,Y[ae]=V,D=ae);else if(pe<W&&0>c(ce,V))Y[D]=ce,Y[pe]=V,D=pe;else break e}}return H}function c(Y,H){var V=Y.sortIndex-H.sortIndex;return V!==0?V:Y.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var d=performance;s.unstable_now=function(){return d.now()}}else{var u=Date,x=u.now();s.unstable_now=function(){return u.now()-x}}var f=[],p=[],g=1,y=null,w=3,v=!1,N=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(Y){for(var H=a(p);H!==null;){if(H.callback===null)i(p);else if(H.startTime<=Y)i(p),H.sortIndex=H.expirationTime,n(f,H);else break;H=a(p)}}function R(Y){if(j=!1,k(Y),!N)if(a(f)!==null)N=!0,Z(b);else{var H=a(p);H!==null&&ne(R,H.startTime-Y)}}function b(Y,H){N=!1,j&&(j=!1,T(L),L=-1),v=!0;var V=w;try{for(k(H),y=a(f);y!==null&&(!(y.expirationTime>H)||Y&&!I());){var D=y.callback;if(typeof D=="function"){y.callback=null,w=y.priorityLevel;var W=D(y.expirationTime<=H);H=s.unstable_now(),typeof W=="function"?y.callback=W:y===a(f)&&i(f),k(H)}else i(f);y=a(f)}if(y!==null)var se=!0;else{var ae=a(p);ae!==null&&ne(R,ae.startTime-H),se=!1}return se}finally{y=null,w=V,v=!1}}var E=!1,O=null,L=-1,M=5,A=-1;function I(){return!(s.unstable_now()-A<M)}function F(){if(O!==null){var Y=s.unstable_now();A=Y;var H=!0;try{H=O(!0,Y)}finally{H?B():(E=!1,O=null)}}else E=!1}var B;if(typeof _=="function")B=function(){_(F)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,q=$.port2;$.port1.onmessage=F,B=function(){q.postMessage(null)}}else B=function(){C(F,0)};function Z(Y){O=Y,E||(E=!0,B())}function ne(Y,H){L=C(function(){Y(s.unstable_now())},H)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Y){Y.callback=null},s.unstable_continueExecution=function(){N||v||(N=!0,Z(b))},s.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Y?Math.floor(1e3/Y):5},s.unstable_getCurrentPriorityLevel=function(){return w},s.unstable_getFirstCallbackNode=function(){return a(f)},s.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var H=3;break;default:H=w}var V=w;w=H;try{return Y()}finally{w=V}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(Y,H){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var V=w;w=Y;try{return H()}finally{w=V}},s.unstable_scheduleCallback=function(Y,H,V){var D=s.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?D+V:D):V=D,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=V+W,Y={id:g++,callback:H,priorityLevel:Y,startTime:V,expirationTime:W,sortIndex:-1},V>D?(Y.sortIndex=V,n(p,Y),a(f)===null&&Y===a(p)&&(j?(T(L),L=-1):j=!0,ne(R,V-D))):(Y.sortIndex=W,n(f,Y),N||v||(N=!0,Z(b))),Y},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(Y){var H=w;return function(){var V=w;w=H;try{return Y.apply(this,arguments)}finally{w=V}}}})(kd)),kd}var Fh;function Ky(){return Fh||(Fh=1,Sd.exports=Wy()),Sd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zh;function Gy(){if(zh)return At;zh=1;var s=vo(),n=Ky();function a(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,l=1;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,c={};function d(t,r){u(t,r),u(t+"Capture",r)}function u(t,r){for(c[t]=r,t=0;t<r.length;t++)i.add(r[t])}var x=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function w(t){return f.call(y,t)?!0:f.call(g,t)?!1:p.test(t)?y[t]=!0:(g[t]=!0,!1)}function v(t,r,l,o){if(l!==null&&l.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return o?!1:l!==null?!l.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function N(t,r,l,o){if(r===null||typeof r>"u"||v(t,r,l,o))return!0;if(o)return!1;if(l!==null)switch(l.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function j(t,r,l,o,m,h,P){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=o,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=t,this.type=r,this.sanitizeURL=h,this.removeEmptyString=P}var C={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){C[t]=new j(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];C[r]=new j(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){C[t]=new j(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){C[t]=new j(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){C[t]=new j(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){C[t]=new j(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){C[t]=new j(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){C[t]=new j(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){C[t]=new j(t,5,!1,t.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(T,_);C[r]=new j(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(T,_);C[r]=new j(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(T,_);C[r]=new j(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){C[t]=new j(t,1,!1,t.toLowerCase(),null,!1,!1)}),C.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){C[t]=new j(t,1,!1,t.toLowerCase(),null,!0,!0)});function k(t,r,l,o){var m=C.hasOwnProperty(r)?C[r]:null;(m!==null?m.type!==0:o||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,l,m,o)&&(l=null),o||m===null?w(r)&&(l===null?t.removeAttribute(r):t.setAttribute(r,""+l)):m.mustUseProperty?t[m.propertyName]=l===null?m.type===3?!1:"":l:(r=m.attributeName,o=m.attributeNamespace,l===null?t.removeAttribute(r):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,o?t.setAttributeNS(o,r,l):t.setAttribute(r,l))))}var R=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),E=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),L=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),q=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),ne=Symbol.for("react.offscreen"),Y=Symbol.iterator;function H(t){return t===null||typeof t!="object"?null:(t=Y&&t[Y]||t["@@iterator"],typeof t=="function"?t:null)}var V=Object.assign,D;function W(t){if(D===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);D=r&&r[1]||""}return`
`+D+t}var se=!1;function ae(t,r){if(!t||se)return"";se=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(X){var o=X}Reflect.construct(t,[],r)}else{try{r.call()}catch(X){o=X}t.call(r.prototype)}else{try{throw Error()}catch(X){o=X}t()}}catch(X){if(X&&o&&typeof X.stack=="string"){for(var m=X.stack.split(`
`),h=o.stack.split(`
`),P=m.length-1,z=h.length-1;1<=P&&0<=z&&m[P]!==h[z];)z--;for(;1<=P&&0<=z;P--,z--)if(m[P]!==h[z]){if(P!==1||z!==1)do if(P--,z--,0>z||m[P]!==h[z]){var U=`
`+m[P].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=P&&0<=z);break}}}finally{se=!1,Error.prepareStackTrace=l}return(t=t?t.displayName||t.name:"")?W(t):""}function ie(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=ae(t.type,!1),t;case 11:return t=ae(t.type.render,!1),t;case 1:return t=ae(t.type,!0),t;default:return""}}function pe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case O:return"Fragment";case E:return"Portal";case M:return"Profiler";case L:return"StrictMode";case B:return"Suspense";case $:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case I:return(t.displayName||"Context")+".Consumer";case A:return(t._context.displayName||"Context")+".Provider";case F:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case q:return r=t.displayName||null,r!==null?r:pe(t.type)||"Memo";case Z:r=t._payload,t=t._init;try{return pe(t(r))}catch{}}return null}function ce(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pe(r);case 8:return r===L?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ne(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function _e(t){var r=Ne(t)?"checked":"value",l=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),o=""+t[r];if(!t.hasOwnProperty(r)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,h=l.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return m.call(this)},set:function(P){o=""+P,h.call(this,P)}}),Object.defineProperty(t,r,{enumerable:l.enumerable}),{getValue:function(){return o},setValue:function(P){o=""+P},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ce(t){t._valueTracker||(t._valueTracker=_e(t))}function Re(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var l=r.getValue(),o="";return t&&(o=Ne(t)?t.checked?"true":"false":t.value),t=o,t!==l?(r.setValue(t),!0):!1}function ot(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ye(t,r){var l=r.checked;return V({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??t._wrapperState.initialChecked})}function St(t,r){var l=r.defaultValue==null?"":r.defaultValue,o=r.checked!=null?r.checked:r.defaultChecked;l=fe(r.value!=null?r.value:l),t._wrapperState={initialChecked:o,initialValue:l,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function st(t,r){r=r.checked,r!=null&&k(t,"checked",r,!1)}function kt(t,r){st(t,r);var l=fe(r.value),o=r.type;if(l!=null)o==="number"?(l===0&&t.value===""||t.value!=l)&&(t.value=""+l):t.value!==""+l&&(t.value=""+l);else if(o==="submit"||o==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Xt(t,r.type,l):r.hasOwnProperty("defaultValue")&&Xt(t,r.type,fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function rt(t,r,l){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var o=r.type;if(!(o!=="submit"&&o!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,l||r===t.value||(t.value=r),t.defaultValue=r}l=t.name,l!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,l!==""&&(t.name=l)}function Xt(t,r,l){(r!=="number"||ot(t.ownerDocument)!==t)&&(l==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+l&&(t.defaultValue=""+l))}var Jt=Array.isArray;function vt(t,r,l,o){if(t=t.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<t.length;l++)m=r.hasOwnProperty("$"+t[l].value),t[l].selected!==m&&(t[l].selected=m),m&&o&&(t[l].defaultSelected=!0)}else{for(l=""+fe(l),r=null,m=0;m<t.length;m++){if(t[m].value===l){t[m].selected=!0,o&&(t[m].defaultSelected=!0);return}r!==null||t[m].disabled||(r=t[m])}r!==null&&(r.selected=!0)}}function nr(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return V({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function qt(t,r){var l=r.value;if(l==null){if(l=r.children,r=r.defaultValue,l!=null){if(r!=null)throw Error(a(92));if(Jt(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),l=r}t._wrapperState={initialValue:fe(l)}}function sn(t,r){var l=fe(r.value),o=fe(r.defaultValue);l!=null&&(l=""+l,l!==t.value&&(t.value=l),r.defaultValue==null&&t.defaultValue!==l&&(t.defaultValue=l)),o!=null&&(t.defaultValue=""+o)}function bl(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function Ct(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ks(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?Ct(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var rn,Nl=(function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,l,o,m){MSApp.execUnsafeLocalFunction(function(){return t(r,l,o,m)})}:t})(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(rn=rn||document.createElement("div"),rn.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=rn.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Cs(t,r){if(r){var l=t.firstChild;if(l&&l===t.lastChild&&l.nodeType===3){l.nodeValue=r;return}}t.textContent=r}var Mr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wl=["Webkit","ms","Moz","O"];Object.keys(Mr).forEach(function(t){wl.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),Mr[r]=Mr[t]})});function nn(t,r,l){return r==null||typeof r=="boolean"||r===""?"":l||typeof r!="number"||r===0||Mr.hasOwnProperty(t)&&Mr[t]?(""+r).trim():r+"px"}function Ds(t,r){t=t.style;for(var l in r)if(r.hasOwnProperty(l)){var o=l.indexOf("--")===0,m=nn(l,r[l],o);l==="float"&&(l="cssFloat"),o?t.setProperty(l,m):t[l]=m}}var Sl=V({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Es(t,r){if(r){if(Sl[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function Wn(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kn=null;function an(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ln=null,ar=null,Ps=null;function cs(t){if(t=ha(t)){if(typeof ln!="function")throw Error(a(280));var r=t.stateNode;r&&(r=Kl(r),ln(t.stateNode,t.type,r))}}function kl(t){ar?Ps?Ps.push(t):Ps=[t]:ar=t}function Pe(){if(ar){var t=ar,r=Ps;if(Ps=ar=null,cs(t),r)for(t=0;t<r.length;t++)cs(r[t])}}function De(t,r){return t(r)}function $e(){}var Et=!1;function Rt(t,r,l){if(Et)return t(r,l);Et=!0;try{return De(t,r,l)}finally{Et=!1,(ar!==null||Ps!==null)&&($e(),Pe())}}function It(t,r){var l=t.stateNode;if(l===null)return null;var o=Kl(l);if(o===null)return null;l=o[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(l&&typeof l!="function")throw Error(a(231,r,typeof l));return l}var ds=!1;if(x)try{var ft={};Object.defineProperty(ft,"passive",{get:function(){ds=!0}}),window.addEventListener("test",ft,ft),window.removeEventListener("test",ft,ft)}catch{ds=!1}function Ts(t,r,l,o,m,h,P,z,U){var X=Array.prototype.slice.call(arguments,3);try{r.apply(l,X)}catch(re){this.onError(re)}}var Gn=!1,Cl=null,El=!1,$o=null,G0={onError:function(t){Gn=!0,Cl=t}};function Y0(t,r,l,o,m,h,P,z,U){Gn=!1,Cl=null,Ts.apply(G0,arguments)}function X0(t,r,l,o,m,h,P,z,U){if(Y0.apply(this,arguments),Gn){if(Gn){var X=Cl;Gn=!1,Cl=null}else throw Error(a(198));El||(El=!0,$o=X)}}function Or(t){var r=t,l=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(l=r.return),t=r.return;while(t)}return r.tag===3?l:null}function tm(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function sm(t){if(Or(t)!==t)throw Error(a(188))}function J0(t){var r=t.alternate;if(!r){if(r=Or(t),r===null)throw Error(a(188));return r!==t?null:t}for(var l=t,o=r;;){var m=l.return;if(m===null)break;var h=m.alternate;if(h===null){if(o=m.return,o!==null){l=o;continue}break}if(m.child===h.child){for(h=m.child;h;){if(h===l)return sm(m),t;if(h===o)return sm(m),r;h=h.sibling}throw Error(a(188))}if(l.return!==o.return)l=m,o=h;else{for(var P=!1,z=m.child;z;){if(z===l){P=!0,l=m,o=h;break}if(z===o){P=!0,o=m,l=h;break}z=z.sibling}if(!P){for(z=h.child;z;){if(z===l){P=!0,l=h,o=m;break}if(z===o){P=!0,o=h,l=m;break}z=z.sibling}if(!P)throw Error(a(189))}}if(l.alternate!==o)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?t:r}function rm(t){return t=J0(t),t!==null?nm(t):null}function nm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=nm(t);if(r!==null)return r;t=t.sibling}return null}var am=n.unstable_scheduleCallback,lm=n.unstable_cancelCallback,Z0=n.unstable_shouldYield,eg=n.unstable_requestPaint,Xe=n.unstable_now,tg=n.unstable_getCurrentPriorityLevel,qo=n.unstable_ImmediatePriority,im=n.unstable_UserBlockingPriority,Pl=n.unstable_NormalPriority,sg=n.unstable_LowPriority,om=n.unstable_IdlePriority,Tl=null,Rs=null;function rg(t){if(Rs&&typeof Rs.onCommitFiberRoot=="function")try{Rs.onCommitFiberRoot(Tl,t,void 0,(t.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:lg,ng=Math.log,ag=Math.LN2;function lg(t){return t>>>=0,t===0?32:31-(ng(t)/ag|0)|0}var Rl=64,Il=4194304;function Yn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _l(t,r){var l=t.pendingLanes;if(l===0)return 0;var o=0,m=t.suspendedLanes,h=t.pingedLanes,P=l&268435455;if(P!==0){var z=P&~m;z!==0?o=Yn(z):(h&=P,h!==0&&(o=Yn(h)))}else P=l&~m,P!==0?o=Yn(P):h!==0&&(o=Yn(h));if(o===0)return 0;if(r!==0&&r!==o&&(r&m)===0&&(m=o&-o,h=r&-r,m>=h||m===16&&(h&4194240)!==0))return r;if((o&4)!==0&&(o|=l&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=o;0<r;)l=31-us(r),m=1<<l,o|=t[l],r&=~m;return o}function ig(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function og(t,r){for(var l=t.suspendedLanes,o=t.pingedLanes,m=t.expirationTimes,h=t.pendingLanes;0<h;){var P=31-us(h),z=1<<P,U=m[P];U===-1?((z&l)===0||(z&o)!==0)&&(m[P]=ig(z,r)):U<=r&&(t.expiredLanes|=z),h&=~z}}function Uo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cm(){var t=Rl;return Rl<<=1,(Rl&4194240)===0&&(Rl=64),t}function Bo(t){for(var r=[],l=0;31>l;l++)r.push(t);return r}function Xn(t,r,l){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-us(r),t[r]=l}function cg(t,r){var l=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var o=t.eventTimes;for(t=t.expirationTimes;0<l;){var m=31-us(l),h=1<<m;r[m]=0,o[m]=-1,t[m]=-1,l&=~h}}function Qo(t,r){var l=t.entangledLanes|=r;for(t=t.entanglements;l;){var o=31-us(l),m=1<<o;m&r|t[o]&r&&(t[o]|=r),l&=~m}}var Fe=0;function dm(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var um,Ho,mm,fm,hm,Vo=!1,Ml=[],lr=null,ir=null,or=null,Jn=new Map,Zn=new Map,cr=[],dg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xm(t,r){switch(t){case"focusin":case"focusout":lr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":or=null;break;case"pointerover":case"pointerout":Jn.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zn.delete(r.pointerId)}}function ea(t,r,l,o,m,h){return t===null||t.nativeEvent!==h?(t={blockedOn:r,domEventName:l,eventSystemFlags:o,nativeEvent:h,targetContainers:[m]},r!==null&&(r=ha(r),r!==null&&Ho(r)),t):(t.eventSystemFlags|=o,r=t.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),t)}function ug(t,r,l,o,m){switch(r){case"focusin":return lr=ea(lr,t,r,l,o,m),!0;case"dragenter":return ir=ea(ir,t,r,l,o,m),!0;case"mouseover":return or=ea(or,t,r,l,o,m),!0;case"pointerover":var h=m.pointerId;return Jn.set(h,ea(Jn.get(h)||null,t,r,l,o,m)),!0;case"gotpointercapture":return h=m.pointerId,Zn.set(h,ea(Zn.get(h)||null,t,r,l,o,m)),!0}return!1}function pm(t){var r=Lr(t.target);if(r!==null){var l=Or(r);if(l!==null){if(r=l.tag,r===13){if(r=tm(l),r!==null){t.blockedOn=r,hm(t.priority,function(){mm(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){t.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ol(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var l=Ko(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(l===null){l=t.nativeEvent;var o=new l.constructor(l.type,l);Kn=o,l.target.dispatchEvent(o),Kn=null}else return r=ha(l),r!==null&&Ho(r),t.blockedOn=l,!1;r.shift()}return!0}function gm(t,r,l){Ol(t)&&l.delete(r)}function mg(){Vo=!1,lr!==null&&Ol(lr)&&(lr=null),ir!==null&&Ol(ir)&&(ir=null),or!==null&&Ol(or)&&(or=null),Jn.forEach(gm),Zn.forEach(gm)}function ta(t,r){t.blockedOn===r&&(t.blockedOn=null,Vo||(Vo=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,mg)))}function sa(t){function r(m){return ta(m,t)}if(0<Ml.length){ta(Ml[0],t);for(var l=1;l<Ml.length;l++){var o=Ml[l];o.blockedOn===t&&(o.blockedOn=null)}}for(lr!==null&&ta(lr,t),ir!==null&&ta(ir,t),or!==null&&ta(or,t),Jn.forEach(r),Zn.forEach(r),l=0;l<cr.length;l++)o=cr[l],o.blockedOn===t&&(o.blockedOn=null);for(;0<cr.length&&(l=cr[0],l.blockedOn===null);)pm(l),l.blockedOn===null&&cr.shift()}var on=R.ReactCurrentBatchConfig,Ll=!0;function fg(t,r,l,o){var m=Fe,h=on.transition;on.transition=null;try{Fe=1,Wo(t,r,l,o)}finally{Fe=m,on.transition=h}}function hg(t,r,l,o){var m=Fe,h=on.transition;on.transition=null;try{Fe=4,Wo(t,r,l,o)}finally{Fe=m,on.transition=h}}function Wo(t,r,l,o){if(Ll){var m=Ko(t,r,l,o);if(m===null)uc(t,r,o,Dl,l),xm(t,o);else if(ug(m,t,r,l,o))o.stopPropagation();else if(xm(t,o),r&4&&-1<dg.indexOf(t)){for(;m!==null;){var h=ha(m);if(h!==null&&um(h),h=Ko(t,r,l,o),h===null&&uc(t,r,o,Dl,l),h===m)break;m=h}m!==null&&o.stopPropagation()}else uc(t,r,o,null,l)}}var Dl=null;function Ko(t,r,l,o){if(Dl=null,t=an(o),t=Lr(t),t!==null)if(r=Or(t),r===null)t=null;else if(l=r.tag,l===13){if(t=tm(r),t!==null)return t;t=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Dl=t,null}function ym(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(tg()){case qo:return 1;case im:return 4;case Pl:case sg:return 16;case om:return 536870912;default:return 16}default:return 16}}var dr=null,Go=null,Al=null;function vm(){if(Al)return Al;var t,r=Go,l=r.length,o,m="value"in dr?dr.value:dr.textContent,h=m.length;for(t=0;t<l&&r[t]===m[t];t++);var P=l-t;for(o=1;o<=P&&r[l-o]===m[h-o];o++);return Al=m.slice(t,1<o?1-o:void 0)}function Fl(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function zl(){return!0}function jm(){return!1}function Ut(t){function r(l,o,m,h,P){this._reactName=l,this._targetInst=m,this.type=o,this.nativeEvent=h,this.target=P,this.currentTarget=null;for(var z in t)t.hasOwnProperty(z)&&(l=t[z],this[z]=l?l(h):h[z]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?zl:jm,this.isPropagationStopped=jm,this}return V(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=zl)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=zl)},persist:function(){},isPersistent:zl}),r}var cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Ut(cn),ra=V({},cn,{view:0,detail:0}),xg=Ut(ra),Xo,Jo,na,$l=V({},ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ec,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==na&&(na&&t.type==="mousemove"?(Xo=t.screenX-na.screenX,Jo=t.screenY-na.screenY):Jo=Xo=0,na=t),Xo)},movementY:function(t){return"movementY"in t?t.movementY:Jo}}),bm=Ut($l),pg=V({},$l,{dataTransfer:0}),gg=Ut(pg),yg=V({},ra,{relatedTarget:0}),Zo=Ut(yg),vg=V({},cn,{animationName:0,elapsedTime:0,pseudoElement:0}),jg=Ut(vg),bg=V({},cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ng=Ut(bg),wg=V({},cn,{data:0}),Nm=Ut(wg),Sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eg(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Cg[t])?!!r[t]:!1}function ec(){return Eg}var Pg=V({},ra,{key:function(t){if(t.key){var r=Sg[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=Fl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kg[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ec,charCode:function(t){return t.type==="keypress"?Fl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Tg=Ut(Pg),Rg=V({},$l,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Ut(Rg),Ig=V({},ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ec}),_g=Ut(Ig),Mg=V({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Og=Ut(Mg),Lg=V({},$l,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Dg=Ut(Lg),Ag=[9,13,27,32],tc=x&&"CompositionEvent"in window,aa=null;x&&"documentMode"in document&&(aa=document.documentMode);var Fg=x&&"TextEvent"in window&&!aa,Sm=x&&(!tc||aa&&8<aa&&11>=aa),km=" ",Cm=!1;function Em(t,r){switch(t){case"keyup":return Ag.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pm(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var dn=!1;function zg(t,r){switch(t){case"compositionend":return Pm(r);case"keypress":return r.which!==32?null:(Cm=!0,km);case"textInput":return t=r.data,t===km&&Cm?null:t;default:return null}}function $g(t,r){if(dn)return t==="compositionend"||!tc&&Em(t,r)?(t=vm(),Al=Go=dr=null,dn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Sm&&r.locale!=="ko"?null:r.data;default:return null}}var qg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!qg[t.type]:r==="textarea"}function Rm(t,r,l,o){kl(o),r=Hl(r,"onChange"),0<r.length&&(l=new Yo("onChange","change",null,l,o),t.push({event:l,listeners:r}))}var la=null,ia=null;function Ug(t){Km(t,0)}function ql(t){var r=xn(t);if(Re(r))return t}function Bg(t,r){if(t==="change")return r}var Im=!1;if(x){var sc;if(x){var rc="oninput"in document;if(!rc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),rc=typeof _m.oninput=="function"}sc=rc}else sc=!1;Im=sc&&(!document.documentMode||9<document.documentMode)}function Mm(){la&&(la.detachEvent("onpropertychange",Om),ia=la=null)}function Om(t){if(t.propertyName==="value"&&ql(ia)){var r=[];Rm(r,ia,t,an(t)),Rt(Ug,r)}}function Qg(t,r,l){t==="focusin"?(Mm(),la=r,ia=l,la.attachEvent("onpropertychange",Om)):t==="focusout"&&Mm()}function Hg(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql(ia)}function Vg(t,r){if(t==="click")return ql(r)}function Wg(t,r){if(t==="input"||t==="change")return ql(r)}function Kg(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var ms=typeof Object.is=="function"?Object.is:Kg;function oa(t,r){if(ms(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var l=Object.keys(t),o=Object.keys(r);if(l.length!==o.length)return!1;for(o=0;o<l.length;o++){var m=l[o];if(!f.call(r,m)||!ms(t[m],r[m]))return!1}return!0}function Lm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dm(t,r){var l=Lm(t);t=0;for(var o;l;){if(l.nodeType===3){if(o=t+l.textContent.length,t<=r&&o>=r)return{node:l,offset:r-t};t=o}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=Lm(l)}}function Am(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Am(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Fm(){for(var t=window,r=ot();r instanceof t.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)t=r.contentWindow;else break;r=ot(t.document)}return r}function nc(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function Gg(t){var r=Fm(),l=t.focusedElem,o=t.selectionRange;if(r!==l&&l&&l.ownerDocument&&Am(l.ownerDocument.documentElement,l)){if(o!==null&&nc(l)){if(r=o.start,t=o.end,t===void 0&&(t=r),"selectionStart"in l)l.selectionStart=r,l.selectionEnd=Math.min(t,l.value.length);else if(t=(r=l.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var m=l.textContent.length,h=Math.min(o.start,m);o=o.end===void 0?h:Math.min(o.end,m),!t.extend&&h>o&&(m=o,o=h,h=m),m=Dm(l,h);var P=Dm(l,o);m&&P&&(t.rangeCount!==1||t.anchorNode!==m.node||t.anchorOffset!==m.offset||t.focusNode!==P.node||t.focusOffset!==P.offset)&&(r=r.createRange(),r.setStart(m.node,m.offset),t.removeAllRanges(),h>o?(t.addRange(r),t.extend(P.node,P.offset)):(r.setEnd(P.node,P.offset),t.addRange(r)))}}for(r=[],t=l;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<r.length;l++)t=r[l],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yg=x&&"documentMode"in document&&11>=document.documentMode,un=null,ac=null,ca=null,lc=!1;function zm(t,r,l){var o=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;lc||un==null||un!==ot(o)||(o=un,"selectionStart"in o&&nc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ca&&oa(ca,o)||(ca=o,o=Hl(ac,"onSelect"),0<o.length&&(r=new Yo("onSelect","select",null,r,l),t.push({event:r,listeners:o}),r.target=un)))}function Ul(t,r){var l={};return l[t.toLowerCase()]=r.toLowerCase(),l["Webkit"+t]="webkit"+r,l["Moz"+t]="moz"+r,l}var mn={animationend:Ul("Animation","AnimationEnd"),animationiteration:Ul("Animation","AnimationIteration"),animationstart:Ul("Animation","AnimationStart"),transitionend:Ul("Transition","TransitionEnd")},ic={},$m={};x&&($m=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function Bl(t){if(ic[t])return ic[t];if(!mn[t])return t;var r=mn[t],l;for(l in r)if(r.hasOwnProperty(l)&&l in $m)return ic[t]=r[l];return t}var qm=Bl("animationend"),Um=Bl("animationiteration"),Bm=Bl("animationstart"),Qm=Bl("transitionend"),Hm=new Map,Vm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ur(t,r){Hm.set(t,r),d(r,[t])}for(var oc=0;oc<Vm.length;oc++){var cc=Vm[oc],Xg=cc.toLowerCase(),Jg=cc[0].toUpperCase()+cc.slice(1);ur(Xg,"on"+Jg)}ur(qm,"onAnimationEnd"),ur(Um,"onAnimationIteration"),ur(Bm,"onAnimationStart"),ur("dblclick","onDoubleClick"),ur("focusin","onFocus"),ur("focusout","onBlur"),ur(Qm,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),d("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),d("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),d("onBeforeInput",["compositionend","keypress","textInput","paste"]),d("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),d("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var da="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zg=new Set("cancel close invalid load scroll toggle".split(" ").concat(da));function Wm(t,r,l){var o=t.type||"unknown-event";t.currentTarget=l,X0(o,r,void 0,t),t.currentTarget=null}function Km(t,r){r=(r&4)!==0;for(var l=0;l<t.length;l++){var o=t[l],m=o.event;o=o.listeners;e:{var h=void 0;if(r)for(var P=o.length-1;0<=P;P--){var z=o[P],U=z.instance,X=z.currentTarget;if(z=z.listener,U!==h&&m.isPropagationStopped())break e;Wm(m,z,X),h=U}else for(P=0;P<o.length;P++){if(z=o[P],U=z.instance,X=z.currentTarget,z=z.listener,U!==h&&m.isPropagationStopped())break e;Wm(m,z,X),h=U}}}if(El)throw t=$o,El=!1,$o=null,t}function Ue(t,r){var l=r[gc];l===void 0&&(l=r[gc]=new Set);var o=t+"__bubble";l.has(o)||(Gm(r,t,2,!1),l.add(o))}function dc(t,r,l){var o=0;r&&(o|=4),Gm(l,t,o,r)}var Ql="_reactListening"+Math.random().toString(36).slice(2);function ua(t){if(!t[Ql]){t[Ql]=!0,i.forEach(function(l){l!=="selectionchange"&&(Zg.has(l)||dc(l,!1,t),dc(l,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Ql]||(r[Ql]=!0,dc("selectionchange",!1,r))}}function Gm(t,r,l,o){switch(ym(r)){case 1:var m=fg;break;case 4:m=hg;break;default:m=Wo}l=m.bind(null,r,l,t),m=void 0,!ds||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),o?m!==void 0?t.addEventListener(r,l,{capture:!0,passive:m}):t.addEventListener(r,l,!0):m!==void 0?t.addEventListener(r,l,{passive:m}):t.addEventListener(r,l,!1)}function uc(t,r,l,o,m){var h=o;if((r&1)===0&&(r&2)===0&&o!==null)e:for(;;){if(o===null)return;var P=o.tag;if(P===3||P===4){var z=o.stateNode.containerInfo;if(z===m||z.nodeType===8&&z.parentNode===m)break;if(P===4)for(P=o.return;P!==null;){var U=P.tag;if((U===3||U===4)&&(U=P.stateNode.containerInfo,U===m||U.nodeType===8&&U.parentNode===m))return;P=P.return}for(;z!==null;){if(P=Lr(z),P===null)return;if(U=P.tag,U===5||U===6){o=h=P;continue e}z=z.parentNode}}o=o.return}Rt(function(){var X=h,re=an(l),le=[];e:{var te=Hm.get(t);if(te!==void 0){var xe=Yo,ve=t;switch(t){case"keypress":if(Fl(l)===0)break e;case"keydown":case"keyup":xe=Tg;break;case"focusin":ve="focus",xe=Zo;break;case"focusout":ve="blur",xe=Zo;break;case"beforeblur":case"afterblur":xe=Zo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=bm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=gg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=_g;break;case qm:case Um:case Bm:xe=jg;break;case Qm:xe=Og;break;case"scroll":xe=xg;break;case"wheel":xe=Dg;break;case"copy":case"cut":case"paste":xe=Ng;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=wm}var je=(r&4)!==0,Je=!je&&t==="scroll",K=je?te!==null?te+"Capture":null:te;je=[];for(var Q=X,G;Q!==null;){G=Q;var de=G.stateNode;if(G.tag===5&&de!==null&&(G=de,K!==null&&(de=It(Q,K),de!=null&&je.push(ma(Q,de,G)))),Je)break;Q=Q.return}0<je.length&&(te=new xe(te,ve,null,l,re),le.push({event:te,listeners:je}))}}if((r&7)===0){e:{if(te=t==="mouseover"||t==="pointerover",xe=t==="mouseout"||t==="pointerout",te&&l!==Kn&&(ve=l.relatedTarget||l.fromElement)&&(Lr(ve)||ve[As]))break e;if((xe||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,xe?(ve=l.relatedTarget||l.toElement,xe=X,ve=ve?Lr(ve):null,ve!==null&&(Je=Or(ve),ve!==Je||ve.tag!==5&&ve.tag!==6)&&(ve=null)):(xe=null,ve=X),xe!==ve)){if(je=bm,de="onMouseLeave",K="onMouseEnter",Q="mouse",(t==="pointerout"||t==="pointerover")&&(je=wm,de="onPointerLeave",K="onPointerEnter",Q="pointer"),Je=xe==null?te:xn(xe),G=ve==null?te:xn(ve),te=new je(de,Q+"leave",xe,l,re),te.target=Je,te.relatedTarget=G,de=null,Lr(re)===X&&(je=new je(K,Q+"enter",ve,l,re),je.target=G,je.relatedTarget=Je,de=je),Je=de,xe&&ve)t:{for(je=xe,K=ve,Q=0,G=je;G;G=fn(G))Q++;for(G=0,de=K;de;de=fn(de))G++;for(;0<Q-G;)je=fn(je),Q--;for(;0<G-Q;)K=fn(K),G--;for(;Q--;){if(je===K||K!==null&&je===K.alternate)break t;je=fn(je),K=fn(K)}je=null}else je=null;xe!==null&&Ym(le,te,xe,je,!1),ve!==null&&Je!==null&&Ym(le,Je,ve,je,!0)}}e:{if(te=X?xn(X):window,xe=te.nodeName&&te.nodeName.toLowerCase(),xe==="select"||xe==="input"&&te.type==="file")var be=Bg;else if(Tm(te))if(Im)be=Wg;else{be=Hg;var we=Qg}else(xe=te.nodeName)&&xe.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(be=Vg);if(be&&(be=be(t,X))){Rm(le,be,l,re);break e}we&&we(t,te,X),t==="focusout"&&(we=te._wrapperState)&&we.controlled&&te.type==="number"&&Xt(te,"number",te.value)}switch(we=X?xn(X):window,t){case"focusin":(Tm(we)||we.contentEditable==="true")&&(un=we,ac=X,ca=null);break;case"focusout":ca=ac=un=null;break;case"mousedown":lc=!0;break;case"contextmenu":case"mouseup":case"dragend":lc=!1,zm(le,l,re);break;case"selectionchange":if(Yg)break;case"keydown":case"keyup":zm(le,l,re)}var Se;if(tc)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else dn?Em(t,l)&&(Ee="onCompositionEnd"):t==="keydown"&&l.keyCode===229&&(Ee="onCompositionStart");Ee&&(Sm&&l.locale!=="ko"&&(dn||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&dn&&(Se=vm()):(dr=re,Go="value"in dr?dr.value:dr.textContent,dn=!0)),we=Hl(X,Ee),0<we.length&&(Ee=new Nm(Ee,t,null,l,re),le.push({event:Ee,listeners:we}),Se?Ee.data=Se:(Se=Pm(l),Se!==null&&(Ee.data=Se)))),(Se=Fg?zg(t,l):$g(t,l))&&(X=Hl(X,"onBeforeInput"),0<X.length&&(re=new Nm("onBeforeInput","beforeinput",null,l,re),le.push({event:re,listeners:X}),re.data=Se))}Km(le,r)})}function ma(t,r,l){return{instance:t,listener:r,currentTarget:l}}function Hl(t,r){for(var l=r+"Capture",o=[];t!==null;){var m=t,h=m.stateNode;m.tag===5&&h!==null&&(m=h,h=It(t,l),h!=null&&o.unshift(ma(t,h,m)),h=It(t,r),h!=null&&o.push(ma(t,h,m))),t=t.return}return o}function fn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ym(t,r,l,o,m){for(var h=r._reactName,P=[];l!==null&&l!==o;){var z=l,U=z.alternate,X=z.stateNode;if(U!==null&&U===o)break;z.tag===5&&X!==null&&(z=X,m?(U=It(l,h),U!=null&&P.unshift(ma(l,U,z))):m||(U=It(l,h),U!=null&&P.push(ma(l,U,z)))),l=l.return}P.length!==0&&t.push({event:r,listeners:P})}var ey=/\r\n?/g,ty=/\u0000|\uFFFD/g;function Xm(t){return(typeof t=="string"?t:""+t).replace(ey,`
`).replace(ty,"")}function Vl(t,r,l){if(r=Xm(r),Xm(t)!==r&&l)throw Error(a(425))}function Wl(){}var mc=null,fc=null;function hc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var xc=typeof setTimeout=="function"?setTimeout:void 0,sy=typeof clearTimeout=="function"?clearTimeout:void 0,Jm=typeof Promise=="function"?Promise:void 0,ry=typeof queueMicrotask=="function"?queueMicrotask:typeof Jm<"u"?function(t){return Jm.resolve(null).then(t).catch(ny)}:xc;function ny(t){setTimeout(function(){throw t})}function pc(t,r){var l=r,o=0;do{var m=l.nextSibling;if(t.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(o===0){t.removeChild(m),sa(r);return}o--}else l!=="$"&&l!=="$?"&&l!=="$!"||o++;l=m}while(l);sa(r)}function mr(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function Zm(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="$"||l==="$!"||l==="$?"){if(r===0)return t;r--}else l==="/$"&&r++}t=t.previousSibling}return null}var hn=Math.random().toString(36).slice(2),Is="__reactFiber$"+hn,fa="__reactProps$"+hn,As="__reactContainer$"+hn,gc="__reactEvents$"+hn,ay="__reactListeners$"+hn,ly="__reactHandles$"+hn;function Lr(t){var r=t[Is];if(r)return r;for(var l=t.parentNode;l;){if(r=l[As]||l[Is]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(t=Zm(t);t!==null;){if(l=t[Is])return l;t=Zm(t)}return r}t=l,l=t.parentNode}return null}function ha(t){return t=t[Is]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function xn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(a(33))}function Kl(t){return t[fa]||null}var yc=[],pn=-1;function fr(t){return{current:t}}function Be(t){0>pn||(t.current=yc[pn],yc[pn]=null,pn--)}function qe(t,r){pn++,yc[pn]=t.current,t.current=r}var hr={},jt=fr(hr),_t=fr(!1),Dr=hr;function gn(t,r){var l=t.type.contextTypes;if(!l)return hr;var o=t.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===r)return o.__reactInternalMemoizedMaskedChildContext;var m={},h;for(h in l)m[h]=r[h];return o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=m),m}function Mt(t){return t=t.childContextTypes,t!=null}function Gl(){Be(_t),Be(jt)}function ef(t,r,l){if(jt.current!==hr)throw Error(a(168));qe(jt,r),qe(_t,l)}function tf(t,r,l){var o=t.stateNode;if(r=r.childContextTypes,typeof o.getChildContext!="function")return l;o=o.getChildContext();for(var m in o)if(!(m in r))throw Error(a(108,ce(t)||"Unknown",m));return V({},l,o)}function Yl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hr,Dr=jt.current,qe(jt,t),qe(_t,_t.current),!0}function sf(t,r,l){var o=t.stateNode;if(!o)throw Error(a(169));l?(t=tf(t,r,Dr),o.__reactInternalMemoizedMergedChildContext=t,Be(_t),Be(jt),qe(jt,t)):Be(_t),qe(_t,l)}var Fs=null,Xl=!1,vc=!1;function rf(t){Fs===null?Fs=[t]:Fs.push(t)}function iy(t){Xl=!0,rf(t)}function xr(){if(!vc&&Fs!==null){vc=!0;var t=0,r=Fe;try{var l=Fs;for(Fe=1;t<l.length;t++){var o=l[t];do o=o(!0);while(o!==null)}Fs=null,Xl=!1}catch(m){throw Fs!==null&&(Fs=Fs.slice(t+1)),am(qo,xr),m}finally{Fe=r,vc=!1}}return null}var yn=[],vn=0,Jl=null,Zl=0,Zt=[],es=0,Ar=null,zs=1,$s="";function Fr(t,r){yn[vn++]=Zl,yn[vn++]=Jl,Jl=t,Zl=r}function nf(t,r,l){Zt[es++]=zs,Zt[es++]=$s,Zt[es++]=Ar,Ar=t;var o=zs;t=$s;var m=32-us(o)-1;o&=~(1<<m),l+=1;var h=32-us(r)+m;if(30<h){var P=m-m%5;h=(o&(1<<P)-1).toString(32),o>>=P,m-=P,zs=1<<32-us(r)+m|l<<m|o,$s=h+t}else zs=1<<h|l<<m|o,$s=t}function jc(t){t.return!==null&&(Fr(t,1),nf(t,1,0))}function bc(t){for(;t===Jl;)Jl=yn[--vn],yn[vn]=null,Zl=yn[--vn],yn[vn]=null;for(;t===Ar;)Ar=Zt[--es],Zt[es]=null,$s=Zt[--es],Zt[es]=null,zs=Zt[--es],Zt[es]=null}var Bt=null,Qt=null,Qe=!1,fs=null;function af(t,r){var l=ns(5,null,null,0);l.elementType="DELETED",l.stateNode=r,l.return=t,r=t.deletions,r===null?(t.deletions=[l],t.flags|=16):r.push(l)}function lf(t,r){switch(t.tag){case 5:var l=t.type;return r=r.nodeType!==1||l.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Bt=t,Qt=mr(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Bt=t,Qt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(l=Ar!==null?{id:zs,overflow:$s}:null,t.memoizedState={dehydrated:r,treeContext:l,retryLane:1073741824},l=ns(18,null,null,0),l.stateNode=r,l.return=t,t.child=l,Bt=t,Qt=null,!0):!1;default:return!1}}function Nc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wc(t){if(Qe){var r=Qt;if(r){var l=r;if(!lf(t,r)){if(Nc(t))throw Error(a(418));r=mr(l.nextSibling);var o=Bt;r&&lf(t,r)?af(o,l):(t.flags=t.flags&-4097|2,Qe=!1,Bt=t)}}else{if(Nc(t))throw Error(a(418));t.flags=t.flags&-4097|2,Qe=!1,Bt=t}}}function of(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bt=t}function ei(t){if(t!==Bt)return!1;if(!Qe)return of(t),Qe=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!hc(t.type,t.memoizedProps)),r&&(r=Qt)){if(Nc(t))throw cf(),Error(a(418));for(;r;)af(t,r),r=mr(r.nextSibling)}if(of(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var l=t.data;if(l==="/$"){if(r===0){Qt=mr(t.nextSibling);break e}r--}else l!=="$"&&l!=="$!"&&l!=="$?"||r++}t=t.nextSibling}Qt=null}}else Qt=Bt?mr(t.stateNode.nextSibling):null;return!0}function cf(){for(var t=Qt;t;)t=mr(t.nextSibling)}function jn(){Qt=Bt=null,Qe=!1}function Sc(t){fs===null?fs=[t]:fs.push(t)}var oy=R.ReactCurrentBatchConfig;function xa(t,r,l){if(t=l.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(a(309));var o=l.stateNode}if(!o)throw Error(a(147,t));var m=o,h=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===h?r.ref:(r=function(P){var z=m.refs;P===null?delete z[h]:z[h]=P},r._stringRef=h,r)}if(typeof t!="string")throw Error(a(284));if(!l._owner)throw Error(a(290,t))}return t}function ti(t,r){throw t=Object.prototype.toString.call(r),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function df(t){var r=t._init;return r(t._payload)}function uf(t){function r(K,Q){if(t){var G=K.deletions;G===null?(K.deletions=[Q],K.flags|=16):G.push(Q)}}function l(K,Q){if(!t)return null;for(;Q!==null;)r(K,Q),Q=Q.sibling;return null}function o(K,Q){for(K=new Map;Q!==null;)Q.key!==null?K.set(Q.key,Q):K.set(Q.index,Q),Q=Q.sibling;return K}function m(K,Q){return K=wr(K,Q),K.index=0,K.sibling=null,K}function h(K,Q,G){return K.index=G,t?(G=K.alternate,G!==null?(G=G.index,G<Q?(K.flags|=2,Q):G):(K.flags|=2,Q)):(K.flags|=1048576,Q)}function P(K){return t&&K.alternate===null&&(K.flags|=2),K}function z(K,Q,G,de){return Q===null||Q.tag!==6?(Q=xd(G,K.mode,de),Q.return=K,Q):(Q=m(Q,G),Q.return=K,Q)}function U(K,Q,G,de){var be=G.type;return be===O?re(K,Q,G.props.children,de,G.key):Q!==null&&(Q.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Z&&df(be)===Q.type)?(de=m(Q,G.props),de.ref=xa(K,Q,G),de.return=K,de):(de=ki(G.type,G.key,G.props,null,K.mode,de),de.ref=xa(K,Q,G),de.return=K,de)}function X(K,Q,G,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==G.containerInfo||Q.stateNode.implementation!==G.implementation?(Q=pd(G,K.mode,de),Q.return=K,Q):(Q=m(Q,G.children||[]),Q.return=K,Q)}function re(K,Q,G,de,be){return Q===null||Q.tag!==7?(Q=Vr(G,K.mode,de,be),Q.return=K,Q):(Q=m(Q,G),Q.return=K,Q)}function le(K,Q,G){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=xd(""+Q,K.mode,G),Q.return=K,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case b:return G=ki(Q.type,Q.key,Q.props,null,K.mode,G),G.ref=xa(K,null,Q),G.return=K,G;case E:return Q=pd(Q,K.mode,G),Q.return=K,Q;case Z:var de=Q._init;return le(K,de(Q._payload),G)}if(Jt(Q)||H(Q))return Q=Vr(Q,K.mode,G,null),Q.return=K,Q;ti(K,Q)}return null}function te(K,Q,G,de){var be=Q!==null?Q.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return be!==null?null:z(K,Q,""+G,de);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return G.key===be?U(K,Q,G,de):null;case E:return G.key===be?X(K,Q,G,de):null;case Z:return be=G._init,te(K,Q,be(G._payload),de)}if(Jt(G)||H(G))return be!==null?null:re(K,Q,G,de,null);ti(K,G)}return null}function xe(K,Q,G,de,be){if(typeof de=="string"&&de!==""||typeof de=="number")return K=K.get(G)||null,z(Q,K,""+de,be);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return K=K.get(de.key===null?G:de.key)||null,U(Q,K,de,be);case E:return K=K.get(de.key===null?G:de.key)||null,X(Q,K,de,be);case Z:var we=de._init;return xe(K,Q,G,we(de._payload),be)}if(Jt(de)||H(de))return K=K.get(G)||null,re(Q,K,de,be,null);ti(Q,de)}return null}function ve(K,Q,G,de){for(var be=null,we=null,Se=Q,Ee=Q=0,ut=null;Se!==null&&Ee<G.length;Ee++){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var Le=te(K,Se,G[Ee],de);if(Le===null){Se===null&&(Se=ut);break}t&&Se&&Le.alternate===null&&r(K,Se),Q=h(Le,Q,Ee),we===null?be=Le:we.sibling=Le,we=Le,Se=ut}if(Ee===G.length)return l(K,Se),Qe&&Fr(K,Ee),be;if(Se===null){for(;Ee<G.length;Ee++)Se=le(K,G[Ee],de),Se!==null&&(Q=h(Se,Q,Ee),we===null?be=Se:we.sibling=Se,we=Se);return Qe&&Fr(K,Ee),be}for(Se=o(K,Se);Ee<G.length;Ee++)ut=xe(Se,K,Ee,G[Ee],de),ut!==null&&(t&&ut.alternate!==null&&Se.delete(ut.key===null?Ee:ut.key),Q=h(ut,Q,Ee),we===null?be=ut:we.sibling=ut,we=ut);return t&&Se.forEach(function(Sr){return r(K,Sr)}),Qe&&Fr(K,Ee),be}function je(K,Q,G,de){var be=H(G);if(typeof be!="function")throw Error(a(150));if(G=be.call(G),G==null)throw Error(a(151));for(var we=be=null,Se=Q,Ee=Q=0,ut=null,Le=G.next();Se!==null&&!Le.done;Ee++,Le=G.next()){Se.index>Ee?(ut=Se,Se=null):ut=Se.sibling;var Sr=te(K,Se,Le.value,de);if(Sr===null){Se===null&&(Se=ut);break}t&&Se&&Sr.alternate===null&&r(K,Se),Q=h(Sr,Q,Ee),we===null?be=Sr:we.sibling=Sr,we=Sr,Se=ut}if(Le.done)return l(K,Se),Qe&&Fr(K,Ee),be;if(Se===null){for(;!Le.done;Ee++,Le=G.next())Le=le(K,Le.value,de),Le!==null&&(Q=h(Le,Q,Ee),we===null?be=Le:we.sibling=Le,we=Le);return Qe&&Fr(K,Ee),be}for(Se=o(K,Se);!Le.done;Ee++,Le=G.next())Le=xe(Se,K,Ee,Le.value,de),Le!==null&&(t&&Le.alternate!==null&&Se.delete(Le.key===null?Ee:Le.key),Q=h(Le,Q,Ee),we===null?be=Le:we.sibling=Le,we=Le);return t&&Se.forEach(function(qy){return r(K,qy)}),Qe&&Fr(K,Ee),be}function Je(K,Q,G,de){if(typeof G=="object"&&G!==null&&G.type===O&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case b:e:{for(var be=G.key,we=Q;we!==null;){if(we.key===be){if(be=G.type,be===O){if(we.tag===7){l(K,we.sibling),Q=m(we,G.props.children),Q.return=K,K=Q;break e}}else if(we.elementType===be||typeof be=="object"&&be!==null&&be.$$typeof===Z&&df(be)===we.type){l(K,we.sibling),Q=m(we,G.props),Q.ref=xa(K,we,G),Q.return=K,K=Q;break e}l(K,we);break}else r(K,we);we=we.sibling}G.type===O?(Q=Vr(G.props.children,K.mode,de,G.key),Q.return=K,K=Q):(de=ki(G.type,G.key,G.props,null,K.mode,de),de.ref=xa(K,Q,G),de.return=K,K=de)}return P(K);case E:e:{for(we=G.key;Q!==null;){if(Q.key===we)if(Q.tag===4&&Q.stateNode.containerInfo===G.containerInfo&&Q.stateNode.implementation===G.implementation){l(K,Q.sibling),Q=m(Q,G.children||[]),Q.return=K,K=Q;break e}else{l(K,Q);break}else r(K,Q);Q=Q.sibling}Q=pd(G,K.mode,de),Q.return=K,K=Q}return P(K);case Z:return we=G._init,Je(K,Q,we(G._payload),de)}if(Jt(G))return ve(K,Q,G,de);if(H(G))return je(K,Q,G,de);ti(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,Q!==null&&Q.tag===6?(l(K,Q.sibling),Q=m(Q,G),Q.return=K,K=Q):(l(K,Q),Q=xd(G,K.mode,de),Q.return=K,K=Q),P(K)):l(K,Q)}return Je}var bn=uf(!0),mf=uf(!1),si=fr(null),ri=null,Nn=null,kc=null;function Cc(){kc=Nn=ri=null}function Ec(t){var r=si.current;Be(si),t._currentValue=r}function Pc(t,r,l){for(;t!==null;){var o=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,o!==null&&(o.childLanes|=r)):o!==null&&(o.childLanes&r)!==r&&(o.childLanes|=r),t===l)break;t=t.return}}function wn(t,r){ri=t,kc=Nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(Ot=!0),t.firstContext=null)}function ts(t){var r=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:r,next:null},Nn===null){if(ri===null)throw Error(a(308));Nn=t,ri.dependencies={lanes:0,firstContext:t}}else Nn=Nn.next=t;return r}var zr=null;function Tc(t){zr===null?zr=[t]:zr.push(t)}function ff(t,r,l,o){var m=r.interleaved;return m===null?(l.next=l,Tc(r)):(l.next=m.next,m.next=l),r.interleaved=l,qs(t,o)}function qs(t,r){t.lanes|=r;var l=t.alternate;for(l!==null&&(l.lanes|=r),l=t,t=t.return;t!==null;)t.childLanes|=r,l=t.alternate,l!==null&&(l.childLanes|=r),l=t,t=t.return;return l.tag===3?l.stateNode:null}var pr=!1;function Rc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Us(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function gr(t,r,l){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Me&2)!==0){var m=o.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),o.pending=r,qs(t,l)}return m=o.interleaved,m===null?(r.next=r,Tc(o)):(r.next=m.next,m.next=r),o.interleaved=r,qs(t,l)}function ni(t,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194240)!==0)){var o=r.lanes;o&=t.pendingLanes,l|=o,r.lanes=l,Qo(t,l)}}function xf(t,r){var l=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,l===o)){var m=null,h=null;if(l=l.firstBaseUpdate,l!==null){do{var P={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};h===null?m=h=P:h=h.next=P,l=l.next}while(l!==null);h===null?m=h=r:h=h.next=r}else m=h=r;l={baseState:o.baseState,firstBaseUpdate:m,lastBaseUpdate:h,shared:o.shared,effects:o.effects},t.updateQueue=l;return}t=l.lastBaseUpdate,t===null?l.firstBaseUpdate=r:t.next=r,l.lastBaseUpdate=r}function ai(t,r,l,o){var m=t.updateQueue;pr=!1;var h=m.firstBaseUpdate,P=m.lastBaseUpdate,z=m.shared.pending;if(z!==null){m.shared.pending=null;var U=z,X=U.next;U.next=null,P===null?h=X:P.next=X,P=U;var re=t.alternate;re!==null&&(re=re.updateQueue,z=re.lastBaseUpdate,z!==P&&(z===null?re.firstBaseUpdate=X:z.next=X,re.lastBaseUpdate=U))}if(h!==null){var le=m.baseState;P=0,re=X=U=null,z=h;do{var te=z.lane,xe=z.eventTime;if((o&te)===te){re!==null&&(re=re.next={eventTime:xe,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var ve=t,je=z;switch(te=r,xe=l,je.tag){case 1:if(ve=je.payload,typeof ve=="function"){le=ve.call(xe,le,te);break e}le=ve;break e;case 3:ve.flags=ve.flags&-65537|128;case 0:if(ve=je.payload,te=typeof ve=="function"?ve.call(xe,le,te):ve,te==null)break e;le=V({},le,te);break e;case 2:pr=!0}}z.callback!==null&&z.lane!==0&&(t.flags|=64,te=m.effects,te===null?m.effects=[z]:te.push(z))}else xe={eventTime:xe,lane:te,tag:z.tag,payload:z.payload,callback:z.callback,next:null},re===null?(X=re=xe,U=le):re=re.next=xe,P|=te;if(z=z.next,z===null){if(z=m.shared.pending,z===null)break;te=z,z=te.next,te.next=null,m.lastBaseUpdate=te,m.shared.pending=null}}while(!0);if(re===null&&(U=le),m.baseState=U,m.firstBaseUpdate=X,m.lastBaseUpdate=re,r=m.shared.interleaved,r!==null){m=r;do P|=m.lane,m=m.next;while(m!==r)}else h===null&&(m.shared.lanes=0);Ur|=P,t.lanes=P,t.memoizedState=le}}function pf(t,r,l){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var o=t[r],m=o.callback;if(m!==null){if(o.callback=null,o=l,typeof m!="function")throw Error(a(191,m));m.call(o)}}}var pa={},_s=fr(pa),ga=fr(pa),ya=fr(pa);function $r(t){if(t===pa)throw Error(a(174));return t}function Ic(t,r){switch(qe(ya,r),qe(ga,t),qe(_s,pa),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ks(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ks(r,t)}Be(_s),qe(_s,r)}function Sn(){Be(_s),Be(ga),Be(ya)}function gf(t){$r(ya.current);var r=$r(_s.current),l=ks(r,t.type);r!==l&&(qe(ga,t),qe(_s,l))}function _c(t){ga.current===t&&(Be(_s),Be(ga))}var Ve=fr(0);function li(t){for(var r=t;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Mc=[];function Oc(){for(var t=0;t<Mc.length;t++)Mc[t]._workInProgressVersionPrimary=null;Mc.length=0}var ii=R.ReactCurrentDispatcher,Lc=R.ReactCurrentBatchConfig,qr=0,We=null,lt=null,ct=null,oi=!1,va=!1,ja=0,cy=0;function bt(){throw Error(a(321))}function Dc(t,r){if(r===null)return!1;for(var l=0;l<r.length&&l<t.length;l++)if(!ms(t[l],r[l]))return!1;return!0}function Ac(t,r,l,o,m,h){if(qr=h,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,ii.current=t===null||t.memoizedState===null?fy:hy,t=l(o,m),va){h=0;do{if(va=!1,ja=0,25<=h)throw Error(a(301));h+=1,ct=lt=null,r.updateQueue=null,ii.current=xy,t=l(o,m)}while(va)}if(ii.current=ui,r=lt!==null&&lt.next!==null,qr=0,ct=lt=We=null,oi=!1,r)throw Error(a(300));return t}function Fc(){var t=ja!==0;return ja=0,t}function Ms(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?We.memoizedState=ct=t:ct=ct.next=t,ct}function ss(){if(lt===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var r=ct===null?We.memoizedState:ct.next;if(r!==null)ct=r,lt=t;else{if(t===null)throw Error(a(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ct===null?We.memoizedState=ct=t:ct=ct.next=t}return ct}function ba(t,r){return typeof r=="function"?r(t):r}function zc(t){var r=ss(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var o=lt,m=o.baseQueue,h=l.pending;if(h!==null){if(m!==null){var P=m.next;m.next=h.next,h.next=P}o.baseQueue=m=h,l.pending=null}if(m!==null){h=m.next,o=o.baseState;var z=P=null,U=null,X=h;do{var re=X.lane;if((qr&re)===re)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),o=X.hasEagerState?X.eagerState:t(o,X.action);else{var le={lane:re,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(z=U=le,P=o):U=U.next=le,We.lanes|=re,Ur|=re}X=X.next}while(X!==null&&X!==h);U===null?P=o:U.next=z,ms(o,r.memoizedState)||(Ot=!0),r.memoizedState=o,r.baseState=P,r.baseQueue=U,l.lastRenderedState=o}if(t=l.interleaved,t!==null){m=t;do h=m.lane,We.lanes|=h,Ur|=h,m=m.next;while(m!==t)}else m===null&&(l.lanes=0);return[r.memoizedState,l.dispatch]}function $c(t){var r=ss(),l=r.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=t;var o=l.dispatch,m=l.pending,h=r.memoizedState;if(m!==null){l.pending=null;var P=m=m.next;do h=t(h,P.action),P=P.next;while(P!==m);ms(h,r.memoizedState)||(Ot=!0),r.memoizedState=h,r.baseQueue===null&&(r.baseState=h),l.lastRenderedState=h}return[h,o]}function yf(){}function vf(t,r){var l=We,o=ss(),m=r(),h=!ms(o.memoizedState,m);if(h&&(o.memoizedState=m,Ot=!0),o=o.queue,qc(Nf.bind(null,l,o,t),[t]),o.getSnapshot!==r||h||ct!==null&&ct.memoizedState.tag&1){if(l.flags|=2048,Na(9,bf.bind(null,l,o,m,r),void 0,null),dt===null)throw Error(a(349));(qr&30)!==0||jf(l,r,m)}return m}function jf(t,r,l){t.flags|=16384,t={getSnapshot:r,value:l},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.stores=[t]):(l=r.stores,l===null?r.stores=[t]:l.push(t))}function bf(t,r,l,o){r.value=l,r.getSnapshot=o,wf(r)&&Sf(t)}function Nf(t,r,l){return l(function(){wf(r)&&Sf(t)})}function wf(t){var r=t.getSnapshot;t=t.value;try{var l=r();return!ms(t,l)}catch{return!0}}function Sf(t){var r=qs(t,1);r!==null&&gs(r,t,1,-1)}function kf(t){var r=Ms();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:t},r.queue=t,t=t.dispatch=my.bind(null,We,t),[r.memoizedState,t]}function Na(t,r,l,o){return t={tag:t,create:r,destroy:l,deps:o,next:null},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.lastEffect=t.next=t):(l=r.lastEffect,l===null?r.lastEffect=t.next=t:(o=l.next,l.next=t,t.next=o,r.lastEffect=t)),t}function Cf(){return ss().memoizedState}function ci(t,r,l,o){var m=Ms();We.flags|=t,m.memoizedState=Na(1|r,l,void 0,o===void 0?null:o)}function di(t,r,l,o){var m=ss();o=o===void 0?null:o;var h=void 0;if(lt!==null){var P=lt.memoizedState;if(h=P.destroy,o!==null&&Dc(o,P.deps)){m.memoizedState=Na(r,l,h,o);return}}We.flags|=t,m.memoizedState=Na(1|r,l,h,o)}function Ef(t,r){return ci(8390656,8,t,r)}function qc(t,r){return di(2048,8,t,r)}function Pf(t,r){return di(4,2,t,r)}function Tf(t,r){return di(4,4,t,r)}function Rf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function If(t,r,l){return l=l!=null?l.concat([t]):null,di(4,4,Rf.bind(null,r,t),l)}function Uc(){}function _f(t,r){var l=ss();r=r===void 0?null:r;var o=l.memoizedState;return o!==null&&r!==null&&Dc(r,o[1])?o[0]:(l.memoizedState=[t,r],t)}function Mf(t,r){var l=ss();r=r===void 0?null:r;var o=l.memoizedState;return o!==null&&r!==null&&Dc(r,o[1])?o[0]:(t=t(),l.memoizedState=[t,r],t)}function Of(t,r,l){return(qr&21)===0?(t.baseState&&(t.baseState=!1,Ot=!0),t.memoizedState=l):(ms(l,r)||(l=cm(),We.lanes|=l,Ur|=l,t.baseState=!0),r)}function dy(t,r){var l=Fe;Fe=l!==0&&4>l?l:4,t(!0);var o=Lc.transition;Lc.transition={};try{t(!1),r()}finally{Fe=l,Lc.transition=o}}function Lf(){return ss().memoizedState}function uy(t,r,l){var o=br(t);if(l={lane:o,action:l,hasEagerState:!1,eagerState:null,next:null},Df(t))Af(r,l);else if(l=ff(t,r,l,o),l!==null){var m=Tt();gs(l,t,o,m),Ff(l,r,o)}}function my(t,r,l){var o=br(t),m={lane:o,action:l,hasEagerState:!1,eagerState:null,next:null};if(Df(t))Af(r,m);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=r.lastRenderedReducer,h!==null))try{var P=r.lastRenderedState,z=h(P,l);if(m.hasEagerState=!0,m.eagerState=z,ms(z,P)){var U=r.interleaved;U===null?(m.next=m,Tc(r)):(m.next=U.next,U.next=m),r.interleaved=m;return}}catch{}finally{}l=ff(t,r,m,o),l!==null&&(m=Tt(),gs(l,t,o,m),Ff(l,r,o))}}function Df(t){var r=t.alternate;return t===We||r!==null&&r===We}function Af(t,r){va=oi=!0;var l=t.pending;l===null?r.next=r:(r.next=l.next,l.next=r),t.pending=r}function Ff(t,r,l){if((l&4194240)!==0){var o=r.lanes;o&=t.pendingLanes,l|=o,r.lanes=l,Qo(t,l)}}var ui={readContext:ts,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},fy={readContext:ts,useCallback:function(t,r){return Ms().memoizedState=[t,r===void 0?null:r],t},useContext:ts,useEffect:Ef,useImperativeHandle:function(t,r,l){return l=l!=null?l.concat([t]):null,ci(4194308,4,Rf.bind(null,r,t),l)},useLayoutEffect:function(t,r){return ci(4194308,4,t,r)},useInsertionEffect:function(t,r){return ci(4,2,t,r)},useMemo:function(t,r){var l=Ms();return r=r===void 0?null:r,t=t(),l.memoizedState=[t,r],t},useReducer:function(t,r,l){var o=Ms();return r=l!==void 0?l(r):r,o.memoizedState=o.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},o.queue=t,t=t.dispatch=uy.bind(null,We,t),[o.memoizedState,t]},useRef:function(t){var r=Ms();return t={current:t},r.memoizedState=t},useState:kf,useDebugValue:Uc,useDeferredValue:function(t){return Ms().memoizedState=t},useTransition:function(){var t=kf(!1),r=t[0];return t=dy.bind(null,t[1]),Ms().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,l){var o=We,m=Ms();if(Qe){if(l===void 0)throw Error(a(407));l=l()}else{if(l=r(),dt===null)throw Error(a(349));(qr&30)!==0||jf(o,r,l)}m.memoizedState=l;var h={value:l,getSnapshot:r};return m.queue=h,Ef(Nf.bind(null,o,h,t),[t]),o.flags|=2048,Na(9,bf.bind(null,o,h,l,r),void 0,null),l},useId:function(){var t=Ms(),r=dt.identifierPrefix;if(Qe){var l=$s,o=zs;l=(o&~(1<<32-us(o)-1)).toString(32)+l,r=":"+r+"R"+l,l=ja++,0<l&&(r+="H"+l.toString(32)),r+=":"}else l=cy++,r=":"+r+"r"+l.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},hy={readContext:ts,useCallback:_f,useContext:ts,useEffect:qc,useImperativeHandle:If,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:Mf,useReducer:zc,useRef:Cf,useState:function(){return zc(ba)},useDebugValue:Uc,useDeferredValue:function(t){var r=ss();return Of(r,lt.memoizedState,t)},useTransition:function(){var t=zc(ba)[0],r=ss().memoizedState;return[t,r]},useMutableSource:yf,useSyncExternalStore:vf,useId:Lf,unstable_isNewReconciler:!1},xy={readContext:ts,useCallback:_f,useContext:ts,useEffect:qc,useImperativeHandle:If,useInsertionEffect:Pf,useLayoutEffect:Tf,useMemo:Mf,useReducer:$c,useRef:Cf,useState:function(){return $c(ba)},useDebugValue:Uc,useDeferredValue:function(t){var r=ss();return lt===null?r.memoizedState=t:Of(r,lt.memoizedState,t)},useTransition:function(){var t=$c(ba)[0],r=ss().memoizedState;return[t,r]},useMutableSource:yf,useSyncExternalStore:vf,useId:Lf,unstable_isNewReconciler:!1};function hs(t,r){if(t&&t.defaultProps){r=V({},r),t=t.defaultProps;for(var l in t)r[l]===void 0&&(r[l]=t[l]);return r}return r}function Bc(t,r,l,o){r=t.memoizedState,l=l(o,r),l=l==null?r:V({},r,l),t.memoizedState=l,t.lanes===0&&(t.updateQueue.baseState=l)}var mi={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,r,l){t=t._reactInternals;var o=Tt(),m=br(t),h=Us(o,m);h.payload=r,l!=null&&(h.callback=l),r=gr(t,h,m),r!==null&&(gs(r,t,m,o),ni(r,t,m))},enqueueReplaceState:function(t,r,l){t=t._reactInternals;var o=Tt(),m=br(t),h=Us(o,m);h.tag=1,h.payload=r,l!=null&&(h.callback=l),r=gr(t,h,m),r!==null&&(gs(r,t,m,o),ni(r,t,m))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var l=Tt(),o=br(t),m=Us(l,o);m.tag=2,r!=null&&(m.callback=r),r=gr(t,m,o),r!==null&&(gs(r,t,o,l),ni(r,t,o))}};function zf(t,r,l,o,m,h,P){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,P):r.prototype&&r.prototype.isPureReactComponent?!oa(l,o)||!oa(m,h):!0}function $f(t,r,l){var o=!1,m=hr,h=r.contextType;return typeof h=="object"&&h!==null?h=ts(h):(m=Mt(r)?Dr:jt.current,o=r.contextTypes,h=(o=o!=null)?gn(t,m):hr),r=new r(l,h),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=mi,t.stateNode=r,r._reactInternals=t,o&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=m,t.__reactInternalMemoizedMaskedChildContext=h),r}function qf(t,r,l,o){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,o),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,o),r.state!==t&&mi.enqueueReplaceState(r,r.state,null)}function Qc(t,r,l,o){var m=t.stateNode;m.props=l,m.state=t.memoizedState,m.refs={},Rc(t);var h=r.contextType;typeof h=="object"&&h!==null?m.context=ts(h):(h=Mt(r)?Dr:jt.current,m.context=gn(t,h)),m.state=t.memoizedState,h=r.getDerivedStateFromProps,typeof h=="function"&&(Bc(t,r,h,l),m.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(r=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),r!==m.state&&mi.enqueueReplaceState(m,m.state,null),ai(t,l,m,o),m.state=t.memoizedState),typeof m.componentDidMount=="function"&&(t.flags|=4194308)}function kn(t,r){try{var l="",o=r;do l+=ie(o),o=o.return;while(o);var m=l}catch(h){m=`
Error generating stack: `+h.message+`
`+h.stack}return{value:t,source:r,stack:m,digest:null}}function Hc(t,r,l){return{value:t,source:null,stack:l??null,digest:r??null}}function Vc(t,r){try{console.error(r.value)}catch(l){setTimeout(function(){throw l})}}var py=typeof WeakMap=="function"?WeakMap:Map;function Uf(t,r,l){l=Us(-1,l),l.tag=3,l.payload={element:null};var o=r.value;return l.callback=function(){vi||(vi=!0,id=o),Vc(t,r)},l}function Bf(t,r,l){l=Us(-1,l),l.tag=3;var o=t.type.getDerivedStateFromError;if(typeof o=="function"){var m=r.value;l.payload=function(){return o(m)},l.callback=function(){Vc(t,r)}}var h=t.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(l.callback=function(){Vc(t,r),typeof o!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var P=r.stack;this.componentDidCatch(r.value,{componentStack:P!==null?P:""})}),l}function Qf(t,r,l){var o=t.pingCache;if(o===null){o=t.pingCache=new py;var m=new Set;o.set(r,m)}else m=o.get(r),m===void 0&&(m=new Set,o.set(r,m));m.has(l)||(m.add(l),t=Ry.bind(null,t,r,l),r.then(t,t))}function Hf(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function Vf(t,r,l,o,m){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(r=Us(-1,1),r.tag=2,gr(l,r,1))),l.lanes|=1),t):(t.flags|=65536,t.lanes=m,t)}var gy=R.ReactCurrentOwner,Ot=!1;function Pt(t,r,l,o){r.child=t===null?mf(r,null,l,o):bn(r,t.child,l,o)}function Wf(t,r,l,o,m){l=l.render;var h=r.ref;return wn(r,m),o=Ac(t,r,l,o,h,m),l=Fc(),t!==null&&!Ot?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~m,Bs(t,r,m)):(Qe&&l&&jc(r),r.flags|=1,Pt(t,r,o,m),r.child)}function Kf(t,r,l,o,m){if(t===null){var h=l.type;return typeof h=="function"&&!hd(h)&&h.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(r.tag=15,r.type=h,Gf(t,r,h,o,m)):(t=ki(l.type,null,o,r,r.mode,m),t.ref=r.ref,t.return=r,r.child=t)}if(h=t.child,(t.lanes&m)===0){var P=h.memoizedProps;if(l=l.compare,l=l!==null?l:oa,l(P,o)&&t.ref===r.ref)return Bs(t,r,m)}return r.flags|=1,t=wr(h,o),t.ref=r.ref,t.return=r,r.child=t}function Gf(t,r,l,o,m){if(t!==null){var h=t.memoizedProps;if(oa(h,o)&&t.ref===r.ref)if(Ot=!1,r.pendingProps=o=h,(t.lanes&m)!==0)(t.flags&131072)!==0&&(Ot=!0);else return r.lanes=t.lanes,Bs(t,r,m)}return Wc(t,r,l,o,m)}function Yf(t,r,l){var o=r.pendingProps,m=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(En,Ht),Ht|=l;else{if((l&1073741824)===0)return t=h!==null?h.baseLanes|l:l,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(En,Ht),Ht|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=h!==null?h.baseLanes:l,qe(En,Ht),Ht|=o}else h!==null?(o=h.baseLanes|l,r.memoizedState=null):o=l,qe(En,Ht),Ht|=o;return Pt(t,r,m,l),r.child}function Xf(t,r){var l=r.ref;(t===null&&l!==null||t!==null&&t.ref!==l)&&(r.flags|=512,r.flags|=2097152)}function Wc(t,r,l,o,m){var h=Mt(l)?Dr:jt.current;return h=gn(r,h),wn(r,m),l=Ac(t,r,l,o,h,m),o=Fc(),t!==null&&!Ot?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~m,Bs(t,r,m)):(Qe&&o&&jc(r),r.flags|=1,Pt(t,r,l,m),r.child)}function Jf(t,r,l,o,m){if(Mt(l)){var h=!0;Yl(r)}else h=!1;if(wn(r,m),r.stateNode===null)hi(t,r),$f(r,l,o),Qc(r,l,o,m),o=!0;else if(t===null){var P=r.stateNode,z=r.memoizedProps;P.props=z;var U=P.context,X=l.contextType;typeof X=="object"&&X!==null?X=ts(X):(X=Mt(l)?Dr:jt.current,X=gn(r,X));var re=l.getDerivedStateFromProps,le=typeof re=="function"||typeof P.getSnapshotBeforeUpdate=="function";le||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==o||U!==X)&&qf(r,P,o,X),pr=!1;var te=r.memoizedState;P.state=te,ai(r,o,P,m),U=r.memoizedState,z!==o||te!==U||_t.current||pr?(typeof re=="function"&&(Bc(r,l,re,o),U=r.memoizedState),(z=pr||zf(r,l,z,o,te,U,X))?(le||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount()),typeof P.componentDidMount=="function"&&(r.flags|=4194308)):(typeof P.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=o,r.memoizedState=U),P.props=o,P.state=U,P.context=X,o=z):(typeof P.componentDidMount=="function"&&(r.flags|=4194308),o=!1)}else{P=r.stateNode,hf(t,r),z=r.memoizedProps,X=r.type===r.elementType?z:hs(r.type,z),P.props=X,le=r.pendingProps,te=P.context,U=l.contextType,typeof U=="object"&&U!==null?U=ts(U):(U=Mt(l)?Dr:jt.current,U=gn(r,U));var xe=l.getDerivedStateFromProps;(re=typeof xe=="function"||typeof P.getSnapshotBeforeUpdate=="function")||typeof P.UNSAFE_componentWillReceiveProps!="function"&&typeof P.componentWillReceiveProps!="function"||(z!==le||te!==U)&&qf(r,P,o,U),pr=!1,te=r.memoizedState,P.state=te,ai(r,o,P,m);var ve=r.memoizedState;z!==le||te!==ve||_t.current||pr?(typeof xe=="function"&&(Bc(r,l,xe,o),ve=r.memoizedState),(X=pr||zf(r,l,X,o,te,ve,U)||!1)?(re||typeof P.UNSAFE_componentWillUpdate!="function"&&typeof P.componentWillUpdate!="function"||(typeof P.componentWillUpdate=="function"&&P.componentWillUpdate(o,ve,U),typeof P.UNSAFE_componentWillUpdate=="function"&&P.UNSAFE_componentWillUpdate(o,ve,U)),typeof P.componentDidUpdate=="function"&&(r.flags|=4),typeof P.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof P.componentDidUpdate!="function"||z===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),r.memoizedProps=o,r.memoizedState=ve),P.props=o,P.state=ve,P.context=U,o=X):(typeof P.componentDidUpdate!="function"||z===t.memoizedProps&&te===t.memoizedState||(r.flags|=4),typeof P.getSnapshotBeforeUpdate!="function"||z===t.memoizedProps&&te===t.memoizedState||(r.flags|=1024),o=!1)}return Kc(t,r,l,o,h,m)}function Kc(t,r,l,o,m,h){Xf(t,r);var P=(r.flags&128)!==0;if(!o&&!P)return m&&sf(r,l,!1),Bs(t,r,h);o=r.stateNode,gy.current=r;var z=P&&typeof l.getDerivedStateFromError!="function"?null:o.render();return r.flags|=1,t!==null&&P?(r.child=bn(r,t.child,null,h),r.child=bn(r,null,z,h)):Pt(t,r,z,h),r.memoizedState=o.state,m&&sf(r,l,!0),r.child}function Zf(t){var r=t.stateNode;r.pendingContext?ef(t,r.pendingContext,r.pendingContext!==r.context):r.context&&ef(t,r.context,!1),Ic(t,r.containerInfo)}function eh(t,r,l,o,m){return jn(),Sc(m),r.flags|=256,Pt(t,r,l,o),r.child}var Gc={dehydrated:null,treeContext:null,retryLane:0};function Yc(t){return{baseLanes:t,cachePool:null,transitions:null}}function th(t,r,l){var o=r.pendingProps,m=Ve.current,h=!1,P=(r.flags&128)!==0,z;if((z=P)||(z=t!==null&&t.memoizedState===null?!1:(m&2)!==0),z?(h=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(m|=1),qe(Ve,m&1),t===null)return wc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(P=o.children,t=o.fallback,h?(o=r.mode,h=r.child,P={mode:"hidden",children:P},(o&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=P):h=Ci(P,o,0,null),t=Vr(t,o,l,null),h.return=r,t.return=r,h.sibling=t,r.child=h,r.child.memoizedState=Yc(l),r.memoizedState=Gc,t):Xc(r,P));if(m=t.memoizedState,m!==null&&(z=m.dehydrated,z!==null))return yy(t,r,P,o,z,m,l);if(h){h=o.fallback,P=r.mode,m=t.child,z=m.sibling;var U={mode:"hidden",children:o.children};return(P&1)===0&&r.child!==m?(o=r.child,o.childLanes=0,o.pendingProps=U,r.deletions=null):(o=wr(m,U),o.subtreeFlags=m.subtreeFlags&14680064),z!==null?h=wr(z,h):(h=Vr(h,P,l,null),h.flags|=2),h.return=r,o.return=r,o.sibling=h,r.child=o,o=h,h=r.child,P=t.child.memoizedState,P=P===null?Yc(l):{baseLanes:P.baseLanes|l,cachePool:null,transitions:P.transitions},h.memoizedState=P,h.childLanes=t.childLanes&~l,r.memoizedState=Gc,o}return h=t.child,t=h.sibling,o=wr(h,{mode:"visible",children:o.children}),(r.mode&1)===0&&(o.lanes=l),o.return=r,o.sibling=null,t!==null&&(l=r.deletions,l===null?(r.deletions=[t],r.flags|=16):l.push(t)),r.child=o,r.memoizedState=null,o}function Xc(t,r){return r=Ci({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function fi(t,r,l,o){return o!==null&&Sc(o),bn(r,t.child,null,l),t=Xc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function yy(t,r,l,o,m,h,P){if(l)return r.flags&256?(r.flags&=-257,o=Hc(Error(a(422))),fi(t,r,P,o)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(h=o.fallback,m=r.mode,o=Ci({mode:"visible",children:o.children},m,0,null),h=Vr(h,m,P,null),h.flags|=2,o.return=r,h.return=r,o.sibling=h,r.child=o,(r.mode&1)!==0&&bn(r,t.child,null,P),r.child.memoizedState=Yc(P),r.memoizedState=Gc,h);if((r.mode&1)===0)return fi(t,r,P,null);if(m.data==="$!"){if(o=m.nextSibling&&m.nextSibling.dataset,o)var z=o.dgst;return o=z,h=Error(a(419)),o=Hc(h,o,void 0),fi(t,r,P,o)}if(z=(P&t.childLanes)!==0,Ot||z){if(o=dt,o!==null){switch(P&-P){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(o.suspendedLanes|P))!==0?0:m,m!==0&&m!==h.retryLane&&(h.retryLane=m,qs(t,m),gs(o,t,m,-1))}return fd(),o=Hc(Error(a(421))),fi(t,r,P,o)}return m.data==="$?"?(r.flags|=128,r.child=t.child,r=Iy.bind(null,t),m._reactRetry=r,null):(t=h.treeContext,Qt=mr(m.nextSibling),Bt=r,Qe=!0,fs=null,t!==null&&(Zt[es++]=zs,Zt[es++]=$s,Zt[es++]=Ar,zs=t.id,$s=t.overflow,Ar=r),r=Xc(r,o.children),r.flags|=4096,r)}function sh(t,r,l){t.lanes|=r;var o=t.alternate;o!==null&&(o.lanes|=r),Pc(t.return,r,l)}function Jc(t,r,l,o,m){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:o,tail:l,tailMode:m}:(h.isBackwards=r,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=l,h.tailMode=m)}function rh(t,r,l){var o=r.pendingProps,m=o.revealOrder,h=o.tail;if(Pt(t,r,o.children,l),o=Ve.current,(o&2)!==0)o=o&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&sh(t,l,r);else if(t.tag===19)sh(t,l,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}if(qe(Ve,o),(r.mode&1)===0)r.memoizedState=null;else switch(m){case"forwards":for(l=r.child,m=null;l!==null;)t=l.alternate,t!==null&&li(t)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Jc(r,!1,m,l,h);break;case"backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(t=m.alternate,t!==null&&li(t)===null){r.child=m;break}t=m.sibling,m.sibling=l,l=m,m=t}Jc(r,!0,l,null,h);break;case"together":Jc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function hi(t,r){(r.mode&1)===0&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function Bs(t,r,l){if(t!==null&&(r.dependencies=t.dependencies),Ur|=r.lanes,(l&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(a(153));if(r.child!==null){for(t=r.child,l=wr(t,t.pendingProps),r.child=l,l.return=r;t.sibling!==null;)t=t.sibling,l=l.sibling=wr(t,t.pendingProps),l.return=r;l.sibling=null}return r.child}function vy(t,r,l){switch(r.tag){case 3:Zf(r),jn();break;case 5:gf(r);break;case 1:Mt(r.type)&&Yl(r);break;case 4:Ic(r,r.stateNode.containerInfo);break;case 10:var o=r.type._context,m=r.memoizedProps.value;qe(si,o._currentValue),o._currentValue=m;break;case 13:if(o=r.memoizedState,o!==null)return o.dehydrated!==null?(qe(Ve,Ve.current&1),r.flags|=128,null):(l&r.child.childLanes)!==0?th(t,r,l):(qe(Ve,Ve.current&1),t=Bs(t,r,l),t!==null?t.sibling:null);qe(Ve,Ve.current&1);break;case 19:if(o=(l&r.childLanes)!==0,(t.flags&128)!==0){if(o)return rh(t,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),qe(Ve,Ve.current),o)break;return null;case 22:case 23:return r.lanes=0,Yf(t,r,l)}return Bs(t,r,l)}var nh,Zc,ah,lh;nh=function(t,r){for(var l=r.child;l!==null;){if(l.tag===5||l.tag===6)t.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===r)break;for(;l.sibling===null;){if(l.return===null||l.return===r)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Zc=function(){},ah=function(t,r,l,o){var m=t.memoizedProps;if(m!==o){t=r.stateNode,$r(_s.current);var h=null;switch(l){case"input":m=ye(t,m),o=ye(t,o),h=[];break;case"select":m=V({},m,{value:void 0}),o=V({},o,{value:void 0}),h=[];break;case"textarea":m=nr(t,m),o=nr(t,o),h=[];break;default:typeof m.onClick!="function"&&typeof o.onClick=="function"&&(t.onclick=Wl)}Es(l,o);var P;l=null;for(X in m)if(!o.hasOwnProperty(X)&&m.hasOwnProperty(X)&&m[X]!=null)if(X==="style"){var z=m[X];for(P in z)z.hasOwnProperty(P)&&(l||(l={}),l[P]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(c.hasOwnProperty(X)?h||(h=[]):(h=h||[]).push(X,null));for(X in o){var U=o[X];if(z=m!=null?m[X]:void 0,o.hasOwnProperty(X)&&U!==z&&(U!=null||z!=null))if(X==="style")if(z){for(P in z)!z.hasOwnProperty(P)||U&&U.hasOwnProperty(P)||(l||(l={}),l[P]="");for(P in U)U.hasOwnProperty(P)&&z[P]!==U[P]&&(l||(l={}),l[P]=U[P])}else l||(h||(h=[]),h.push(X,l)),l=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,z=z?z.__html:void 0,U!=null&&z!==U&&(h=h||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(h=h||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(c.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&Ue("scroll",t),h||z===U||(h=[])):(h=h||[]).push(X,U))}l&&(h=h||[]).push("style",l);var X=h;(r.updateQueue=X)&&(r.flags|=4)}},lh=function(t,r,l,o){l!==o&&(r.flags|=4)};function wa(t,r){if(!Qe)switch(t.tailMode){case"hidden":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?t.tail=null:l.sibling=null;break;case"collapsed":l=t.tail;for(var o=null;l!==null;)l.alternate!==null&&(o=l),l=l.sibling;o===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function Nt(t){var r=t.alternate!==null&&t.alternate.child===t.child,l=0,o=0;if(r)for(var m=t.child;m!==null;)l|=m.lanes|m.childLanes,o|=m.subtreeFlags&14680064,o|=m.flags&14680064,m.return=t,m=m.sibling;else for(m=t.child;m!==null;)l|=m.lanes|m.childLanes,o|=m.subtreeFlags,o|=m.flags,m.return=t,m=m.sibling;return t.subtreeFlags|=o,t.childLanes=l,r}function jy(t,r,l){var o=r.pendingProps;switch(bc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(r),null;case 1:return Mt(r.type)&&Gl(),Nt(r),null;case 3:return o=r.stateNode,Sn(),Be(_t),Be(jt),Oc(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(ei(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,fs!==null&&(dd(fs),fs=null))),Zc(t,r),Nt(r),null;case 5:_c(r);var m=$r(ya.current);if(l=r.type,t!==null&&r.stateNode!=null)ah(t,r,l,o,m),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!o){if(r.stateNode===null)throw Error(a(166));return Nt(r),null}if(t=$r(_s.current),ei(r)){o=r.stateNode,l=r.type;var h=r.memoizedProps;switch(o[Is]=r,o[fa]=h,t=(r.mode&1)!==0,l){case"dialog":Ue("cancel",o),Ue("close",o);break;case"iframe":case"object":case"embed":Ue("load",o);break;case"video":case"audio":for(m=0;m<da.length;m++)Ue(da[m],o);break;case"source":Ue("error",o);break;case"img":case"image":case"link":Ue("error",o),Ue("load",o);break;case"details":Ue("toggle",o);break;case"input":St(o,h),Ue("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!h.multiple},Ue("invalid",o);break;case"textarea":qt(o,h),Ue("invalid",o)}Es(l,h),m=null;for(var P in h)if(h.hasOwnProperty(P)){var z=h[P];P==="children"?typeof z=="string"?o.textContent!==z&&(h.suppressHydrationWarning!==!0&&Vl(o.textContent,z,t),m=["children",z]):typeof z=="number"&&o.textContent!==""+z&&(h.suppressHydrationWarning!==!0&&Vl(o.textContent,z,t),m=["children",""+z]):c.hasOwnProperty(P)&&z!=null&&P==="onScroll"&&Ue("scroll",o)}switch(l){case"input":Ce(o),rt(o,h,!0);break;case"textarea":Ce(o),bl(o);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(o.onclick=Wl)}o=m,r.updateQueue=o,o!==null&&(r.flags|=4)}else{P=m.nodeType===9?m:m.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Ct(l)),t==="http://www.w3.org/1999/xhtml"?l==="script"?(t=P.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof o.is=="string"?t=P.createElement(l,{is:o.is}):(t=P.createElement(l),l==="select"&&(P=t,o.multiple?P.multiple=!0:o.size&&(P.size=o.size))):t=P.createElementNS(t,l),t[Is]=r,t[fa]=o,nh(t,r,!1,!1),r.stateNode=t;e:{switch(P=Wn(l,o),l){case"dialog":Ue("cancel",t),Ue("close",t),m=o;break;case"iframe":case"object":case"embed":Ue("load",t),m=o;break;case"video":case"audio":for(m=0;m<da.length;m++)Ue(da[m],t);m=o;break;case"source":Ue("error",t),m=o;break;case"img":case"image":case"link":Ue("error",t),Ue("load",t),m=o;break;case"details":Ue("toggle",t),m=o;break;case"input":St(t,o),m=ye(t,o),Ue("invalid",t);break;case"option":m=o;break;case"select":t._wrapperState={wasMultiple:!!o.multiple},m=V({},o,{value:void 0}),Ue("invalid",t);break;case"textarea":qt(t,o),m=nr(t,o),Ue("invalid",t);break;default:m=o}Es(l,m),z=m;for(h in z)if(z.hasOwnProperty(h)){var U=z[h];h==="style"?Ds(t,U):h==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&Nl(t,U)):h==="children"?typeof U=="string"?(l!=="textarea"||U!=="")&&Cs(t,U):typeof U=="number"&&Cs(t,""+U):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(c.hasOwnProperty(h)?U!=null&&h==="onScroll"&&Ue("scroll",t):U!=null&&k(t,h,U,P))}switch(l){case"input":Ce(t),rt(t,o,!1);break;case"textarea":Ce(t),bl(t);break;case"option":o.value!=null&&t.setAttribute("value",""+fe(o.value));break;case"select":t.multiple=!!o.multiple,h=o.value,h!=null?vt(t,!!o.multiple,h,!1):o.defaultValue!=null&&vt(t,!!o.multiple,o.defaultValue,!0);break;default:typeof m.onClick=="function"&&(t.onclick=Wl)}switch(l){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Nt(r),null;case 6:if(t&&r.stateNode!=null)lh(t,r,t.memoizedProps,o);else{if(typeof o!="string"&&r.stateNode===null)throw Error(a(166));if(l=$r(ya.current),$r(_s.current),ei(r)){if(o=r.stateNode,l=r.memoizedProps,o[Is]=r,(h=o.nodeValue!==l)&&(t=Bt,t!==null))switch(t.tag){case 3:Vl(o.nodeValue,l,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vl(o.nodeValue,l,(t.mode&1)!==0)}h&&(r.flags|=4)}else o=(l.nodeType===9?l:l.ownerDocument).createTextNode(o),o[Is]=r,r.stateNode=o}return Nt(r),null;case 13:if(Be(Ve),o=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&Qt!==null&&(r.mode&1)!==0&&(r.flags&128)===0)cf(),jn(),r.flags|=98560,h=!1;else if(h=ei(r),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(a(318));if(h=r.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Is]=r}else jn(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Nt(r),h=!1}else fs!==null&&(dd(fs),fs=null),h=!0;if(!h)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=l,r):(o=o!==null,o!==(t!==null&&t.memoizedState!==null)&&o&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||(Ve.current&1)!==0?it===0&&(it=3):fd())),r.updateQueue!==null&&(r.flags|=4),Nt(r),null);case 4:return Sn(),Zc(t,r),t===null&&ua(r.stateNode.containerInfo),Nt(r),null;case 10:return Ec(r.type._context),Nt(r),null;case 17:return Mt(r.type)&&Gl(),Nt(r),null;case 19:if(Be(Ve),h=r.memoizedState,h===null)return Nt(r),null;if(o=(r.flags&128)!==0,P=h.rendering,P===null)if(o)wa(h,!1);else{if(it!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(P=li(t),P!==null){for(r.flags|=128,wa(h,!1),o=P.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),r.subtreeFlags=0,o=l,l=r.child;l!==null;)h=l,t=o,h.flags&=14680066,P=h.alternate,P===null?(h.childLanes=0,h.lanes=t,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=P.childLanes,h.lanes=P.lanes,h.child=P.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=P.memoizedProps,h.memoizedState=P.memoizedState,h.updateQueue=P.updateQueue,h.type=P.type,t=P.dependencies,h.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),l=l.sibling;return qe(Ve,Ve.current&1|2),r.child}t=t.sibling}h.tail!==null&&Xe()>Pn&&(r.flags|=128,o=!0,wa(h,!1),r.lanes=4194304)}else{if(!o)if(t=li(P),t!==null){if(r.flags|=128,o=!0,l=t.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),wa(h,!0),h.tail===null&&h.tailMode==="hidden"&&!P.alternate&&!Qe)return Nt(r),null}else 2*Xe()-h.renderingStartTime>Pn&&l!==1073741824&&(r.flags|=128,o=!0,wa(h,!1),r.lanes=4194304);h.isBackwards?(P.sibling=r.child,r.child=P):(l=h.last,l!==null?l.sibling=P:r.child=P,h.last=P)}return h.tail!==null?(r=h.tail,h.rendering=r,h.tail=r.sibling,h.renderingStartTime=Xe(),r.sibling=null,l=Ve.current,qe(Ve,o?l&1|2:l&1),r):(Nt(r),null);case 22:case 23:return md(),o=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==o&&(r.flags|=8192),o&&(r.mode&1)!==0?(Ht&1073741824)!==0&&(Nt(r),r.subtreeFlags&6&&(r.flags|=8192)):Nt(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function by(t,r){switch(bc(r),r.tag){case 1:return Mt(r.type)&&Gl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Sn(),Be(_t),Be(jt),Oc(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return _c(r),null;case 13:if(Be(Ve),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(a(340));jn()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Be(Ve),null;case 4:return Sn(),null;case 10:return Ec(r.type._context),null;case 22:case 23:return md(),null;case 24:return null;default:return null}}var xi=!1,wt=!1,Ny=typeof WeakSet=="function"?WeakSet:Set,ge=null;function Cn(t,r){var l=t.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(o){Ge(t,r,o)}else l.current=null}function ed(t,r,l){try{l()}catch(o){Ge(t,r,o)}}var ih=!1;function wy(t,r){if(mc=Ll,t=Fm(),nc(t)){if("selectionStart"in t)var l={start:t.selectionStart,end:t.selectionEnd};else e:{l=(l=t.ownerDocument)&&l.defaultView||window;var o=l.getSelection&&l.getSelection();if(o&&o.rangeCount!==0){l=o.anchorNode;var m=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{l.nodeType,h.nodeType}catch{l=null;break e}var P=0,z=-1,U=-1,X=0,re=0,le=t,te=null;t:for(;;){for(var xe;le!==l||m!==0&&le.nodeType!==3||(z=P+m),le!==h||o!==0&&le.nodeType!==3||(U=P+o),le.nodeType===3&&(P+=le.nodeValue.length),(xe=le.firstChild)!==null;)te=le,le=xe;for(;;){if(le===t)break t;if(te===l&&++X===m&&(z=P),te===h&&++re===o&&(U=P),(xe=le.nextSibling)!==null)break;le=te,te=le.parentNode}le=xe}l=z===-1||U===-1?null:{start:z,end:U}}else l=null}l=l||{start:0,end:0}}else l=null;for(fc={focusedElem:t,selectionRange:l},Ll=!1,ge=r;ge!==null;)if(r=ge,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,ge=t;else for(;ge!==null;){r=ge;try{var ve=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ve!==null){var je=ve.memoizedProps,Je=ve.memoizedState,K=r.stateNode,Q=K.getSnapshotBeforeUpdate(r.elementType===r.type?je:hs(r.type,je),Je);K.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var G=r.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(de){Ge(r,r.return,de)}if(t=r.sibling,t!==null){t.return=r.return,ge=t;break}ge=r.return}return ve=ih,ih=!1,ve}function Sa(t,r,l){var o=r.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var m=o=o.next;do{if((m.tag&t)===t){var h=m.destroy;m.destroy=void 0,h!==void 0&&ed(r,l,h)}m=m.next}while(m!==o)}}function pi(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var o=l.create;l.destroy=o()}l=l.next}while(l!==r)}}function td(t){var r=t.ref;if(r!==null){var l=t.stateNode;switch(t.tag){case 5:t=l;break;default:t=l}typeof r=="function"?r(t):r.current=t}}function oh(t){var r=t.alternate;r!==null&&(t.alternate=null,oh(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Is],delete r[fa],delete r[gc],delete r[ay],delete r[ly])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ch(t){return t.tag===5||t.tag===3||t.tag===4}function dh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ch(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sd(t,r,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?l.nodeType===8?l.parentNode.insertBefore(t,r):l.insertBefore(t,r):(l.nodeType===8?(r=l.parentNode,r.insertBefore(t,l)):(r=l,r.appendChild(t)),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=Wl));else if(o!==4&&(t=t.child,t!==null))for(sd(t,r,l),t=t.sibling;t!==null;)sd(t,r,l),t=t.sibling}function rd(t,r,l){var o=t.tag;if(o===5||o===6)t=t.stateNode,r?l.insertBefore(t,r):l.appendChild(t);else if(o!==4&&(t=t.child,t!==null))for(rd(t,r,l),t=t.sibling;t!==null;)rd(t,r,l),t=t.sibling}var ht=null,xs=!1;function yr(t,r,l){for(l=l.child;l!==null;)uh(t,r,l),l=l.sibling}function uh(t,r,l){if(Rs&&typeof Rs.onCommitFiberUnmount=="function")try{Rs.onCommitFiberUnmount(Tl,l)}catch{}switch(l.tag){case 5:wt||Cn(l,r);case 6:var o=ht,m=xs;ht=null,yr(t,r,l),ht=o,xs=m,ht!==null&&(xs?(t=ht,l=l.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)):ht.removeChild(l.stateNode));break;case 18:ht!==null&&(xs?(t=ht,l=l.stateNode,t.nodeType===8?pc(t.parentNode,l):t.nodeType===1&&pc(t,l),sa(t)):pc(ht,l.stateNode));break;case 4:o=ht,m=xs,ht=l.stateNode.containerInfo,xs=!0,yr(t,r,l),ht=o,xs=m;break;case 0:case 11:case 14:case 15:if(!wt&&(o=l.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){m=o=o.next;do{var h=m,P=h.destroy;h=h.tag,P!==void 0&&((h&2)!==0||(h&4)!==0)&&ed(l,r,P),m=m.next}while(m!==o)}yr(t,r,l);break;case 1:if(!wt&&(Cn(l,r),o=l.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=l.memoizedProps,o.state=l.memoizedState,o.componentWillUnmount()}catch(z){Ge(l,r,z)}yr(t,r,l);break;case 21:yr(t,r,l);break;case 22:l.mode&1?(wt=(o=wt)||l.memoizedState!==null,yr(t,r,l),wt=o):yr(t,r,l);break;default:yr(t,r,l)}}function mh(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var l=t.stateNode;l===null&&(l=t.stateNode=new Ny),r.forEach(function(o){var m=_y.bind(null,t,o);l.has(o)||(l.add(o),o.then(m,m))})}}function ps(t,r){var l=r.deletions;if(l!==null)for(var o=0;o<l.length;o++){var m=l[o];try{var h=t,P=r,z=P;e:for(;z!==null;){switch(z.tag){case 5:ht=z.stateNode,xs=!1;break e;case 3:ht=z.stateNode.containerInfo,xs=!0;break e;case 4:ht=z.stateNode.containerInfo,xs=!0;break e}z=z.return}if(ht===null)throw Error(a(160));uh(h,P,m),ht=null,xs=!1;var U=m.alternate;U!==null&&(U.return=null),m.return=null}catch(X){Ge(m,r,X)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)fh(r,t),r=r.sibling}function fh(t,r){var l=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ps(r,t),Os(t),o&4){try{Sa(3,t,t.return),pi(3,t)}catch(je){Ge(t,t.return,je)}try{Sa(5,t,t.return)}catch(je){Ge(t,t.return,je)}}break;case 1:ps(r,t),Os(t),o&512&&l!==null&&Cn(l,l.return);break;case 5:if(ps(r,t),Os(t),o&512&&l!==null&&Cn(l,l.return),t.flags&32){var m=t.stateNode;try{Cs(m,"")}catch(je){Ge(t,t.return,je)}}if(o&4&&(m=t.stateNode,m!=null)){var h=t.memoizedProps,P=l!==null?l.memoizedProps:h,z=t.type,U=t.updateQueue;if(t.updateQueue=null,U!==null)try{z==="input"&&h.type==="radio"&&h.name!=null&&st(m,h),Wn(z,P);var X=Wn(z,h);for(P=0;P<U.length;P+=2){var re=U[P],le=U[P+1];re==="style"?Ds(m,le):re==="dangerouslySetInnerHTML"?Nl(m,le):re==="children"?Cs(m,le):k(m,re,le,X)}switch(z){case"input":kt(m,h);break;case"textarea":sn(m,h);break;case"select":var te=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!h.multiple;var xe=h.value;xe!=null?vt(m,!!h.multiple,xe,!1):te!==!!h.multiple&&(h.defaultValue!=null?vt(m,!!h.multiple,h.defaultValue,!0):vt(m,!!h.multiple,h.multiple?[]:"",!1))}m[fa]=h}catch(je){Ge(t,t.return,je)}}break;case 6:if(ps(r,t),Os(t),o&4){if(t.stateNode===null)throw Error(a(162));m=t.stateNode,h=t.memoizedProps;try{m.nodeValue=h}catch(je){Ge(t,t.return,je)}}break;case 3:if(ps(r,t),Os(t),o&4&&l!==null&&l.memoizedState.isDehydrated)try{sa(r.containerInfo)}catch(je){Ge(t,t.return,je)}break;case 4:ps(r,t),Os(t);break;case 13:ps(r,t),Os(t),m=t.child,m.flags&8192&&(h=m.memoizedState!==null,m.stateNode.isHidden=h,!h||m.alternate!==null&&m.alternate.memoizedState!==null||(ld=Xe())),o&4&&mh(t);break;case 22:if(re=l!==null&&l.memoizedState!==null,t.mode&1?(wt=(X=wt)||re,ps(r,t),wt=X):ps(r,t),Os(t),o&8192){if(X=t.memoizedState!==null,(t.stateNode.isHidden=X)&&!re&&(t.mode&1)!==0)for(ge=t,re=t.child;re!==null;){for(le=ge=re;ge!==null;){switch(te=ge,xe=te.child,te.tag){case 0:case 11:case 14:case 15:Sa(4,te,te.return);break;case 1:Cn(te,te.return);var ve=te.stateNode;if(typeof ve.componentWillUnmount=="function"){o=te,l=te.return;try{r=o,ve.props=r.memoizedProps,ve.state=r.memoizedState,ve.componentWillUnmount()}catch(je){Ge(o,l,je)}}break;case 5:Cn(te,te.return);break;case 22:if(te.memoizedState!==null){ph(le);continue}}xe!==null?(xe.return=te,ge=xe):ph(le)}re=re.sibling}e:for(re=null,le=t;;){if(le.tag===5){if(re===null){re=le;try{m=le.stateNode,X?(h=m.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(z=le.stateNode,U=le.memoizedProps.style,P=U!=null&&U.hasOwnProperty("display")?U.display:null,z.style.display=nn("display",P))}catch(je){Ge(t,t.return,je)}}}else if(le.tag===6){if(re===null)try{le.stateNode.nodeValue=X?"":le.memoizedProps}catch(je){Ge(t,t.return,je)}}else if((le.tag!==22&&le.tag!==23||le.memoizedState===null||le===t)&&le.child!==null){le.child.return=le,le=le.child;continue}if(le===t)break e;for(;le.sibling===null;){if(le.return===null||le.return===t)break e;re===le&&(re=null),le=le.return}re===le&&(re=null),le.sibling.return=le.return,le=le.sibling}}break;case 19:ps(r,t),Os(t),o&4&&mh(t);break;case 21:break;default:ps(r,t),Os(t)}}function Os(t){var r=t.flags;if(r&2){try{e:{for(var l=t.return;l!==null;){if(ch(l)){var o=l;break e}l=l.return}throw Error(a(160))}switch(o.tag){case 5:var m=o.stateNode;o.flags&32&&(Cs(m,""),o.flags&=-33);var h=dh(t);rd(t,h,m);break;case 3:case 4:var P=o.stateNode.containerInfo,z=dh(t);sd(t,z,P);break;default:throw Error(a(161))}}catch(U){Ge(t,t.return,U)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Sy(t,r,l){ge=t,hh(t)}function hh(t,r,l){for(var o=(t.mode&1)!==0;ge!==null;){var m=ge,h=m.child;if(m.tag===22&&o){var P=m.memoizedState!==null||xi;if(!P){var z=m.alternate,U=z!==null&&z.memoizedState!==null||wt;z=xi;var X=wt;if(xi=P,(wt=U)&&!X)for(ge=m;ge!==null;)P=ge,U=P.child,P.tag===22&&P.memoizedState!==null?gh(m):U!==null?(U.return=P,ge=U):gh(m);for(;h!==null;)ge=h,hh(h),h=h.sibling;ge=m,xi=z,wt=X}xh(t)}else(m.subtreeFlags&8772)!==0&&h!==null?(h.return=m,ge=h):xh(t)}}function xh(t){for(;ge!==null;){var r=ge;if((r.flags&8772)!==0){var l=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:wt||pi(5,r);break;case 1:var o=r.stateNode;if(r.flags&4&&!wt)if(l===null)o.componentDidMount();else{var m=r.elementType===r.type?l.memoizedProps:hs(r.type,l.memoizedProps);o.componentDidUpdate(m,l.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var h=r.updateQueue;h!==null&&pf(r,h,o);break;case 3:var P=r.updateQueue;if(P!==null){if(l=null,r.child!==null)switch(r.child.tag){case 5:l=r.child.stateNode;break;case 1:l=r.child.stateNode}pf(r,P,l)}break;case 5:var z=r.stateNode;if(l===null&&r.flags&4){l=z;var U=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&l.focus();break;case"img":U.src&&(l.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var X=r.alternate;if(X!==null){var re=X.memoizedState;if(re!==null){var le=re.dehydrated;le!==null&&sa(le)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}wt||r.flags&512&&td(r)}catch(te){Ge(r,r.return,te)}}if(r===t){ge=null;break}if(l=r.sibling,l!==null){l.return=r.return,ge=l;break}ge=r.return}}function ph(t){for(;ge!==null;){var r=ge;if(r===t){ge=null;break}var l=r.sibling;if(l!==null){l.return=r.return,ge=l;break}ge=r.return}}function gh(t){for(;ge!==null;){var r=ge;try{switch(r.tag){case 0:case 11:case 15:var l=r.return;try{pi(4,r)}catch(U){Ge(r,l,U)}break;case 1:var o=r.stateNode;if(typeof o.componentDidMount=="function"){var m=r.return;try{o.componentDidMount()}catch(U){Ge(r,m,U)}}var h=r.return;try{td(r)}catch(U){Ge(r,h,U)}break;case 5:var P=r.return;try{td(r)}catch(U){Ge(r,P,U)}}}catch(U){Ge(r,r.return,U)}if(r===t){ge=null;break}var z=r.sibling;if(z!==null){z.return=r.return,ge=z;break}ge=r.return}}var ky=Math.ceil,gi=R.ReactCurrentDispatcher,nd=R.ReactCurrentOwner,rs=R.ReactCurrentBatchConfig,Me=0,dt=null,nt=null,xt=0,Ht=0,En=fr(0),it=0,ka=null,Ur=0,yi=0,ad=0,Ca=null,Lt=null,ld=0,Pn=1/0,Qs=null,vi=!1,id=null,vr=null,ji=!1,jr=null,bi=0,Ea=0,od=null,Ni=-1,wi=0;function Tt(){return(Me&6)!==0?Xe():Ni!==-1?Ni:Ni=Xe()}function br(t){return(t.mode&1)===0?1:(Me&2)!==0&&xt!==0?xt&-xt:oy.transition!==null?(wi===0&&(wi=cm()),wi):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:ym(t.type)),t)}function gs(t,r,l,o){if(50<Ea)throw Ea=0,od=null,Error(a(185));Xn(t,l,o),((Me&2)===0||t!==dt)&&(t===dt&&((Me&2)===0&&(yi|=l),it===4&&Nr(t,xt)),Dt(t,o),l===1&&Me===0&&(r.mode&1)===0&&(Pn=Xe()+500,Xl&&xr()))}function Dt(t,r){var l=t.callbackNode;og(t,r);var o=_l(t,t===dt?xt:0);if(o===0)l!==null&&lm(l),t.callbackNode=null,t.callbackPriority=0;else if(r=o&-o,t.callbackPriority!==r){if(l!=null&&lm(l),r===1)t.tag===0?iy(vh.bind(null,t)):rf(vh.bind(null,t)),ry(function(){(Me&6)===0&&xr()}),l=null;else{switch(dm(o)){case 1:l=qo;break;case 4:l=im;break;case 16:l=Pl;break;case 536870912:l=om;break;default:l=Pl}l=Eh(l,yh.bind(null,t))}t.callbackPriority=r,t.callbackNode=l}}function yh(t,r){if(Ni=-1,wi=0,(Me&6)!==0)throw Error(a(327));var l=t.callbackNode;if(Tn()&&t.callbackNode!==l)return null;var o=_l(t,t===dt?xt:0);if(o===0)return null;if((o&30)!==0||(o&t.expiredLanes)!==0||r)r=Si(t,o);else{r=o;var m=Me;Me|=2;var h=bh();(dt!==t||xt!==r)&&(Qs=null,Pn=Xe()+500,Qr(t,r));do try{Py();break}catch(z){jh(t,z)}while(!0);Cc(),gi.current=h,Me=m,nt!==null?r=0:(dt=null,xt=0,r=it)}if(r!==0){if(r===2&&(m=Uo(t),m!==0&&(o=m,r=cd(t,m))),r===1)throw l=ka,Qr(t,0),Nr(t,o),Dt(t,Xe()),l;if(r===6)Nr(t,o);else{if(m=t.current.alternate,(o&30)===0&&!Cy(m)&&(r=Si(t,o),r===2&&(h=Uo(t),h!==0&&(o=h,r=cd(t,h))),r===1))throw l=ka,Qr(t,0),Nr(t,o),Dt(t,Xe()),l;switch(t.finishedWork=m,t.finishedLanes=o,r){case 0:case 1:throw Error(a(345));case 2:Hr(t,Lt,Qs);break;case 3:if(Nr(t,o),(o&130023424)===o&&(r=ld+500-Xe(),10<r)){if(_l(t,0)!==0)break;if(m=t.suspendedLanes,(m&o)!==o){Tt(),t.pingedLanes|=t.suspendedLanes&m;break}t.timeoutHandle=xc(Hr.bind(null,t,Lt,Qs),r);break}Hr(t,Lt,Qs);break;case 4:if(Nr(t,o),(o&4194240)===o)break;for(r=t.eventTimes,m=-1;0<o;){var P=31-us(o);h=1<<P,P=r[P],P>m&&(m=P),o&=~h}if(o=m,o=Xe()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*ky(o/1960))-o,10<o){t.timeoutHandle=xc(Hr.bind(null,t,Lt,Qs),o);break}Hr(t,Lt,Qs);break;case 5:Hr(t,Lt,Qs);break;default:throw Error(a(329))}}}return Dt(t,Xe()),t.callbackNode===l?yh.bind(null,t):null}function cd(t,r){var l=Ca;return t.current.memoizedState.isDehydrated&&(Qr(t,r).flags|=256),t=Si(t,r),t!==2&&(r=Lt,Lt=l,r!==null&&dd(r)),t}function dd(t){Lt===null?Lt=t:Lt.push.apply(Lt,t)}function Cy(t){for(var r=t;;){if(r.flags&16384){var l=r.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var o=0;o<l.length;o++){var m=l[o],h=m.getSnapshot;m=m.value;try{if(!ms(h(),m))return!1}catch{return!1}}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Nr(t,r){for(r&=~ad,r&=~yi,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var l=31-us(r),o=1<<l;t[l]=-1,r&=~o}}function vh(t){if((Me&6)!==0)throw Error(a(327));Tn();var r=_l(t,0);if((r&1)===0)return Dt(t,Xe()),null;var l=Si(t,r);if(t.tag!==0&&l===2){var o=Uo(t);o!==0&&(r=o,l=cd(t,o))}if(l===1)throw l=ka,Qr(t,0),Nr(t,r),Dt(t,Xe()),l;if(l===6)throw Error(a(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Hr(t,Lt,Qs),Dt(t,Xe()),null}function ud(t,r){var l=Me;Me|=1;try{return t(r)}finally{Me=l,Me===0&&(Pn=Xe()+500,Xl&&xr())}}function Br(t){jr!==null&&jr.tag===0&&(Me&6)===0&&Tn();var r=Me;Me|=1;var l=rs.transition,o=Fe;try{if(rs.transition=null,Fe=1,t)return t()}finally{Fe=o,rs.transition=l,Me=r,(Me&6)===0&&xr()}}function md(){Ht=En.current,Be(En)}function Qr(t,r){t.finishedWork=null,t.finishedLanes=0;var l=t.timeoutHandle;if(l!==-1&&(t.timeoutHandle=-1,sy(l)),nt!==null)for(l=nt.return;l!==null;){var o=l;switch(bc(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Gl();break;case 3:Sn(),Be(_t),Be(jt),Oc();break;case 5:_c(o);break;case 4:Sn();break;case 13:Be(Ve);break;case 19:Be(Ve);break;case 10:Ec(o.type._context);break;case 22:case 23:md()}l=l.return}if(dt=t,nt=t=wr(t.current,null),xt=Ht=r,it=0,ka=null,ad=yi=Ur=0,Lt=Ca=null,zr!==null){for(r=0;r<zr.length;r++)if(l=zr[r],o=l.interleaved,o!==null){l.interleaved=null;var m=o.next,h=l.pending;if(h!==null){var P=h.next;h.next=m,o.next=P}l.pending=o}zr=null}return t}function jh(t,r){do{var l=nt;try{if(Cc(),ii.current=ui,oi){for(var o=We.memoizedState;o!==null;){var m=o.queue;m!==null&&(m.pending=null),o=o.next}oi=!1}if(qr=0,ct=lt=We=null,va=!1,ja=0,nd.current=null,l===null||l.return===null){it=1,ka=r,nt=null;break}e:{var h=t,P=l.return,z=l,U=r;if(r=xt,z.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,re=z,le=re.tag;if((re.mode&1)===0&&(le===0||le===11||le===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var xe=Hf(P);if(xe!==null){xe.flags&=-257,Vf(xe,P,z,h,r),xe.mode&1&&Qf(h,X,r),r=xe,U=X;var ve=r.updateQueue;if(ve===null){var je=new Set;je.add(U),r.updateQueue=je}else ve.add(U);break e}else{if((r&1)===0){Qf(h,X,r),fd();break e}U=Error(a(426))}}else if(Qe&&z.mode&1){var Je=Hf(P);if(Je!==null){(Je.flags&65536)===0&&(Je.flags|=256),Vf(Je,P,z,h,r),Sc(kn(U,z));break e}}h=U=kn(U,z),it!==4&&(it=2),Ca===null?Ca=[h]:Ca.push(h),h=P;do{switch(h.tag){case 3:h.flags|=65536,r&=-r,h.lanes|=r;var K=Uf(h,U,r);xf(h,K);break e;case 1:z=U;var Q=h.type,G=h.stateNode;if((h.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(vr===null||!vr.has(G)))){h.flags|=65536,r&=-r,h.lanes|=r;var de=Bf(h,z,r);xf(h,de);break e}}h=h.return}while(h!==null)}wh(l)}catch(be){r=be,nt===l&&l!==null&&(nt=l=l.return);continue}break}while(!0)}function bh(){var t=gi.current;return gi.current=ui,t===null?ui:t}function fd(){(it===0||it===3||it===2)&&(it=4),dt===null||(Ur&268435455)===0&&(yi&268435455)===0||Nr(dt,xt)}function Si(t,r){var l=Me;Me|=2;var o=bh();(dt!==t||xt!==r)&&(Qs=null,Qr(t,r));do try{Ey();break}catch(m){jh(t,m)}while(!0);if(Cc(),Me=l,gi.current=o,nt!==null)throw Error(a(261));return dt=null,xt=0,it}function Ey(){for(;nt!==null;)Nh(nt)}function Py(){for(;nt!==null&&!Z0();)Nh(nt)}function Nh(t){var r=Ch(t.alternate,t,Ht);t.memoizedProps=t.pendingProps,r===null?wh(t):nt=r,nd.current=null}function wh(t){var r=t;do{var l=r.alternate;if(t=r.return,(r.flags&32768)===0){if(l=jy(l,r,Ht),l!==null){nt=l;return}}else{if(l=by(l,r),l!==null){l.flags&=32767,nt=l;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{it=6,nt=null;return}}if(r=r.sibling,r!==null){nt=r;return}nt=r=t}while(r!==null);it===0&&(it=5)}function Hr(t,r,l){var o=Fe,m=rs.transition;try{rs.transition=null,Fe=1,Ty(t,r,l,o)}finally{rs.transition=m,Fe=o}return null}function Ty(t,r,l,o){do Tn();while(jr!==null);if((Me&6)!==0)throw Error(a(327));l=t.finishedWork;var m=t.finishedLanes;if(l===null)return null;if(t.finishedWork=null,t.finishedLanes=0,l===t.current)throw Error(a(177));t.callbackNode=null,t.callbackPriority=0;var h=l.lanes|l.childLanes;if(cg(t,h),t===dt&&(nt=dt=null,xt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||ji||(ji=!0,Eh(Pl,function(){return Tn(),null})),h=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||h){h=rs.transition,rs.transition=null;var P=Fe;Fe=1;var z=Me;Me|=4,nd.current=null,wy(t,l),fh(l,t),Gg(fc),Ll=!!mc,fc=mc=null,t.current=l,Sy(l),eg(),Me=z,Fe=P,rs.transition=h}else t.current=l;if(ji&&(ji=!1,jr=t,bi=m),h=t.pendingLanes,h===0&&(vr=null),rg(l.stateNode),Dt(t,Xe()),r!==null)for(o=t.onRecoverableError,l=0;l<r.length;l++)m=r[l],o(m.value,{componentStack:m.stack,digest:m.digest});if(vi)throw vi=!1,t=id,id=null,t;return(bi&1)!==0&&t.tag!==0&&Tn(),h=t.pendingLanes,(h&1)!==0?t===od?Ea++:(Ea=0,od=t):Ea=0,xr(),null}function Tn(){if(jr!==null){var t=dm(bi),r=rs.transition,l=Fe;try{if(rs.transition=null,Fe=16>t?16:t,jr===null)var o=!1;else{if(t=jr,jr=null,bi=0,(Me&6)!==0)throw Error(a(331));var m=Me;for(Me|=4,ge=t.current;ge!==null;){var h=ge,P=h.child;if((ge.flags&16)!==0){var z=h.deletions;if(z!==null){for(var U=0;U<z.length;U++){var X=z[U];for(ge=X;ge!==null;){var re=ge;switch(re.tag){case 0:case 11:case 15:Sa(8,re,h)}var le=re.child;if(le!==null)le.return=re,ge=le;else for(;ge!==null;){re=ge;var te=re.sibling,xe=re.return;if(oh(re),re===X){ge=null;break}if(te!==null){te.return=xe,ge=te;break}ge=xe}}}var ve=h.alternate;if(ve!==null){var je=ve.child;if(je!==null){ve.child=null;do{var Je=je.sibling;je.sibling=null,je=Je}while(je!==null)}}ge=h}}if((h.subtreeFlags&2064)!==0&&P!==null)P.return=h,ge=P;else e:for(;ge!==null;){if(h=ge,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:Sa(9,h,h.return)}var K=h.sibling;if(K!==null){K.return=h.return,ge=K;break e}ge=h.return}}var Q=t.current;for(ge=Q;ge!==null;){P=ge;var G=P.child;if((P.subtreeFlags&2064)!==0&&G!==null)G.return=P,ge=G;else e:for(P=Q;ge!==null;){if(z=ge,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:pi(9,z)}}catch(be){Ge(z,z.return,be)}if(z===P){ge=null;break e}var de=z.sibling;if(de!==null){de.return=z.return,ge=de;break e}ge=z.return}}if(Me=m,xr(),Rs&&typeof Rs.onPostCommitFiberRoot=="function")try{Rs.onPostCommitFiberRoot(Tl,t)}catch{}o=!0}return o}finally{Fe=l,rs.transition=r}}return!1}function Sh(t,r,l){r=kn(l,r),r=Uf(t,r,1),t=gr(t,r,1),r=Tt(),t!==null&&(Xn(t,1,r),Dt(t,r))}function Ge(t,r,l){if(t.tag===3)Sh(t,t,l);else for(;r!==null;){if(r.tag===3){Sh(r,t,l);break}else if(r.tag===1){var o=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){t=kn(l,t),t=Bf(r,t,1),r=gr(r,t,1),t=Tt(),r!==null&&(Xn(r,1,t),Dt(r,t));break}}r=r.return}}function Ry(t,r,l){var o=t.pingCache;o!==null&&o.delete(r),r=Tt(),t.pingedLanes|=t.suspendedLanes&l,dt===t&&(xt&l)===l&&(it===4||it===3&&(xt&130023424)===xt&&500>Xe()-ld?Qr(t,0):ad|=l),Dt(t,r)}function kh(t,r){r===0&&((t.mode&1)===0?r=1:(r=Il,Il<<=1,(Il&130023424)===0&&(Il=4194304)));var l=Tt();t=qs(t,r),t!==null&&(Xn(t,r,l),Dt(t,l))}function Iy(t){var r=t.memoizedState,l=0;r!==null&&(l=r.retryLane),kh(t,l)}function _y(t,r){var l=0;switch(t.tag){case 13:var o=t.stateNode,m=t.memoizedState;m!==null&&(l=m.retryLane);break;case 19:o=t.stateNode;break;default:throw Error(a(314))}o!==null&&o.delete(r),kh(t,l)}var Ch;Ch=function(t,r,l){if(t!==null)if(t.memoizedProps!==r.pendingProps||_t.current)Ot=!0;else{if((t.lanes&l)===0&&(r.flags&128)===0)return Ot=!1,vy(t,r,l);Ot=(t.flags&131072)!==0}else Ot=!1,Qe&&(r.flags&1048576)!==0&&nf(r,Zl,r.index);switch(r.lanes=0,r.tag){case 2:var o=r.type;hi(t,r),t=r.pendingProps;var m=gn(r,jt.current);wn(r,l),m=Ac(null,r,o,t,m,l);var h=Fc();return r.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Mt(o)?(h=!0,Yl(r)):h=!1,r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Rc(r),m.updater=mi,r.stateNode=m,m._reactInternals=r,Qc(r,o,t,l),r=Kc(null,r,o,!0,h,l)):(r.tag=0,Qe&&h&&jc(r),Pt(null,r,m,l),r=r.child),r;case 16:o=r.elementType;e:{switch(hi(t,r),t=r.pendingProps,m=o._init,o=m(o._payload),r.type=o,m=r.tag=Oy(o),t=hs(o,t),m){case 0:r=Wc(null,r,o,t,l);break e;case 1:r=Jf(null,r,o,t,l);break e;case 11:r=Wf(null,r,o,t,l);break e;case 14:r=Kf(null,r,o,hs(o.type,t),l);break e}throw Error(a(306,o,""))}return r;case 0:return o=r.type,m=r.pendingProps,m=r.elementType===o?m:hs(o,m),Wc(t,r,o,m,l);case 1:return o=r.type,m=r.pendingProps,m=r.elementType===o?m:hs(o,m),Jf(t,r,o,m,l);case 3:e:{if(Zf(r),t===null)throw Error(a(387));o=r.pendingProps,h=r.memoizedState,m=h.element,hf(t,r),ai(r,o,null,l);var P=r.memoizedState;if(o=P.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:P.cache,pendingSuspenseBoundaries:P.pendingSuspenseBoundaries,transitions:P.transitions},r.updateQueue.baseState=h,r.memoizedState=h,r.flags&256){m=kn(Error(a(423)),r),r=eh(t,r,o,l,m);break e}else if(o!==m){m=kn(Error(a(424)),r),r=eh(t,r,o,l,m);break e}else for(Qt=mr(r.stateNode.containerInfo.firstChild),Bt=r,Qe=!0,fs=null,l=mf(r,null,o,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(jn(),o===m){r=Bs(t,r,l);break e}Pt(t,r,o,l)}r=r.child}return r;case 5:return gf(r),t===null&&wc(r),o=r.type,m=r.pendingProps,h=t!==null?t.memoizedProps:null,P=m.children,hc(o,m)?P=null:h!==null&&hc(o,h)&&(r.flags|=32),Xf(t,r),Pt(t,r,P,l),r.child;case 6:return t===null&&wc(r),null;case 13:return th(t,r,l);case 4:return Ic(r,r.stateNode.containerInfo),o=r.pendingProps,t===null?r.child=bn(r,null,o,l):Pt(t,r,o,l),r.child;case 11:return o=r.type,m=r.pendingProps,m=r.elementType===o?m:hs(o,m),Wf(t,r,o,m,l);case 7:return Pt(t,r,r.pendingProps,l),r.child;case 8:return Pt(t,r,r.pendingProps.children,l),r.child;case 12:return Pt(t,r,r.pendingProps.children,l),r.child;case 10:e:{if(o=r.type._context,m=r.pendingProps,h=r.memoizedProps,P=m.value,qe(si,o._currentValue),o._currentValue=P,h!==null)if(ms(h.value,P)){if(h.children===m.children&&!_t.current){r=Bs(t,r,l);break e}}else for(h=r.child,h!==null&&(h.return=r);h!==null;){var z=h.dependencies;if(z!==null){P=h.child;for(var U=z.firstContext;U!==null;){if(U.context===o){if(h.tag===1){U=Us(-1,l&-l),U.tag=2;var X=h.updateQueue;if(X!==null){X=X.shared;var re=X.pending;re===null?U.next=U:(U.next=re.next,re.next=U),X.pending=U}}h.lanes|=l,U=h.alternate,U!==null&&(U.lanes|=l),Pc(h.return,l,r),z.lanes|=l;break}U=U.next}}else if(h.tag===10)P=h.type===r.type?null:h.child;else if(h.tag===18){if(P=h.return,P===null)throw Error(a(341));P.lanes|=l,z=P.alternate,z!==null&&(z.lanes|=l),Pc(P,l,r),P=h.sibling}else P=h.child;if(P!==null)P.return=h;else for(P=h;P!==null;){if(P===r){P=null;break}if(h=P.sibling,h!==null){h.return=P.return,P=h;break}P=P.return}h=P}Pt(t,r,m.children,l),r=r.child}return r;case 9:return m=r.type,o=r.pendingProps.children,wn(r,l),m=ts(m),o=o(m),r.flags|=1,Pt(t,r,o,l),r.child;case 14:return o=r.type,m=hs(o,r.pendingProps),m=hs(o.type,m),Kf(t,r,o,m,l);case 15:return Gf(t,r,r.type,r.pendingProps,l);case 17:return o=r.type,m=r.pendingProps,m=r.elementType===o?m:hs(o,m),hi(t,r),r.tag=1,Mt(o)?(t=!0,Yl(r)):t=!1,wn(r,l),$f(r,o,m),Qc(r,o,m,l),Kc(null,r,o,!0,t,l);case 19:return rh(t,r,l);case 22:return Yf(t,r,l)}throw Error(a(156,r.tag))};function Eh(t,r){return am(t,r)}function My(t,r,l,o){this.tag=t,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ns(t,r,l,o){return new My(t,r,l,o)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Oy(t){if(typeof t=="function")return hd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===F)return 11;if(t===q)return 14}return 2}function wr(t,r){var l=t.alternate;return l===null?(l=ns(t.tag,r,t.key,t.mode),l.elementType=t.elementType,l.type=t.type,l.stateNode=t.stateNode,l.alternate=t,t.alternate=l):(l.pendingProps=r,l.type=t.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=t.flags&14680064,l.childLanes=t.childLanes,l.lanes=t.lanes,l.child=t.child,l.memoizedProps=t.memoizedProps,l.memoizedState=t.memoizedState,l.updateQueue=t.updateQueue,r=t.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=t.sibling,l.index=t.index,l.ref=t.ref,l}function ki(t,r,l,o,m,h){var P=2;if(o=t,typeof t=="function")hd(t)&&(P=1);else if(typeof t=="string")P=5;else e:switch(t){case O:return Vr(l.children,m,h,r);case L:P=8,m|=8;break;case M:return t=ns(12,l,r,m|2),t.elementType=M,t.lanes=h,t;case B:return t=ns(13,l,r,m),t.elementType=B,t.lanes=h,t;case $:return t=ns(19,l,r,m),t.elementType=$,t.lanes=h,t;case ne:return Ci(l,m,h,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:P=10;break e;case I:P=9;break e;case F:P=11;break e;case q:P=14;break e;case Z:P=16,o=null;break e}throw Error(a(130,t==null?t:typeof t,""))}return r=ns(P,l,r,m),r.elementType=t,r.type=o,r.lanes=h,r}function Vr(t,r,l,o){return t=ns(7,t,o,r),t.lanes=l,t}function Ci(t,r,l,o){return t=ns(22,t,o,r),t.elementType=ne,t.lanes=l,t.stateNode={isHidden:!1},t}function xd(t,r,l){return t=ns(6,t,null,r),t.lanes=l,t}function pd(t,r,l){return r=ns(4,t.children!==null?t.children:[],t.key,r),r.lanes=l,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Ly(t,r,l,o,m){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bo(0),this.expirationTimes=Bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.identifierPrefix=o,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function gd(t,r,l,o,m,h,P,z,U){return t=new Ly(t,r,l,z,U),r===1?(r=1,h===!0&&(r|=8)):r=0,h=ns(3,null,null,r),t.current=h,h.stateNode=t,h.memoizedState={element:o,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rc(h),t}function Dy(t,r,l){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:E,key:o==null?null:""+o,children:t,containerInfo:r,implementation:l}}function Ph(t){if(!t)return hr;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(a(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Mt(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(t.tag===1){var l=t.type;if(Mt(l))return tf(t,l,r)}return r}function Th(t,r,l,o,m,h,P,z,U){return t=gd(l,o,!0,t,m,h,P,z,U),t.context=Ph(null),l=t.current,o=Tt(),m=br(l),h=Us(o,m),h.callback=r??null,gr(l,h,m),t.current.lanes=m,Xn(t,m,o),Dt(t,o),t}function Ei(t,r,l,o){var m=r.current,h=Tt(),P=br(m);return l=Ph(l),r.context===null?r.context=l:r.pendingContext=l,r=Us(h,P),r.payload={element:t},o=o===void 0?null:o,o!==null&&(r.callback=o),t=gr(m,r,P),t!==null&&(gs(t,m,P,h),ni(t,m,P)),P}function Pi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rh(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var l=t.retryLane;t.retryLane=l!==0&&l<r?l:r}}function yd(t,r){Rh(t,r),(t=t.alternate)&&Rh(t,r)}function Ay(){return null}var Ih=typeof reportError=="function"?reportError:function(t){console.error(t)};function vd(t){this._internalRoot=t}Ti.prototype.render=vd.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(a(409));Ei(t,r,null,null)},Ti.prototype.unmount=vd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Br(function(){Ei(null,t,null,null)}),r[As]=null}};function Ti(t){this._internalRoot=t}Ti.prototype.unstable_scheduleHydration=function(t){if(t){var r=fm();t={blockedOn:null,target:t,priority:r};for(var l=0;l<cr.length&&r!==0&&r<cr[l].priority;l++);cr.splice(l,0,t),l===0&&pm(t)}};function jd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ri(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _h(){}function Fy(t,r,l,o,m){if(m){if(typeof o=="function"){var h=o;o=function(){var X=Pi(P);h.call(X)}}var P=Th(r,o,t,0,null,!1,!1,"",_h);return t._reactRootContainer=P,t[As]=P.current,ua(t.nodeType===8?t.parentNode:t),Br(),P}for(;m=t.lastChild;)t.removeChild(m);if(typeof o=="function"){var z=o;o=function(){var X=Pi(U);z.call(X)}}var U=gd(t,0,!1,null,null,!1,!1,"",_h);return t._reactRootContainer=U,t[As]=U.current,ua(t.nodeType===8?t.parentNode:t),Br(function(){Ei(r,U,l,o)}),U}function Ii(t,r,l,o,m){var h=l._reactRootContainer;if(h){var P=h;if(typeof m=="function"){var z=m;m=function(){var U=Pi(P);z.call(U)}}Ei(r,P,t,m)}else P=Fy(l,r,t,m,o);return Pi(P)}um=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var l=Yn(r.pendingLanes);l!==0&&(Qo(r,l|1),Dt(r,Xe()),(Me&6)===0&&(Pn=Xe()+500,xr()))}break;case 13:Br(function(){var o=qs(t,1);if(o!==null){var m=Tt();gs(o,t,1,m)}}),yd(t,1)}},Ho=function(t){if(t.tag===13){var r=qs(t,134217728);if(r!==null){var l=Tt();gs(r,t,134217728,l)}yd(t,134217728)}},mm=function(t){if(t.tag===13){var r=br(t),l=qs(t,r);if(l!==null){var o=Tt();gs(l,t,r,o)}yd(t,r)}},fm=function(){return Fe},hm=function(t,r){var l=Fe;try{return Fe=t,r()}finally{Fe=l}},ln=function(t,r,l){switch(r){case"input":if(kt(t,l),r=l.name,l.type==="radio"&&r!=null){for(l=t;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<l.length;r++){var o=l[r];if(o!==t&&o.form===t.form){var m=Kl(o);if(!m)throw Error(a(90));Re(o),kt(o,m)}}}break;case"textarea":sn(t,l);break;case"select":r=l.value,r!=null&&vt(t,!!l.multiple,r,!1)}},De=ud,$e=Br;var zy={usingClientEntryPoint:!1,Events:[ha,xn,Kl,kl,Pe,ud]},Pa={findFiberByHostInstance:Lr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$y={bundleType:Pa.bundleType,version:Pa.version,rendererPackageName:Pa.rendererPackageName,rendererConfig:Pa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rm(t),t===null?null:t.stateNode},findFiberByHostInstance:Pa.findFiberByHostInstance||Ay,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _i=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_i.isDisabled&&_i.supportsFiber)try{Tl=_i.inject($y),Rs=_i}catch{}}return At.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zy,At.createPortal=function(t,r){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!jd(r))throw Error(a(200));return Dy(t,r,null,l)},At.createRoot=function(t,r){if(!jd(t))throw Error(a(299));var l=!1,o="",m=Ih;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(m=r.onRecoverableError)),r=gd(t,1,!1,null,null,l,!1,o,m),t[As]=r.current,ua(t.nodeType===8?t.parentNode:t),new vd(r)},At.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=rm(r),t=t===null?null:t.stateNode,t},At.flushSync=function(t){return Br(t)},At.hydrate=function(t,r,l){if(!Ri(r))throw Error(a(200));return Ii(null,t,r,!0,l)},At.hydrateRoot=function(t,r,l){if(!jd(t))throw Error(a(405));var o=l!=null&&l.hydratedSources||null,m=!1,h="",P=Ih;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(h=l.identifierPrefix),l.onRecoverableError!==void 0&&(P=l.onRecoverableError)),r=Th(r,null,t,1,l??null,m,!1,h,P),t[As]=r.current,ua(t),o)for(t=0;t<o.length;t++)l=o[t],m=l._getVersion,m=m(l._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[l,m]:r.mutableSourceEagerHydrationData.push(l,m);return new Ti(r)},At.render=function(t,r,l){if(!Ri(r))throw Error(a(200));return Ii(null,t,r,!1,l)},At.unmountComponentAtNode=function(t){if(!Ri(t))throw Error(a(40));return t._reactRootContainer?(Br(function(){Ii(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1},At.unstable_batchedUpdates=ud,At.unstable_renderSubtreeIntoContainer=function(t,r,l,o){if(!Ri(l))throw Error(a(200));if(t==null||t._reactInternals===void 0)throw Error(a(38));return Ii(t,r,l,!1,o)},At.version="18.3.1-next-f1338f8080-20240426",At}var $h;function Xx(){if($h)return wd.exports;$h=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),wd.exports=Gy(),wd.exports}var qh;function Yy(){if(qh)return Mi;qh=1;var s=Xx();return Mi.createRoot=s.createRoot,Mi.hydrateRoot=s.hydrateRoot,Mi}var Xy=Yy();const Jy=yo(Xy);var Cd={exports:{}},Ed={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uh;function Zy(){if(Uh)return Ed;Uh=1;var s=vo();function n(f,p){return f===p&&(f!==0||1/f===1/p)||f!==f&&p!==p}var a=typeof Object.is=="function"?Object.is:n,i=s.useSyncExternalStore,c=s.useRef,d=s.useEffect,u=s.useMemo,x=s.useDebugValue;return Ed.useSyncExternalStoreWithSelector=function(f,p,g,y,w){var v=c(null);if(v.current===null){var N={hasValue:!1,value:null};v.current=N}else N=v.current;v=u(function(){function C(b){if(!T){if(T=!0,_=b,b=y(b),w!==void 0&&N.hasValue){var E=N.value;if(w(E,b))return k=E}return k=b}if(E=k,a(_,b))return E;var O=y(b);return w!==void 0&&w(E,O)?(_=b,E):(_=b,k=O)}var T=!1,_,k,R=g===void 0?null:g;return[function(){return C(p())},R===null?void 0:function(){return C(R())}]},[p,g,y,w]);var j=i(f,v[0],v[1]);return d(function(){N.hasValue=!0,N.value=j},[j]),x(j),j},Ed}var Bh;function ev(){return Bh||(Bh=1,Cd.exports=Zy()),Cd.exports}var tv=ev();function Jx(s){s()}function sv(){let s=null,n=null;return{clear(){s=null,n=null},notify(){Jx(()=>{let a=s;for(;a;)a.callback(),a=a.next})},get(){const a=[];let i=s;for(;i;)a.push(i),i=i.next;return a},subscribe(a){let i=!0;const c=n={callback:a,next:null,prev:n};return c.prev?c.prev.next=c:s=c,function(){!i||s===null||(i=!1,c.next?c.next.prev=c.prev:n=c.prev,c.prev?c.prev.next=c.next:s=c.next)}}}}var Qh={notify(){},get:()=>[]};function rv(s,n){let a,i=Qh,c=0,d=!1;function u(j){g();const C=i.subscribe(j);let T=!1;return()=>{T||(T=!0,C(),y())}}function x(){i.notify()}function f(){N.onStateChange&&N.onStateChange()}function p(){return d}function g(){c++,a||(a=s.subscribe(f),i=sv())}function y(){c--,a&&c===0&&(a(),a=void 0,i.clear(),i=Qh)}function w(){d||(d=!0,g())}function v(){d&&(d=!1,y())}const N={addNestedSub:u,notifyNestedSubs:x,handleChangeWrapper:f,isSubscribed:p,trySubscribe:w,tryUnsubscribe:v,getListeners:()=>i};return N}var nv=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",av=nv(),lv=()=>typeof navigator<"u"&&navigator.product==="ReactNative",iv=lv(),ov=()=>av||iv?S.useLayoutEffect:S.useEffect,cv=ov();function Hh(s,n){return s===n?s!==0||n!==0||1/s===1/n:s!==s&&n!==n}function Fa(s,n){if(Hh(s,n))return!0;if(typeof s!="object"||s===null||typeof n!="object"||n===null)return!1;const a=Object.keys(s),i=Object.keys(n);if(a.length!==i.length)return!1;for(let c=0;c<a.length;c++)if(!Object.prototype.hasOwnProperty.call(n,a[c])||!Hh(s[a[c]],n[a[c]]))return!1;return!0}var Pd=Symbol.for("react-redux-context"),Td=typeof globalThis<"u"?globalThis:{};function dv(){if(!S.createContext)return{};const s=Td[Pd]??(Td[Pd]=new Map);let n=s.get(S.createContext);return n||(n=S.createContext(null),s.set(S.createContext,n)),n}var Cr=dv();function uv(s){const{children:n,context:a,serverState:i,store:c}=s,d=S.useMemo(()=>{const f=rv(c);return{store:c,subscription:f,getServerState:i?()=>i:void 0}},[c,i]),u=S.useMemo(()=>c.getState(),[c]);cv(()=>{const{subscription:f}=d;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),u!==c.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[d,u]);const x=a||Cr;return S.createElement(x.Provider,{value:d},n)}var mv=uv;function yu(s=Cr){return function(){return S.useContext(s)}}var Zx=yu();function ep(s=Cr){const n=s===Cr?Zx:yu(s),a=()=>{const{store:i}=n();return i};return Object.assign(a,{withTypes:()=>a}),a}var tp=ep();function fv(s=Cr){const n=s===Cr?tp:ep(s),a=()=>n().dispatch;return Object.assign(a,{withTypes:()=>a}),a}var sp=fv(),hv=(s,n)=>s===n;function xv(s=Cr){const n=s===Cr?Zx:yu(s),a=(i,c={})=>{const{equalityFn:d=hv}=typeof c=="function"?{equalityFn:c}:c,u=n(),{store:x,subscription:f,getServerState:p}=u;S.useRef(!0);const g=S.useCallback({[i.name](w){return i(w)}}[i.name],[i]),y=tv.useSyncExternalStoreWithSelector(f.addNestedSub,x.getState,p||x.getState,g,d);return S.useDebugValue(y),y};return Object.assign(a,{withTypes:()=>a}),a}var rp=xv(),pv=Jx;function Wi(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Wi=function(a){return typeof a}:Wi=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Wi(s)}function gv(s,n){if(!(s instanceof n))throw new TypeError("Cannot call a class as a function")}function yv(s,n){for(var a=0;a<n.length;a++){var i=n[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(s,i.key,i)}}function vv(s,n,a){return n&&yv(s.prototype,n),s}function jv(s,n){return n&&(Wi(n)==="object"||typeof n=="function")?n:Ki(s)}function Vd(s){return Vd=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},Vd(s)}function Ki(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function bv(s,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(n&&n.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),n&&Wd(s,n)}function Wd(s,n){return Wd=Object.setPrototypeOf||function(i,c){return i.__proto__=c,i},Wd(s,n)}function Gi(s,n,a){return n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}var np=(function(s){bv(n,s);function n(){var a,i;gv(this,n);for(var c=arguments.length,d=new Array(c),u=0;u<c;u++)d[u]=arguments[u];return i=jv(this,(a=Vd(n)).call.apply(a,[this].concat(d))),Gi(Ki(i),"state",{bootstrapped:!1}),Gi(Ki(i),"_unsubscribe",void 0),Gi(Ki(i),"handlePersistorState",function(){var x=i.props.persistor,f=x.getState(),p=f.bootstrapped;p&&(i.props.onBeforeLift?Promise.resolve(i.props.onBeforeLift()).finally(function(){return i.setState({bootstrapped:!0})}):i.setState({bootstrapped:!0}),i._unsubscribe&&i._unsubscribe())}),i}return vv(n,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),n})(S.PureComponent);Gi(np,"defaultProps",{children:null,loading:null});var Nv=Xx();const wv=yo(Nv);var Sv=s=>{switch(s){case"success":return Ev;case"info":return Tv;case"warning":return Pv;case"error":return Rv;default:return null}},kv=Array(12).fill(0),Cv=({visible:s,className:n})=>he.createElement("div",{className:["sonner-loading-wrapper",n].filter(Boolean).join(" "),"data-visible":s},he.createElement("div",{className:"sonner-spinner"},kv.map((a,i)=>he.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),Ev=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Pv=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Tv=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Rv=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},he.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Iv=he.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},he.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),he.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),_v=()=>{let[s,n]=he.useState(document.hidden);return he.useEffect(()=>{let a=()=>{n(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),s},Kd=1,Mv=class{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{let n=this.subscribers.indexOf(s);this.subscribers.splice(n,1)}),this.publish=s=>{this.subscribers.forEach(n=>n(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var n;let{message:a,...i}=s,c=typeof(s==null?void 0:s.id)=="number"||((n=s.id)==null?void 0:n.length)>0?s.id:Kd++,d=this.toasts.find(x=>x.id===c),u=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(x=>x.id===c?(this.publish({...x,...s,id:c,title:a}),{...x,...s,id:c,dismissible:u,title:a}):x):this.addToast({title:a,...i,dismissible:u,id:c}),c},this.dismiss=s=>(this.dismissedToasts.add(s),s||this.toasts.forEach(n=>{this.subscribers.forEach(a=>a({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:s,dismiss:!0})),s),this.message=(s,n)=>this.create({...n,message:s}),this.error=(s,n)=>this.create({...n,message:s,type:"error"}),this.success=(s,n)=>this.create({...n,type:"success",message:s}),this.info=(s,n)=>this.create({...n,type:"info",message:s}),this.warning=(s,n)=>this.create({...n,type:"warning",message:s}),this.loading=(s,n)=>this.create({...n,type:"loading",message:s}),this.promise=(s,n)=>{if(!n)return;let a;n.loading!==void 0&&(a=this.create({...n,promise:s,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let i=s instanceof Promise?s:s(),c=a!==void 0,d,u=i.then(async f=>{if(d=["resolve",f],he.isValidElement(f))c=!1,this.create({id:a,type:"default",message:f});else if(Lv(f)&&!f.ok){c=!1;let p=typeof n.error=="function"?await n.error(`HTTP error! status: ${f.status}`):n.error,g=typeof n.description=="function"?await n.description(`HTTP error! status: ${f.status}`):n.description;this.create({id:a,type:"error",message:p,description:g})}else if(n.success!==void 0){c=!1;let p=typeof n.success=="function"?await n.success(f):n.success,g=typeof n.description=="function"?await n.description(f):n.description;this.create({id:a,type:"success",message:p,description:g})}}).catch(async f=>{if(d=["reject",f],n.error!==void 0){c=!1;let p=typeof n.error=="function"?await n.error(f):n.error,g=typeof n.description=="function"?await n.description(f):n.description;this.create({id:a,type:"error",message:p,description:g})}}).finally(()=>{var f;c&&(this.dismiss(a),a=void 0),(f=n.finally)==null||f.call(n)}),x=()=>new Promise((f,p)=>u.then(()=>d[0]==="reject"?p(d[1]):f(d[1])).catch(p));return typeof a!="string"&&typeof a!="number"?{unwrap:x}:Object.assign(a,{unwrap:x})},this.custom=(s,n)=>{let a=(n==null?void 0:n.id)||Kd++;return this.create({jsx:s(a),id:a,...n}),a},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Ft=new Mv,Ov=(s,n)=>{let a=(n==null?void 0:n.id)||Kd++;return Ft.addToast({title:s,...n,id:a}),a},Lv=s=>s&&typeof s=="object"&&"ok"in s&&typeof s.ok=="boolean"&&"status"in s&&typeof s.status=="number",Dv=Ov,Av=()=>Ft.toasts,Fv=()=>Ft.getActiveToasts(),J=Object.assign(Dv,{success:Ft.success,info:Ft.info,warning:Ft.warning,error:Ft.error,custom:Ft.custom,message:Ft.message,promise:Ft.promise,dismiss:Ft.dismiss,loading:Ft.loading},{getHistory:Av,getToasts:Fv});function zv(s,{insertAt:n}={}){if(typeof document>"u")return;let a=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&a.firstChild?a.insertBefore(i,a.firstChild):a.appendChild(i),i.styleSheet?i.styleSheet.cssText=s:i.appendChild(document.createTextNode(s))}zv(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Oi(s){return s.label!==void 0}var $v=3,qv="32px",Uv="16px",Vh=4e3,Bv=356,Qv=14,Hv=20,Vv=200;function ys(...s){return s.filter(Boolean).join(" ")}function Wv(s){let[n,a]=s.split("-"),i=[];return n&&i.push(n),a&&i.push(a),i}var Kv=s=>{var n,a,i,c,d,u,x,f,p,g,y;let{invert:w,toast:v,unstyled:N,interacting:j,setHeights:C,visibleToasts:T,heights:_,index:k,toasts:R,expanded:b,removeToast:E,defaultRichColors:O,closeButton:L,style:M,cancelButtonStyle:A,actionButtonStyle:I,className:F="",descriptionClassName:B="",duration:$,position:q,gap:Z,loadingIcon:ne,expandByDefault:Y,classNames:H,icons:V,closeButtonAriaLabel:D="Close toast",pauseWhenPageIsHidden:W}=s,[se,ae]=he.useState(null),[ie,pe]=he.useState(null),[ce,fe]=he.useState(!1),[Ne,_e]=he.useState(!1),[Ce,Re]=he.useState(!1),[ot,ye]=he.useState(!1),[St,st]=he.useState(!1),[kt,rt]=he.useState(0),[Xt,Jt]=he.useState(0),vt=he.useRef(v.duration||$||Vh),nr=he.useRef(null),qt=he.useRef(null),sn=k===0,bl=k+1<=T,Ct=v.type,ks=v.dismissible!==!1,rn=v.className||"",Nl=v.descriptionClassName||"",Cs=he.useMemo(()=>_.findIndex(Pe=>Pe.toastId===v.id)||0,[_,v.id]),Mr=he.useMemo(()=>{var Pe;return(Pe=v.closeButton)!=null?Pe:L},[v.closeButton,L]),wl=he.useMemo(()=>v.duration||$||Vh,[v.duration,$]),nn=he.useRef(0),Ds=he.useRef(0),Sl=he.useRef(0),Es=he.useRef(null),[Wn,Kn]=q.split("-"),an=he.useMemo(()=>_.reduce((Pe,De,$e)=>$e>=Cs?Pe:Pe+De.height,0),[_,Cs]),ln=_v(),ar=v.invert||w,Ps=Ct==="loading";Ds.current=he.useMemo(()=>Cs*Z+an,[Cs,an]),he.useEffect(()=>{vt.current=wl},[wl]),he.useEffect(()=>{fe(!0)},[]),he.useEffect(()=>{let Pe=qt.current;if(Pe){let De=Pe.getBoundingClientRect().height;return Jt(De),C($e=>[{toastId:v.id,height:De,position:v.position},...$e]),()=>C($e=>$e.filter(Et=>Et.toastId!==v.id))}},[C,v.id]),he.useLayoutEffect(()=>{if(!ce)return;let Pe=qt.current,De=Pe.style.height;Pe.style.height="auto";let $e=Pe.getBoundingClientRect().height;Pe.style.height=De,Jt($e),C(Et=>Et.find(Rt=>Rt.toastId===v.id)?Et.map(Rt=>Rt.toastId===v.id?{...Rt,height:$e}:Rt):[{toastId:v.id,height:$e,position:v.position},...Et])},[ce,v.title,v.description,C,v.id]);let cs=he.useCallback(()=>{_e(!0),rt(Ds.current),C(Pe=>Pe.filter(De=>De.toastId!==v.id)),setTimeout(()=>{E(v)},Vv)},[v,E,C,Ds]);he.useEffect(()=>{if(v.promise&&Ct==="loading"||v.duration===1/0||v.type==="loading")return;let Pe;return b||j||W&&ln?(()=>{if(Sl.current<nn.current){let De=new Date().getTime()-nn.current;vt.current=vt.current-De}Sl.current=new Date().getTime()})():vt.current!==1/0&&(nn.current=new Date().getTime(),Pe=setTimeout(()=>{var De;(De=v.onAutoClose)==null||De.call(v,v),cs()},vt.current)),()=>clearTimeout(Pe)},[b,j,v,Ct,W,ln,cs]),he.useEffect(()=>{v.delete&&cs()},[cs,v.delete]);function kl(){var Pe,De,$e;return V!=null&&V.loading?he.createElement("div",{className:ys(H==null?void 0:H.loader,(Pe=v==null?void 0:v.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":Ct==="loading"},V.loading):ne?he.createElement("div",{className:ys(H==null?void 0:H.loader,(De=v==null?void 0:v.classNames)==null?void 0:De.loader,"sonner-loader"),"data-visible":Ct==="loading"},ne):he.createElement(Cv,{className:ys(H==null?void 0:H.loader,($e=v==null?void 0:v.classNames)==null?void 0:$e.loader),visible:Ct==="loading"})}return he.createElement("li",{tabIndex:0,ref:qt,className:ys(F,rn,H==null?void 0:H.toast,(n=v==null?void 0:v.classNames)==null?void 0:n.toast,H==null?void 0:H.default,H==null?void 0:H[Ct],(a=v==null?void 0:v.classNames)==null?void 0:a[Ct]),"data-sonner-toast":"","data-rich-colors":(i=v.richColors)!=null?i:O,"data-styled":!(v.jsx||v.unstyled||N),"data-mounted":ce,"data-promise":!!v.promise,"data-swiped":St,"data-removed":Ne,"data-visible":bl,"data-y-position":Wn,"data-x-position":Kn,"data-index":k,"data-front":sn,"data-swiping":Ce,"data-dismissible":ks,"data-type":Ct,"data-invert":ar,"data-swipe-out":ot,"data-swipe-direction":ie,"data-expanded":!!(b||Y&&ce),style:{"--index":k,"--toasts-before":k,"--z-index":R.length-k,"--offset":`${Ne?kt:Ds.current}px`,"--initial-height":Y?"auto":`${Xt}px`,...M,...v.style},onDragEnd:()=>{Re(!1),ae(null),Es.current=null},onPointerDown:Pe=>{Ps||!ks||(nr.current=new Date,rt(Ds.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Re(!0),Es.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,De,$e,Et;if(ot||!ks)return;Es.current=null;let Rt=Number(((Pe=qt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),It=Number(((De=qt.current)==null?void 0:De.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ds=new Date().getTime()-(($e=nr.current)==null?void 0:$e.getTime()),ft=se==="x"?Rt:It,Ts=Math.abs(ft)/ds;if(Math.abs(ft)>=Hv||Ts>.11){rt(Ds.current),(Et=v.onDismiss)==null||Et.call(v,v),pe(se==="x"?Rt>0?"right":"left":It>0?"down":"up"),cs(),ye(!0),st(!1);return}Re(!1),ae(null)},onPointerMove:Pe=>{var De,$e,Et,Rt;if(!Es.current||!ks||((De=window.getSelection())==null?void 0:De.toString().length)>0)return;let It=Pe.clientY-Es.current.y,ds=Pe.clientX-Es.current.x,ft=($e=s.swipeDirections)!=null?$e:Wv(q);!se&&(Math.abs(ds)>1||Math.abs(It)>1)&&ae(Math.abs(ds)>Math.abs(It)?"x":"y");let Ts={x:0,y:0};se==="y"?(ft.includes("top")||ft.includes("bottom"))&&(ft.includes("top")&&It<0||ft.includes("bottom")&&It>0)&&(Ts.y=It):se==="x"&&(ft.includes("left")||ft.includes("right"))&&(ft.includes("left")&&ds<0||ft.includes("right")&&ds>0)&&(Ts.x=ds),(Math.abs(Ts.x)>0||Math.abs(Ts.y)>0)&&st(!0),(Et=qt.current)==null||Et.style.setProperty("--swipe-amount-x",`${Ts.x}px`),(Rt=qt.current)==null||Rt.style.setProperty("--swipe-amount-y",`${Ts.y}px`)}},Mr&&!v.jsx?he.createElement("button",{"aria-label":D,"data-disabled":Ps,"data-close-button":!0,onClick:Ps||!ks?()=>{}:()=>{var Pe;cs(),(Pe=v.onDismiss)==null||Pe.call(v,v)},className:ys(H==null?void 0:H.closeButton,(c=v==null?void 0:v.classNames)==null?void 0:c.closeButton)},(d=V==null?void 0:V.close)!=null?d:Iv):null,v.jsx||S.isValidElement(v.title)?v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title:he.createElement(he.Fragment,null,Ct||v.icon||v.promise?he.createElement("div",{"data-icon":"",className:ys(H==null?void 0:H.icon,(u=v==null?void 0:v.classNames)==null?void 0:u.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||kl():null,v.type!=="loading"?v.icon||(V==null?void 0:V[Ct])||Sv(Ct):null):null,he.createElement("div",{"data-content":"",className:ys(H==null?void 0:H.content,(x=v==null?void 0:v.classNames)==null?void 0:x.content)},he.createElement("div",{"data-title":"",className:ys(H==null?void 0:H.title,(f=v==null?void 0:v.classNames)==null?void 0:f.title)},typeof v.title=="function"?v.title():v.title),v.description?he.createElement("div",{"data-description":"",className:ys(B,Nl,H==null?void 0:H.description,(p=v==null?void 0:v.classNames)==null?void 0:p.description)},typeof v.description=="function"?v.description():v.description):null),S.isValidElement(v.cancel)?v.cancel:v.cancel&&Oi(v.cancel)?he.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||A,onClick:Pe=>{var De,$e;Oi(v.cancel)&&ks&&(($e=(De=v.cancel).onClick)==null||$e.call(De,Pe),cs())},className:ys(H==null?void 0:H.cancelButton,(g=v==null?void 0:v.classNames)==null?void 0:g.cancelButton)},v.cancel.label):null,S.isValidElement(v.action)?v.action:v.action&&Oi(v.action)?he.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||I,onClick:Pe=>{var De,$e;Oi(v.action)&&(($e=(De=v.action).onClick)==null||$e.call(De,Pe),!Pe.defaultPrevented&&cs())},className:ys(H==null?void 0:H.actionButton,(y=v==null?void 0:v.classNames)==null?void 0:y.actionButton)},v.action.label):null))};function Wh(){if(typeof window>"u"||typeof document>"u")return"ltr";let s=document.documentElement.getAttribute("dir");return s==="auto"||!s?window.getComputedStyle(document.documentElement).direction:s}function Gv(s,n){let a={};return[s,n].forEach((i,c)=>{let d=c===1,u=d?"--mobile-offset":"--offset",x=d?Uv:qv;function f(p){["top","right","bottom","left"].forEach(g=>{a[`${u}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?f(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?a[`${u}-${p}`]=x:a[`${u}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):f(x)}),a}var Yv=S.forwardRef(function(s,n){let{invert:a,position:i="bottom-right",hotkey:c=["altKey","KeyT"],expand:d,closeButton:u,className:x,offset:f,mobileOffset:p,theme:g="light",richColors:y,duration:w,style:v,visibleToasts:N=$v,toastOptions:j,dir:C=Wh(),gap:T=Qv,loadingIcon:_,icons:k,containerAriaLabel:R="Notifications",pauseWhenPageIsHidden:b}=s,[E,O]=he.useState([]),L=he.useMemo(()=>Array.from(new Set([i].concat(E.filter(W=>W.position).map(W=>W.position)))),[E,i]),[M,A]=he.useState([]),[I,F]=he.useState(!1),[B,$]=he.useState(!1),[q,Z]=he.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=he.useRef(null),Y=c.join("+").replace(/Key/g,"").replace(/Digit/g,""),H=he.useRef(null),V=he.useRef(!1),D=he.useCallback(W=>{O(se=>{var ae;return(ae=se.find(ie=>ie.id===W.id))!=null&&ae.delete||Ft.dismiss(W.id),se.filter(({id:ie})=>ie!==W.id)})},[]);return he.useEffect(()=>Ft.subscribe(W=>{if(W.dismiss){O(se=>se.map(ae=>ae.id===W.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{wv.flushSync(()=>{O(se=>{let ae=se.findIndex(ie=>ie.id===W.id);return ae!==-1?[...se.slice(0,ae),{...se[ae],...W},...se.slice(ae+1)]:[W,...se]})})})}),[]),he.useEffect(()=>{if(g!=="system"){Z(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Z("dark"):Z("light")),typeof window>"u")return;let W=window.matchMedia("(prefers-color-scheme: dark)");try{W.addEventListener("change",({matches:se})=>{Z(se?"dark":"light")})}catch{W.addListener(({matches:ae})=>{try{Z(ae?"dark":"light")}catch(ie){console.error(ie)}})}},[g]),he.useEffect(()=>{E.length<=1&&F(!1)},[E]),he.useEffect(()=>{let W=se=>{var ae,ie;c.every(pe=>se[pe]||se.code===pe)&&(F(!0),(ae=ne.current)==null||ae.focus()),se.code==="Escape"&&(document.activeElement===ne.current||(ie=ne.current)!=null&&ie.contains(document.activeElement))&&F(!1)};return document.addEventListener("keydown",W),()=>document.removeEventListener("keydown",W)},[c]),he.useEffect(()=>{if(ne.current)return()=>{H.current&&(H.current.focus({preventScroll:!0}),H.current=null,V.current=!1)}},[ne.current]),he.createElement("section",{ref:n,"aria-label":`${R} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((W,se)=>{var ae;let[ie,pe]=W.split("-");return E.length?he.createElement("ol",{key:W,dir:C==="auto"?Wh():C,tabIndex:-1,ref:ne,className:x,"data-sonner-toaster":!0,"data-theme":q,"data-y-position":ie,"data-lifted":I&&E.length>1&&!d,"data-x-position":pe,style:{"--front-toast-height":`${((ae=M[0])==null?void 0:ae.height)||0}px`,"--width":`${Bv}px`,"--gap":`${T}px`,...v,...Gv(f,p)},onBlur:ce=>{V.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(V.current=!1,H.current&&(H.current.focus({preventScroll:!0}),H.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||V.current||(V.current=!0,H.current=ce.relatedTarget)},onMouseEnter:()=>F(!0),onMouseMove:()=>F(!0),onMouseLeave:()=>{B||F(!1)},onDragEnd:()=>F(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},E.filter(ce=>!ce.position&&se===0||ce.position===W).map((ce,fe)=>{var Ne,_e;return he.createElement(Kv,{key:ce.id,icons:k,index:fe,toast:ce,defaultRichColors:y,duration:(Ne=j==null?void 0:j.duration)!=null?Ne:w,className:j==null?void 0:j.className,descriptionClassName:j==null?void 0:j.descriptionClassName,invert:a,visibleToasts:N,closeButton:(_e=j==null?void 0:j.closeButton)!=null?_e:u,interacting:B,position:W,style:j==null?void 0:j.style,unstyled:j==null?void 0:j.unstyled,classNames:j==null?void 0:j.classNames,cancelButtonStyle:j==null?void 0:j.cancelButtonStyle,actionButtonStyle:j==null?void 0:j.actionButtonStyle,removeToast:D,toasts:E.filter(Ce=>Ce.position==ce.position),heights:M.filter(Ce=>Ce.position==ce.position),setHeights:A,expandByDefault:d,gap:T,loadingIcon:_,expanded:I,pauseWhenPageIsHidden:b,swipeDirections:s.swipeDirections})})):null}))});function pt(s){return`Minified Redux error #${s}; visit https://redux.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var Xv=typeof Symbol=="function"&&Symbol.observable||"@@observable",Kh=Xv,Rd=()=>Math.random().toString(36).substring(7).split("").join("."),Jv={INIT:`@@redux/INIT${Rd()}`,REPLACE:`@@redux/REPLACE${Rd()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Rd()}`},to=Jv;function Er(s){if(typeof s!="object"||s===null)return!1;let n=s;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(s)===n||Object.getPrototypeOf(s)===null}function vu(s,n,a){if(typeof s!="function")throw new Error(pt(2));if(typeof n=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(pt(0));if(typeof n=="function"&&typeof a>"u"&&(a=n,n=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(pt(1));return a(vu)(s,n)}let i=s,c=n,d=new Map,u=d,x=0,f=!1;function p(){u===d&&(u=new Map,d.forEach((C,T)=>{u.set(T,C)}))}function g(){if(f)throw new Error(pt(3));return c}function y(C){if(typeof C!="function")throw new Error(pt(4));if(f)throw new Error(pt(5));let T=!0;p();const _=x++;return u.set(_,C),function(){if(T){if(f)throw new Error(pt(6));T=!1,p(),u.delete(_),d=null}}}function w(C){if(!Er(C))throw new Error(pt(7));if(typeof C.type>"u")throw new Error(pt(8));if(typeof C.type!="string")throw new Error(pt(17));if(f)throw new Error(pt(9));try{f=!0,c=i(c,C)}finally{f=!1}return(d=u).forEach(_=>{_()}),C}function v(C){if(typeof C!="function")throw new Error(pt(10));i=C,w({type:to.REPLACE})}function N(){const C=y;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(pt(11));function _(){const R=T;R.next&&R.next(g())}return _(),{unsubscribe:C(_)}},[Kh](){return this}}}return w({type:to.INIT}),{dispatch:w,subscribe:y,getState:g,replaceReducer:v,[Kh]:N}}function Zv(s){Object.keys(s).forEach(n=>{const a=s[n];if(typeof a(void 0,{type:to.INIT})>"u")throw new Error(pt(12));if(typeof a(void 0,{type:to.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pt(13))})}function ju(s){const n=Object.keys(s),a={};for(let d=0;d<n.length;d++){const u=n[d];typeof s[u]=="function"&&(a[u]=s[u])}const i=Object.keys(a);let c;try{Zv(a)}catch(d){c=d}return function(u={},x){if(c)throw c;let f=!1;const p={};for(let g=0;g<i.length;g++){const y=i[g],w=a[y],v=u[y],N=w(v,x);if(typeof N>"u")throw x&&x.type,new Error(pt(14));p[y]=N,f=f||N!==v}return f=f||i.length!==Object.keys(u).length,f?p:u}}function so(...s){return s.length===0?n=>n:s.length===1?s[0]:s.reduce((n,a)=>(...i)=>n(a(...i)))}function ej(...s){return n=>(a,i)=>{const c=n(a,i);let d=()=>{throw new Error(pt(15))};const u={getState:c.getState,dispatch:(f,...p)=>d(f,...p)},x=s.map(f=>f(u));return d=so(...x)(c.dispatch),{...c,dispatch:d}}}function ap(s){return Er(s)&&"type"in s&&typeof s.type=="string"}var bu=Symbol.for("immer-nothing"),za=Symbol.for("immer-draftable"),mt=Symbol.for("immer-state");function gt(s,...n){throw new Error(`[Immer] minified error nr: ${s}. Full error at: https://bit.ly/3cXEKWf`)}var Vt=Object,Yr=Vt.getPrototypeOf,Ba="constructor",sl="prototype",Gd="configurable",ro="enumerable",Yi="writable",Qa="value",Kt=s=>!!s&&!!s[mt];function Gt(s){var n;return s?lp(s)||nl(s)||!!s[za]||!!((n=s[Ba])!=null&&n[za])||al(s)||ll(s):!1}var tj=Vt[sl][Ba].toString(),Gh=new WeakMap;function lp(s){if(!s||!Ln(s))return!1;const n=Yr(s);if(n===null||n===Vt[sl])return!0;const a=Vt.hasOwnProperty.call(n,Ba)&&n[Ba];if(a===Object)return!0;if(!Gr(a))return!1;let i=Gh.get(a);return i===void 0&&(i=Function.toString.call(a),Gh.set(a,i)),i===tj}function sj(s){return Kt(s)||gt(15,s),s[mt].base_}function rl(s,n,a=!0){Xr(s)===0?(a?Reflect.ownKeys(s):Vt.keys(s)).forEach(c=>{n(c,s[c],s)}):s.forEach((i,c)=>n(c,i,s))}function Xr(s){const n=s[mt];return n?n.type_:nl(s)?1:al(s)?2:ll(s)?3:0}var $a=(s,n,a=Xr(s))=>a===2?s.has(n):Vt[sl].hasOwnProperty.call(s,n),Gs=(s,n,a=Xr(s))=>a===2?s.get(n):s[n],no=(s,n,a,i=Xr(s))=>{i===2?s.set(n,a):i===3?s.add(a):s[n]=a};function rj(s,n){return s===n?s!==0||1/s===1/n:s!==s&&n!==n}var nl=Array.isArray,al=s=>s instanceof Map,ll=s=>s instanceof Set,Ln=s=>typeof s=="object",Gr=s=>typeof s=="function",Id=s=>typeof s=="boolean";function nj(s){const n=+s;return Number.isInteger(n)&&String(n)===s}var aj=s=>Ln(s)?s==null?void 0:s[mt]:null,Ys=s=>s.copy_||s.base_,Nu=s=>s.modified_?s.copy_:s.base_;function Yd(s,n){if(al(s))return new Map(s);if(ll(s))return new Set(s);if(nl(s))return Array[sl].slice.call(s);const a=lp(s);if(n===!0||n==="class_only"&&!a){const i=Vt.getOwnPropertyDescriptors(s);delete i[mt];let c=Reflect.ownKeys(i);for(let d=0;d<c.length;d++){const u=c[d],x=i[u];x[Yi]===!1&&(x[Yi]=!0,x[Gd]=!0),(x.get||x.set)&&(i[u]={[Gd]:!0,[Yi]:!0,[ro]:x[ro],[Qa]:s[u]})}return Vt.create(Yr(s),i)}else{const i=Yr(s);if(i!==null&&a)return{...s};const c=Vt.create(i);return Vt.assign(c,s)}}function wu(s,n=!1){return jo(s)||Kt(s)||!Gt(s)||(Xr(s)>1&&Vt.defineProperties(s,{set:Li,add:Li,clear:Li,delete:Li}),Vt.freeze(s),n&&rl(s,(a,i)=>{wu(i,!0)},!1)),s}function lj(){gt(2)}var Li={[Qa]:lj};function jo(s){return s===null||!Ln(s)?!0:Vt.isFrozen(s)}var ao="MapSet",lo="Patches",Yh="ArrayMethods",io={};function Jr(s){const n=io[s];return n||gt(0,s),n}var Xh=s=>!!io[s];function ij(s,n){io[s]||(io[s]=n)}var Ha,ip=()=>Ha,oj=(s,n)=>({drafts_:[],parent_:s,immer_:n,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Xh(ao)?Jr(ao):void 0,arrayMethodsPlugin_:Xh(Yh)?Jr(Yh):void 0});function Jh(s,n){n&&(s.patchPlugin_=Jr(lo),s.patches_=[],s.inversePatches_=[],s.patchListener_=n)}function Xd(s){Jd(s),s.drafts_.forEach(cj),s.drafts_=null}function Jd(s){s===Ha&&(Ha=s.parent_)}var Zh=s=>Ha=oj(Ha,s);function cj(s){const n=s[mt];n.type_===0||n.type_===1?n.revoke_():n.revoked_=!0}function ex(s,n){n.unfinalizedDrafts_=n.drafts_.length;const a=n.drafts_[0];if(s!==void 0&&s!==a){a[mt].modified_&&(Xd(n),gt(4)),Gt(s)&&(s=tx(n,s));const{patchPlugin_:c}=n;c&&c.generateReplacementPatches_(a[mt].base_,s,n)}else s=tx(n,a);return dj(n,s,!0),Xd(n),n.patches_&&n.patchListener_(n.patches_,n.inversePatches_),s!==bu?s:void 0}function tx(s,n){if(jo(n))return n;const a=n[mt];if(!a)return oo(n,s.handledSet_,s);if(!bo(a,s))return n;if(!a.modified_)return a.base_;if(!a.finalized_){const{callbacks_:i}=a;if(i)for(;i.length>0;)i.pop()(s);dp(a,s)}return a.copy_}function dj(s,n,a=!1){!s.parent_&&s.immer_.autoFreeze_&&s.canAutoFreeze_&&wu(n,a)}function op(s){s.finalized_=!0,s.scope_.unfinalizedDrafts_--}var bo=(s,n)=>s.scope_===n,uj=[];function cp(s,n,a,i){const c=Ys(s),d=s.type_;if(i!==void 0&&Gs(c,i,d)===n){no(c,i,a,d);return}if(!s.draftLocations_){const x=s.draftLocations_=new Map;rl(c,(f,p)=>{if(Kt(p)){const g=x.get(p)||[];g.push(f),x.set(p,g)}})}const u=s.draftLocations_.get(n)??uj;for(const x of u)no(c,x,a,d)}function mj(s,n,a){s.callbacks_.push(function(c){var x;const d=n;if(!d||!bo(d,c))return;(x=c.mapSetPlugin_)==null||x.fixSetContents(d);const u=Nu(d);cp(s,d.draft_??d,u,a),dp(d,c)})}function dp(s,n){var i;if(s.modified_&&!s.finalized_&&(s.type_===3||s.type_===1&&s.allIndicesReassigned_||(((i=s.assigned_)==null?void 0:i.size)??0)>0)){const{patchPlugin_:c}=n;if(c){const d=c.getPath(s);d&&c.generatePatches_(s,d,n)}op(s)}}function fj(s,n,a){const{scope_:i}=s;if(Kt(a)){const c=a[mt];bo(c,i)&&c.callbacks_.push(function(){Xi(s);const u=Nu(c);cp(s,a,u,n)})}else Gt(a)&&s.callbacks_.push(function(){const d=Ys(s);s.type_===3?d.has(a)&&oo(a,i.handledSet_,i):Gs(d,n,s.type_)===a&&i.drafts_.length>1&&(s.assigned_.get(n)??!1)===!0&&s.copy_&&oo(Gs(s.copy_,n,s.type_),i.handledSet_,i)})}function oo(s,n,a){return!a.immer_.autoFreeze_&&a.unfinalizedDrafts_<1||Kt(s)||n.has(s)||!Gt(s)||jo(s)||(n.add(s),rl(s,(i,c)=>{if(Kt(c)){const d=c[mt];if(bo(d,a)){const u=Nu(d);no(s,i,u,s.type_),op(d)}}else Gt(c)&&oo(c,n,a)})),s}function hj(s,n){const a=nl(s),i={type_:a?1:0,scope_:n?n.scope_:ip(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:n,base_:s,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let c=i,d=co;a&&(c=[i],d=Va);const{revoke:u,proxy:x}=Proxy.revocable(c,d);return i.draft_=x,i.revoke_=u,[x,i]}var co={get(s,n){if(n===mt)return s;let a=s.scope_.arrayMethodsPlugin_;const i=s.type_===1&&typeof n=="string";if(i&&a!=null&&a.isArrayOperationMethod(n))return a.createMethodInterceptor(s,n);const c=Ys(s);if(!$a(c,n,s.type_))return xj(s,c,n);const d=c[n];if(s.finalized_||!Gt(d)||i&&s.operationMethod&&(a!=null&&a.isMutatingArrayMethod(s.operationMethod))&&nj(n))return d;if(d===_d(s.base_,n)){Xi(s);const u=s.type_===1?+n:n,x=eu(s.scope_,d,s,u);return s.copy_[u]=x}return d},has(s,n){return n in Ys(s)},ownKeys(s){return Reflect.ownKeys(Ys(s))},set(s,n,a){const i=up(Ys(s),n);if(i!=null&&i.set)return i.set.call(s.draft_,a),!0;if(!s.modified_){const c=_d(Ys(s),n),d=c==null?void 0:c[mt];if(d&&d.base_===a)return s.copy_[n]=a,s.assigned_.set(n,!1),!0;if(rj(a,c)&&(a!==void 0||$a(s.base_,n,s.type_)))return!0;Xi(s),Zd(s)}return s.copy_[n]===a&&(a!==void 0||n in s.copy_)||Number.isNaN(a)&&Number.isNaN(s.copy_[n])||(s.copy_[n]=a,s.assigned_.set(n,!0),fj(s,n,a)),!0},deleteProperty(s,n){return Xi(s),_d(s.base_,n)!==void 0||n in s.base_?(s.assigned_.set(n,!1),Zd(s)):s.assigned_.delete(n),s.copy_&&delete s.copy_[n],!0},getOwnPropertyDescriptor(s,n){const a=Ys(s),i=Reflect.getOwnPropertyDescriptor(a,n);return i&&{[Yi]:!0,[Gd]:s.type_!==1||n!=="length",[ro]:i[ro],[Qa]:a[n]}},defineProperty(){gt(11)},getPrototypeOf(s){return Yr(s.base_)},setPrototypeOf(){gt(12)}},Va={};for(let s in co){let n=co[s];Va[s]=function(){const a=arguments;return a[0]=a[0][0],n.apply(this,a)}}Va.deleteProperty=function(s,n){return Va.set.call(this,s,n,void 0)};Va.set=function(s,n,a){return co.set.call(this,s[0],n,a,s[0])};function _d(s,n){const a=s[mt];return(a?Ys(a):s)[n]}function xj(s,n,a){var c;const i=up(n,a);return i?Qa in i?i[Qa]:(c=i.get)==null?void 0:c.call(s.draft_):void 0}function up(s,n){if(!(n in s))return;let a=Yr(s);for(;a;){const i=Object.getOwnPropertyDescriptor(a,n);if(i)return i;a=Yr(a)}}function Zd(s){s.modified_||(s.modified_=!0,s.parent_&&Zd(s.parent_))}function Xi(s){s.copy_||(s.assigned_=new Map,s.copy_=Yd(s.base_,s.scope_.immer_.useStrictShallowCopy_))}var pj=class{constructor(s){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,a,i)=>{if(Gr(n)&&!Gr(a)){const d=a;a=n;const u=this;return function(f=d,...p){return u.produce(f,g=>a.call(this,g,...p))}}Gr(a)||gt(6),i!==void 0&&!Gr(i)&&gt(7);let c;if(Gt(n)){const d=Zh(this),u=eu(d,n,void 0);let x=!0;try{c=a(u),x=!1}finally{x?Xd(d):Jd(d)}return Jh(d,i),ex(c,d)}else if(!n||!Ln(n)){if(c=a(n),c===void 0&&(c=n),c===bu&&(c=void 0),this.autoFreeze_&&wu(c,!0),i){const d=[],u=[];Jr(lo).generateReplacementPatches_(n,c,{patches_:d,inversePatches_:u}),i(d,u)}return c}else gt(1,n)},this.produceWithPatches=(n,a)=>{if(Gr(n))return(u,...x)=>this.produceWithPatches(u,f=>n(f,...x));let i,c;return[this.produce(n,a,(u,x)=>{i=u,c=x}),i,c]},Id(s==null?void 0:s.autoFreeze)&&this.setAutoFreeze(s.autoFreeze),Id(s==null?void 0:s.useStrictShallowCopy)&&this.setUseStrictShallowCopy(s.useStrictShallowCopy),Id(s==null?void 0:s.useStrictIteration)&&this.setUseStrictIteration(s.useStrictIteration)}createDraft(s){Gt(s)||gt(8),Kt(s)&&(s=mp(s));const n=Zh(this),a=eu(n,s,void 0);return a[mt].isManual_=!0,Jd(n),a}finishDraft(s,n){const a=s&&s[mt];(!a||!a.isManual_)&&gt(9);const{scope_:i}=a;return Jh(i,n),ex(void 0,i)}setAutoFreeze(s){this.autoFreeze_=s}setUseStrictShallowCopy(s){this.useStrictShallowCopy_=s}setUseStrictIteration(s){this.useStrictIteration_=s}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(s,n){let a;for(a=n.length-1;a>=0;a--){const c=n[a];if(c.path.length===0&&c.op==="replace"){s=c.value;break}}a>-1&&(n=n.slice(a+1));const i=Jr(lo).applyPatches_;return Kt(s)?i(s,n):this.produce(s,c=>i(c,n))}};function eu(s,n,a,i){const[c,d]=al(n)?Jr(ao).proxyMap_(n,a):ll(n)?Jr(ao).proxySet_(n,a):hj(n,a);return((a==null?void 0:a.scope_)??ip()).drafts_.push(c),d.callbacks_=(a==null?void 0:a.callbacks_)??[],d.key_=i,a&&i!==void 0?mj(a,d,i):d.callbacks_.push(function(f){var g;(g=f.mapSetPlugin_)==null||g.fixSetContents(d);const{patchPlugin_:p}=f;d.modified_&&p&&p.generatePatches_(d,[],f)}),c}function mp(s){return Kt(s)||gt(10,s),fp(s)}function fp(s){if(!Gt(s)||jo(s))return s;const n=s[mt];let a,i=!0;if(n){if(!n.modified_)return n.base_;n.finalized_=!0,a=Yd(s,n.scope_.immer_.useStrictShallowCopy_),i=n.scope_.immer_.shouldUseStrictIteration()}else a=Yd(s,!0);return rl(a,(c,d)=>{no(a,c,fp(d))},i),n&&(n.finalized_=!1),a}function gj(){function n(N,j=[]){if(N.key_!==void 0){const C=N.parent_.copy_??N.parent_.base_,T=aj(Gs(C,N.key_)),_=Gs(C,N.key_);if(_===void 0||_!==N.draft_&&_!==N.base_&&_!==N.copy_||T!=null&&T.base_!==N.base_)return null;const k=N.parent_.type_===3;let R;if(k){const b=N.parent_;R=Array.from(b.drafts_.keys()).indexOf(N.key_)}else R=N.key_;if(!(k&&C.size>R||$a(C,R)))return null;j.push(R)}if(N.parent_)return n(N.parent_,j);j.reverse();try{a(N.copy_,j)}catch{return null}return j}function a(N,j){let C=N;for(let T=0;T<j.length-1;T++){const _=j[T];if(C=Gs(C,_),!Ln(C)||C===null)throw new Error(`Cannot resolve path at '${j.join("/")}'`)}return C}const i="replace",c="add",d="remove";function u(N,j,C){if(N.scope_.processedForPatches_.has(N))return;N.scope_.processedForPatches_.add(N);const{patches_:T,inversePatches_:_}=C;switch(N.type_){case 0:case 2:return f(N,j,T,_);case 1:return x(N,j,T,_);case 3:return p(N,j,T,_)}}function x(N,j,C,T){let{base_:_,assigned_:k}=N,R=N.copy_;R.length<_.length&&([_,R]=[R,_],[C,T]=[T,C]);const b=N.allIndicesReassigned_===!0;for(let E=0;E<_.length;E++){const O=R[E],L=_[E];if((b||(k==null?void 0:k.get(E.toString())))&&O!==L){const A=O==null?void 0:O[mt];if(A&&A.modified_)continue;const I=j.concat([E]);C.push({op:i,path:I,value:v(O)}),T.push({op:i,path:I,value:v(L)})}}for(let E=_.length;E<R.length;E++){const O=j.concat([E]);C.push({op:c,path:O,value:v(R[E])})}for(let E=R.length-1;_.length<=E;--E){const O=j.concat([E]);T.push({op:d,path:O})}}function f(N,j,C,T){const{base_:_,copy_:k,type_:R}=N;rl(N.assigned_,(b,E)=>{const O=Gs(_,b,R),L=Gs(k,b,R),M=E?$a(_,b)?i:c:d;if(O===L&&M===i)return;const A=j.concat(b);C.push(M===d?{op:M,path:A}:{op:M,path:A,value:v(L)}),T.push(M===c?{op:d,path:A}:M===d?{op:c,path:A,value:v(O)}:{op:i,path:A,value:v(O)})})}function p(N,j,C,T){let{base_:_,copy_:k}=N,R=0;_.forEach(b=>{if(!k.has(b)){const E=j.concat([R]);C.push({op:d,path:E,value:b}),T.unshift({op:c,path:E,value:b})}R++}),R=0,k.forEach(b=>{if(!_.has(b)){const E=j.concat([R]);C.push({op:c,path:E,value:b}),T.unshift({op:d,path:E,value:b})}R++})}function g(N,j,C){const{patches_:T,inversePatches_:_}=C;T.push({op:i,path:[],value:j===bu?void 0:j}),_.push({op:i,path:[],value:N})}function y(N,j){return j.forEach(C=>{const{path:T,op:_}=C;let k=N;for(let O=0;O<T.length-1;O++){const L=Xr(k);let M=T[O];typeof M!="string"&&typeof M!="number"&&(M=""+M),(L===0||L===1)&&(M==="__proto__"||M===Ba)&&gt(19),Gr(k)&&M===sl&&gt(19),k=Gs(k,M),Ln(k)||gt(18,T.join("/"))}const R=Xr(k),b=w(C.value),E=T[T.length-1];switch(_){case i:switch(R){case 2:return k.set(E,b);case 3:gt(16);default:return k[E]=b}case c:switch(R){case 1:return E==="-"?k.push(b):k.splice(E,0,b);case 2:return k.set(E,b);case 3:return k.add(b);default:return k[E]=b}case d:switch(R){case 1:return k.splice(E,1);case 2:return k.delete(E);case 3:return k.delete(C.value);default:return delete k[E]}default:gt(17,_)}}),N}function w(N){if(!Gt(N))return N;if(nl(N))return N.map(w);if(al(N))return new Map(Array.from(N.entries()).map(([C,T])=>[C,w(T)]));if(ll(N))return new Set(Array.from(N).map(w));const j=Object.create(Yr(N));for(const C in N)j[C]=w(N[C]);return $a(N,za)&&(j[za]=N[za]),j}function v(N){return Kt(N)?w(N):N}ij(lo,{applyPatches_:y,generatePatches_:u,generateReplacementPatches_:g,getPath:n})}var Wa=new pj,il=Wa.produce,hp=Wa.produceWithPatches.bind(Wa),sx=Wa.applyPatches.bind(Wa);function yj(s,n=`expected a function, instead received ${typeof s}`){if(typeof s!="function")throw new TypeError(n)}function vj(s,n=`expected an object, instead received ${typeof s}`){if(typeof s!="object")throw new TypeError(n)}function jj(s,n="expected all items to be functions, instead received the following types: "){if(!s.every(a=>typeof a=="function")){const a=s.map(i=>typeof i=="function"?`function ${i.name||"unnamed"}()`:typeof i).join(", ");throw new TypeError(`${n}[${a}]`)}}var rx=s=>Array.isArray(s)?s:[s];function bj(s){const n=Array.isArray(s[0])?s[0]:s;return jj(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function Nj(s,n){const a=[],{length:i}=s;for(let c=0;c<i;c++)a.push(s[c].apply(null,n));return a}var wj=class{constructor(s){this.value=s}deref(){return this.value}},Sj=typeof WeakRef<"u"?WeakRef:wj,kj=0,nx=1;function Di(){return{s:kj,v:void 0,o:null,p:null}}function uo(s,n={}){let a=Di();const{resultEqualityCheck:i}=n;let c,d=0;function u(){var y;let x=a;const{length:f}=arguments;for(let w=0,v=f;w<v;w++){const N=arguments[w];if(typeof N=="function"||typeof N=="object"&&N!==null){let j=x.o;j===null&&(x.o=j=new WeakMap);const C=j.get(N);C===void 0?(x=Di(),j.set(N,x)):x=C}else{let j=x.p;j===null&&(x.p=j=new Map);const C=j.get(N);C===void 0?(x=Di(),j.set(N,x)):x=C}}const p=x;let g;if(x.s===nx)g=x.v;else if(g=s.apply(null,arguments),d++,i){const w=((y=c==null?void 0:c.deref)==null?void 0:y.call(c))??c;w!=null&&i(w,g)&&(g=w,d!==0&&d--),c=typeof g=="object"&&g!==null||typeof g=="function"?new Sj(g):g}return p.s=nx,p.v=g,g}return u.clearCache=()=>{a=Di(),u.resetResultsCount()},u.resultsCount=()=>d,u.resetResultsCount=()=>{d=0},u}function Cj(s,...n){const a=typeof s=="function"?{memoize:s,memoizeOptions:n}:s,i=(...c)=>{let d=0,u=0,x,f={},p=c.pop();typeof p=="object"&&(f=p,p=c.pop()),yj(p,`createSelector expects an output function after the inputs, but received: [${typeof p}]`);const g={...a,...f},{memoize:y,memoizeOptions:w=[],argsMemoize:v=uo,argsMemoizeOptions:N=[]}=g,j=rx(w),C=rx(N),T=bj(c),_=y(function(){return d++,p.apply(null,arguments)},...j),k=v(function(){u++;const b=Nj(T,arguments);return x=_.apply(null,b),x},...C);return Object.assign(k,{resultFunc:p,memoizedResultFunc:_,dependencies:T,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>x,recomputations:()=>d,resetRecomputations:()=>{d=0},memoize:y,argsMemoize:v})};return Object.assign(i,{withTypes:()=>i}),i}var Su=Cj(uo),Ej=Object.assign((s,n=Su)=>{vj(s,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof s}`);const a=Object.keys(s),i=a.map(d=>s[d]);return n(i,(...d)=>d.reduce((u,x,f)=>(u[a[f]]=x,u),{}))},{withTypes:()=>Ej});function xp(s){return({dispatch:a,getState:i})=>c=>d=>typeof d=="function"?d(a,i,s):c(d)}var Pj=xp(),Tj=xp,Rj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?so:so.apply(null,arguments)},Ij=s=>s&&typeof s.match=="function";function js(s,n){function a(...i){if(n){let c=n(...i);if(!c)throw new Error(as(0));return{type:s,payload:c.payload,..."meta"in c&&{meta:c.meta},..."error"in c&&{error:c.error}}}return{type:s,payload:i[0]}}return a.toString=()=>`${s}`,a.type=s,a.match=i=>ap(i)&&i.type===s,a}var pp=class La extends Array{constructor(...n){super(...n),Object.setPrototypeOf(this,La.prototype)}static get[Symbol.species](){return La}concat(...n){return super.concat.apply(this,n)}prepend(...n){return n.length===1&&Array.isArray(n[0])?new La(...n[0].concat(this)):new La(...n.concat(this))}};function ax(s){return Gt(s)?il(s,()=>{}):s}function Ai(s,n,a){return s.has(n)?s.get(n):s.set(n,a(n)).get(n)}function _j(s){return typeof s=="boolean"}var Mj=()=>function(n){const{thunk:a=!0,immutableCheck:i=!0,serializableCheck:c=!0,actionCreatorCheck:d=!0}=n??{};let u=new pp;return a&&(_j(a)?u.push(Pj):u.push(Tj(a.extraArgument))),u},No="RTK_autoBatch",Ra=()=>s=>({payload:s,meta:{[No]:!0}}),lx=s=>n=>{setTimeout(n,s)},Oj=(s={type:"raf"})=>n=>(...a)=>{const i=n(...a);let c=!0,d=!1,u=!1;const x=new Set,f=s.type==="tick"?queueMicrotask:s.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:lx(10):s.type==="callback"?s.queueNotification:lx(s.timeout),p=()=>{u=!1,d&&(d=!1,x.forEach(g=>g()))};return Object.assign({},i,{subscribe(g){const y=()=>c&&g(),w=i.subscribe(y);return x.add(g),()=>{w(),x.delete(g)}},dispatch(g){var y;try{return c=!((y=g==null?void 0:g.meta)!=null&&y[No]),d=!c,d&&(u||(u=!0,f(p))),i.dispatch(g)}finally{c=!0}}})},Lj=s=>function(a){const{autoBatch:i=!0}=a??{};let c=new pp(s);return i&&c.push(Oj(typeof i=="object"?i:void 0)),c};function Dj(s){const n=Mj(),{reducer:a=void 0,middleware:i,devTools:c=!0,preloadedState:d=void 0,enhancers:u=void 0}=s||{};let x;if(typeof a=="function")x=a;else if(Er(a))x=ju(a);else throw new Error(as(1));let f;typeof i=="function"?f=i(n):f=n();let p=so;c&&(p=Rj({trace:!1,...typeof c=="object"&&c}));const g=ej(...f),y=Lj(g);let w=typeof u=="function"?u(y):y();const v=p(...w);return vu(x,d,v)}function gp(s){const n={},a=[];let i;const c={addCase(d,u){const x=typeof d=="string"?d:d.type;if(!x)throw new Error(as(28));if(x in n)throw new Error(as(29));return n[x]=u,c},addAsyncThunk(d,u){return u.pending&&(n[d.pending.type]=u.pending),u.rejected&&(n[d.rejected.type]=u.rejected),u.fulfilled&&(n[d.fulfilled.type]=u.fulfilled),u.settled&&a.push({matcher:d.settled,reducer:u.settled}),c},addMatcher(d,u){return a.push({matcher:d,reducer:u}),c},addDefaultCase(d){return i=d,c}};return s(c),[n,a,i]}function Aj(s){return typeof s=="function"}function Fj(s,n){let[a,i,c]=gp(n),d;if(Aj(s))d=()=>ax(s());else{const x=ax(s);d=()=>x}function u(x=d(),f){let p=[a[f.type],...i.filter(({matcher:g})=>g(f)).map(({reducer:g})=>g)];return p.filter(g=>!!g).length===0&&(p=[c]),p.reduce((g,y)=>{if(y)if(Kt(g)){const v=y(g,f);return v===void 0?g:v}else{if(Gt(g))return il(g,w=>y(w,f));{const w=y(g,f);if(w===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return w}}return g},x)}return u.getInitialState=d,u}var yp=(s,n)=>Ij(s)?s.match(n):s(n);function Js(...s){return n=>s.some(a=>yp(a,n))}function qa(...s){return n=>s.every(a=>yp(a,n))}function wo(s,n){if(!s||!s.meta)return!1;const a=typeof s.meta.requestId=="string",i=n.indexOf(s.meta.requestStatus)>-1;return a&&i}function ol(s){return typeof s[0]=="function"&&"pending"in s[0]&&"fulfilled"in s[0]&&"rejected"in s[0]}function ku(...s){return s.length===0?n=>wo(n,["pending"]):ol(s)?Js(...s.map(n=>n.pending)):ku()(s[0])}function Dn(...s){return s.length===0?n=>wo(n,["rejected"]):ol(s)?Js(...s.map(n=>n.rejected)):Dn()(s[0])}function So(...s){const n=a=>a&&a.meta&&a.meta.rejectedWithValue;return s.length===0?qa(Dn(...s),n):ol(s)?qa(Dn(...s),n):So()(s[0])}function Pr(...s){return s.length===0?n=>wo(n,["fulfilled"]):ol(s)?Js(...s.map(n=>n.fulfilled)):Pr()(s[0])}function tu(...s){return s.length===0?n=>wo(n,["pending","fulfilled","rejected"]):ol(s)?Js(...s.flatMap(n=>[n.pending,n.rejected,n.fulfilled])):tu()(s[0])}var zj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Cu=(s=21)=>{let n="",a=s;for(;a--;)n+=zj[Math.random()*64|0];return n},$j=["name","message","stack","code"],Md=class{constructor(s,n){Rn(this,"_type");this.payload=s,this.meta=n}},ix=class{constructor(s,n){Rn(this,"_type");this.payload=s,this.meta=n}},qj=s=>{if(typeof s=="object"&&s!==null){const n={};for(const a of $j)typeof s[a]=="string"&&(n[a]=s[a]);return n}return{message:String(s)}},ox="External signal was aborted",cx=(()=>{function s(n,a,i){const c=js(n+"/fulfilled",(f,p,g,y)=>({payload:f,meta:{...y||{},arg:g,requestId:p,requestStatus:"fulfilled"}})),d=js(n+"/pending",(f,p,g)=>({payload:void 0,meta:{...g||{},arg:p,requestId:f,requestStatus:"pending"}})),u=js(n+"/rejected",(f,p,g,y,w)=>({payload:y,error:(i&&i.serializeError||qj)(f||"Rejected"),meta:{...w||{},arg:g,requestId:p,rejectedWithValue:!!y,requestStatus:"rejected",aborted:(f==null?void 0:f.name)==="AbortError",condition:(f==null?void 0:f.name)==="ConditionError"}}));function x(f,{signal:p}={}){return(g,y,w)=>{const v=i!=null&&i.idGenerator?i.idGenerator(f):Cu(),N=new AbortController;let j,C;function T(k){C=k,N.abort()}p&&(p.aborted?T(ox):p.addEventListener("abort",()=>T(ox),{once:!0}));const _=(async function(){var b,E;let k;try{let O=(b=i==null?void 0:i.condition)==null?void 0:b.call(i,f,{getState:y,extra:w});if(Bj(O)&&(O=await O),O===!1||N.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const L=new Promise((M,A)=>{j=()=>{A({name:"AbortError",message:C||"Aborted"})},N.signal.addEventListener("abort",j,{once:!0})});g(d(v,f,(E=i==null?void 0:i.getPendingMeta)==null?void 0:E.call(i,{requestId:v,arg:f},{getState:y,extra:w}))),k=await Promise.race([L,Promise.resolve(a(f,{dispatch:g,getState:y,extra:w,requestId:v,signal:N.signal,abort:T,rejectWithValue:(M,A)=>new Md(M,A),fulfillWithValue:(M,A)=>new ix(M,A)})).then(M=>{if(M instanceof Md)throw M;return M instanceof ix?c(M.payload,v,f,M.meta):c(M,v,f)})])}catch(O){k=O instanceof Md?u(null,v,f,O.payload,O.meta):u(O,v,f)}finally{j&&N.signal.removeEventListener("abort",j)}return i&&!i.dispatchConditionRejection&&u.match(k)&&k.meta.condition||g(k),k})();return Object.assign(_,{abort:T,requestId:v,arg:f,unwrap(){return _.then(Uj)}})}}return Object.assign(x,{pending:d,rejected:u,fulfilled:c,settled:Js(u,c),typePrefix:n})}return s.withTypes=()=>s,s})();function Uj(s){if(s.meta&&s.meta.rejectedWithValue)throw s.payload;if(s.error)throw s.error;return s.payload}function Bj(s){return s!==null&&typeof s=="object"&&typeof s.then=="function"}var Qj=Symbol.for("rtk-slice-createasyncthunk");function Hj(s,n){return`${s}/${n}`}function Vj({creators:s}={}){var a;const n=(a=s==null?void 0:s.asyncThunk)==null?void 0:a[Qj];return function(c){const{name:d,reducerPath:u=d}=c;if(!d)throw new Error(as(11));const x=(typeof c.reducers=="function"?c.reducers(Kj()):c.reducers)||{},f=Object.keys(x),p={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},g={addCase(R,b){const E=typeof R=="string"?R:R.type;if(!E)throw new Error(as(12));if(E in p.sliceCaseReducersByType)throw new Error(as(13));return p.sliceCaseReducersByType[E]=b,g},addMatcher(R,b){return p.sliceMatchers.push({matcher:R,reducer:b}),g},exposeAction(R,b){return p.actionCreators[R]=b,g},exposeCaseReducer(R,b){return p.sliceCaseReducersByName[R]=b,g}};f.forEach(R=>{const b=x[R],E={reducerName:R,type:Hj(d,R),createNotation:typeof c.reducers=="function"};Yj(b)?Jj(E,b,g,n):Gj(E,b,g)});function y(){const[R={},b=[],E=void 0]=typeof c.extraReducers=="function"?gp(c.extraReducers):[c.extraReducers],O={...R,...p.sliceCaseReducersByType};return Fj(c.initialState,L=>{for(let M in O)L.addCase(M,O[M]);for(let M of p.sliceMatchers)L.addMatcher(M.matcher,M.reducer);for(let M of b)L.addMatcher(M.matcher,M.reducer);E&&L.addDefaultCase(E)})}const w=R=>R,v=new Map,N=new WeakMap;let j;function C(R,b){return j||(j=y()),j(R,b)}function T(){return j||(j=y()),j.getInitialState()}function _(R,b=!1){function E(L){let M=L[R];return typeof M>"u"&&b&&(M=Ai(N,E,T)),M}function O(L=w){const M=Ai(v,b,()=>new WeakMap);return Ai(M,L,()=>{const A={};for(const[I,F]of Object.entries(c.selectors??{}))A[I]=Wj(F,L,()=>Ai(N,L,T),b);return A})}return{reducerPath:R,getSelectors:O,get selectors(){return O(E)},selectSlice:E}}const k={name:d,reducer:C,actions:p.actionCreators,caseReducers:p.sliceCaseReducersByName,getInitialState:T,..._(u),injectInto(R,{reducerPath:b,...E}={}){const O=b??u;return R.inject({reducerPath:O,reducer:C},E),{...k,..._(O,!0)}}};return k}}function Wj(s,n,a,i){function c(d,...u){let x=n(d);return typeof x>"u"&&i&&(x=a()),s(x,...u)}return c.unwrapped=s,c}var Ls=Vj();function Kj(){function s(n,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:n,...a}}return s.withTypes=()=>s,{reducer(n){return Object.assign({[n.name](...a){return n(...a)}}[n.name],{_reducerDefinitionType:"reducer"})},preparedReducer(n,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:n,reducer:a}},asyncThunk:s}}function Gj({type:s,reducerName:n,createNotation:a},i,c){let d,u;if("reducer"in i){if(a&&!Xj(i))throw new Error(as(17));d=i.reducer,u=i.prepare}else d=i;c.addCase(s,d).exposeCaseReducer(n,d).exposeAction(n,u?js(s,u):js(s))}function Yj(s){return s._reducerDefinitionType==="asyncThunk"}function Xj(s){return s._reducerDefinitionType==="reducerWithPrepare"}function Jj({type:s,reducerName:n},a,i,c){if(!c)throw new Error(as(18));const{payloadCreator:d,fulfilled:u,pending:x,rejected:f,settled:p,options:g}=a,y=c(s,d,g);i.exposeAction(n,y),u&&i.addCase(y.fulfilled,u),x&&i.addCase(y.pending,x),f&&i.addCase(y.rejected,f),p&&i.addMatcher(y.settled,p),i.exposeCaseReducer(n,{fulfilled:u||Fi,pending:x||Fi,rejected:f||Fi,settled:p||Fi})}function Fi(){}function as(s){return`Minified Redux Toolkit error #${s}; visit https://redux-toolkit.js.org/Errors?code=${s} for the full message or use the non-minified dev environment for full errors. `}var Zj=class extends Error{constructor(n){super(n[0].message);Rn(this,"issues");this.name="SchemaError",this.issues=n}},vp=(s=>(s.uninitialized="uninitialized",s.pending="pending",s.fulfilled="fulfilled",s.rejected="rejected",s))(vp||{}),Zs="uninitialized",su="pending",Da="fulfilled",Aa="rejected";function dx(s){return{status:s,isUninitialized:s===Zs,isLoading:s===su,isSuccess:s===Da,isError:s===Aa}}var ux=Er;function Eu(s,n){if(s===n||!(ux(s)&&ux(n)||Array.isArray(s)&&Array.isArray(n)))return n;const a=Object.keys(n),i=Object.keys(s);let c=a.length===i.length;const d=Array.isArray(n)?[]:{};for(const u of a)d[u]=Eu(s[u],n[u]),c&&(c=s[u]===d[u]);return c?s:d}function ru(s,n,a){return s.reduce((i,c,d)=>(n(c,d)&&i.push(a(c,d)),i),[]).flat()}function eb(s){return new RegExp("(^|:)//").test(s)}function tb(){return typeof document>"u"?!0:document.visibilityState!=="hidden"}function Pu(s){return s!=null}function mx(s){return[...(s==null?void 0:s.values())??[]].filter(Pu)}function sb(){return typeof navigator>"u"||navigator.onLine===void 0?!0:navigator.onLine}var rb=s=>s.replace(/\/$/,""),nb=s=>s.replace(/^\//,"");function ab(s,n){if(!s)return n;if(!n)return s;if(eb(n))return n;const a=s.endsWith("/")||!n.startsWith("?")?"/":"";return s=rb(s),n=nb(n),`${s}${a}${n}`}function mo(s,n,a){return s.has(n)?s.get(n):s.set(n,a(n)).get(n)}var nu=()=>new Map,lb=s=>{const n=new AbortController;return setTimeout(()=>{const a="signal timed out",i="TimeoutError";n.abort(typeof DOMException<"u"?new DOMException(a,i):Object.assign(new Error(a),{name:i}))},s),n.signal},ib=(...s)=>{for(const a of s)if(a.aborted)return AbortSignal.abort(a.reason);const n=new AbortController;for(const a of s)a.addEventListener("abort",()=>n.abort(a.reason),{signal:n.signal,once:!0});return n.signal},fx=(...s)=>fetch(...s),ob=s=>s.status>=200&&s.status<=299,cb=s=>/ion\/(vnd\.api\+)?json/.test(s.get("content-type")||"");function hx(s){if(!Er(s))return s;const n={...s};for(const[a,i]of Object.entries(n))i===void 0&&delete n[a];return n}var db=s=>typeof s=="object"&&(Er(s)||Array.isArray(s)||typeof s.toJSON=="function");function ub({baseUrl:s,prepareHeaders:n=y=>y,fetchFn:a=fx,paramsSerializer:i,isJsonContentType:c=cb,jsonContentType:d="application/json",jsonReplacer:u,timeout:x,responseHandler:f,validateStatus:p,...g}={}){return typeof fetch>"u"&&a===fx&&console.warn("Warning: `fetch` is not available. Please supply a custom `fetchFn` property to use `fetchBaseQuery` on SSR environments."),async(w,v,N)=>{const{getState:j,extra:C,endpoint:T,forced:_,type:k}=v;let R,{url:b,headers:E=new Headers(g.headers),params:O=void 0,responseHandler:L=f??"json",validateStatus:M=p??ob,timeout:A=x,...I}=typeof w=="string"?{url:w}:w,F={...g,signal:A?ib(v.signal,lb(A)):v.signal,...I};E=new Headers(hx(E)),F.headers=await n(E,{getState:j,arg:w,extra:C,endpoint:T,forced:_,type:k,extraOptions:N})||E;const B=db(F.body);if(F.body!=null&&!B&&typeof F.body!="string"&&F.headers.delete("content-type"),!F.headers.has("content-type")&&B&&F.headers.set("content-type",d),B&&c(F.headers)&&(F.body=JSON.stringify(F.body,u)),F.headers.has("accept")||(L==="json"?F.headers.set("accept","application/json"):L==="text"&&F.headers.set("accept","text/plain, text/html, */*")),O){const V=~b.indexOf("?")?"&":"?",D=i?i(O):new URLSearchParams(hx(O));b+=V+D}b=ab(s,b);const $=new Request(b,F);R={request:new Request(b,F)};let Z;try{Z=await a($)}catch(V){return{error:{status:(V instanceof Error||typeof DOMException<"u"&&V instanceof DOMException)&&V.name==="TimeoutError"?"TIMEOUT_ERROR":"FETCH_ERROR",error:String(V)},meta:R}}const ne=Z.clone();R.response=ne;let Y,H="";try{let V;if(await Promise.all([y(Z,L).then(D=>Y=D,D=>V=D),ne.text().then(D=>H=D,()=>{})]),V)throw V}catch(V){return{error:{status:"PARSING_ERROR",originalStatus:Z.status,data:H,error:String(V)},meta:R}}return M(Z,Y)?{data:Y,meta:R}:{error:{status:Z.status,data:Y},meta:R}};async function y(w,v){if(typeof v=="function")return v(w);if(v==="content-type"&&(v=c(w.headers)?"json":"text"),v==="json"){const N=await w.text();return N.length?JSON.parse(N):null}return w.text()}}var Mn=class{constructor(s,n=void 0){this.value=s,this.meta=n}};async function mb(s=0,n=5,a){const i=Math.min(s,n),c=~~((Math.random()+.4)*(300<<i));await new Promise((d,u)=>{const x=setTimeout(()=>d(),c);if(a){const f=()=>{clearTimeout(x),u(new Error("Aborted"))};a.aborted?(clearTimeout(x),u(new Error("Aborted"))):a.addEventListener("abort",f,{once:!0})}})}function jp(s,n){throw Object.assign(new Mn({error:s,meta:n}),{throwImmediately:!0})}function Od(s){s.aborted&&jp({status:"CUSTOM_ERROR",error:"Aborted"})}var xx={},fb=(s,n)=>async(a,i,c)=>{const d=[5,(n||xx).maxRetries,(c||xx).maxRetries].filter(g=>g!==void 0),[u]=d.slice(-1),f={maxRetries:u,backoff:mb,retryCondition:(g,y,{attempt:w})=>w<=u,...n,...c};let p=0;for(;;){Od(i.signal);try{const g=await s(a,i,c);if(g.error)throw new Mn(g);return g}catch(g){if(p++,g.throwImmediately){if(g instanceof Mn)return g.value;throw g}if(g instanceof Mn){if(!f.retryCondition(g.value.error,a,{attempt:p,baseQueryApi:i,extraOptions:c}))return g.value}else if(p>f.maxRetries)return{error:g};Od(i.signal);try{await f.backoff(p,f.maxRetries,i.signal)}catch(y){throw Od(i.signal),y}}}},zi=Object.assign(fb,{fail:jp}),ko="__rtkq/",bp="online",Np="offline",hb="focus",wp="focused",xb="visibilitychange",Co=js(`${ko}${wp}`),Tu=js(`${ko}un${wp}`),Eo=js(`${ko}${bp}`),Ru=js(`${ko}${Np}`),$i=!1;function pb(s,n){function a(){const[i,c,d,u]=[Co,Tu,Eo,Ru].map(p=>()=>s(p())),x=()=>{window.document.visibilityState==="visible"?i():c()};let f=()=>{$i=!1};if(!$i&&typeof window<"u"&&window.addEventListener){let p=function(y){Object.entries(g).forEach(([w,v])=>{y?window.addEventListener(w,v,!1):window.removeEventListener(w,v)})};const g={[hb]:i,[xb]:x,[bp]:d,[Np]:u};p(!0),$i=!0,f=()=>{p(!1),$i=!1}}return f}return a()}var cl="query",Sp="mutation",kp="infinitequery";function Po(s){return s.type===cl}function gb(s){return s.type===Sp}function To(s){return s.type===kp}function fo(s){return Po(s)||To(s)}function Iu(s,n,a,i,c,d){const u=yb(s)?s(n,a,i,c):s;return u?ru(u,Pu,x=>d(Cp(x))):[]}function yb(s){return typeof s=="function"}function Cp(s){return typeof s=="string"?{type:s}:s}function vb(s,n){return s.catch(n)}var An=(s,n)=>s.endpointDefinitions[n],Ka=Symbol("forceQueryFn"),au=s=>typeof s[Ka]=="function";function jb({serializeQueryArgs:s,queryThunk:n,infiniteQueryThunk:a,mutationThunk:i,api:c,context:d,getInternalState:u}){const x=R=>{var b;return(b=u(R))==null?void 0:b.runningQueries},f=R=>{var b;return(b=u(R))==null?void 0:b.runningMutations},{unsubscribeQueryResult:p,removeMutationResult:g,updateSubscriptionOptions:y}=c.internalActions;return{buildInitiateQuery:T,buildInitiateInfiniteQuery:_,buildInitiateMutation:k,getRunningQueryThunk:w,getRunningMutationThunk:v,getRunningQueriesThunk:N,getRunningMutationsThunk:j};function w(R,b){return E=>{var M;const O=An(d,R),L=s({queryArgs:b,endpointDefinition:O,endpointName:R});return(M=x(E))==null?void 0:M.get(L)}}function v(R,b){return E=>{var O;return(O=f(E))==null?void 0:O.get(b)}}function N(){return R=>mx(x(R))}function j(){return R=>mx(f(R))}function C(R,b){const E=(O,{subscribe:L=!0,forceRefetch:M,subscriptionOptions:A,[Ka]:I,...F}={})=>(B,$)=>{var ce;const q=s({queryArgs:O,endpointDefinition:b,endpointName:R});let Z;const ne={...F,type:cl,subscribe:L,forceRefetch:M,subscriptionOptions:A,endpointName:R,originalArgs:O,queryCacheKey:q,[Ka]:I};if(Po(b))Z=n(ne);else{const{direction:fe,initialPageParam:Ne,refetchCachedPages:_e}=F;Z=a({...ne,direction:fe,initialPageParam:Ne,refetchCachedPages:_e})}const Y=c.endpoints[R].select(O),H=B(Z),V=Y($()),{requestId:D,abort:W}=H,se=V.requestId!==D,ae=(ce=x(B))==null?void 0:ce.get(q),ie=()=>Y($()),pe=Object.assign(I?H.then(ie):se&&!ae?Promise.resolve(V):Promise.all([ae,H]).then(ie),{arg:O,requestId:D,subscriptionOptions:A,queryCacheKey:q,abort:W,async unwrap(){const fe=await pe;if(fe.isError)throw fe.error;return fe.data},refetch:fe=>B(E(O,{subscribe:!1,forceRefetch:!0,...fe})),unsubscribe(){L&&B(p({queryCacheKey:q,requestId:D}))},updateSubscriptionOptions(fe){pe.subscriptionOptions=fe,B(y({endpointName:R,requestId:D,queryCacheKey:q,options:fe}))}});if(!ae&&!se&&!I){const fe=x(B);fe.set(q,pe),pe.then(()=>{fe.delete(q)})}return pe};return E}function T(R,b){return C(R,b)}function _(R,b){return C(R,b)}function k(R){return(b,{track:E=!0,fixedCacheKey:O}={})=>(L,M)=>{const A=i({type:"mutation",endpointName:R,originalArgs:b,track:E,fixedCacheKey:O}),I=L(A),{requestId:F,abort:B,unwrap:$}=I,q=vb(I.unwrap().then(H=>({data:H})),H=>({error:H})),Z=()=>{L(g({requestId:F,fixedCacheKey:O}))},ne=Object.assign(q,{arg:I.arg,requestId:F,abort:B,unwrap:$,reset:Z}),Y=f(L);return Y.set(F,ne),ne.then(()=>{Y.delete(F)}),O&&(Y.set(O,ne),ne.then(()=>{Y.get(O)===ne&&Y.delete(O)})),ne}}}var Ep=class extends Zj{constructor(s,n,a,i){super(s),this.value=n,this.schemaName=a,this._bqMeta=i}},Wr=(s,n)=>Array.isArray(s)?s.includes(n):!!s;async function Kr(s,n,a,i){const c=await s["~standard"].validate(n);if(c.issues)throw new Ep(c.issues,n,a,i);return c.value}function px(s){return s}var Ia=(s={})=>({...s,[No]:!0});function bb({reducerPath:s,baseQuery:n,context:{endpointDefinitions:a},serializeQueryArgs:i,api:c,assertTagType:d,selectors:u,onSchemaFailure:x,catchSchemaFailure:f,skipSchemaValidation:p}){const g=(I,F,B,$)=>(q,Z)=>{const ne=a[I],Y=i({queryArgs:F,endpointDefinition:ne,endpointName:I});if(q(c.internalActions.queryResultPatched({queryCacheKey:Y,patches:B})),!$)return;const H=c.endpoints[I].select(F)(Z()),V=Iu(ne.providesTags,H.data,void 0,F,{},d);q(c.internalActions.updateProvidedBy([{queryCacheKey:Y,providedTags:V}]))};function y(I,F,B=0){const $=[F,...I];return B&&$.length>B?$.slice(0,-1):$}function w(I,F,B=0){const $=[...I,F];return B&&$.length>B?$.slice(1):$}const v=(I,F,B,$=!0)=>(q,Z)=>{const Y=c.endpoints[I].select(F)(Z()),H={patches:[],inversePatches:[],undo:()=>q(c.util.patchQueryData(I,F,H.inversePatches,$))};if(Y.status===Zs)return H;let V;if("data"in Y)if(Gt(Y.data)){const[D,W,se]=hp(Y.data,B);H.patches.push(...W),H.inversePatches.push(...se),V=D}else V=B(Y.data),H.patches.push({op:"replace",path:[],value:V}),H.inversePatches.push({op:"replace",path:[],value:Y.data});return H.patches.length===0||q(c.util.patchQueryData(I,F,H.patches,$)),H},N=(I,F,B)=>$=>$(c.endpoints[I].initiate(F,{subscribe:!1,forceRefetch:!0,[Ka]:()=>({data:B})})),j=(I,F)=>I.query&&I[F]?I[F]:px,C=async(I,{signal:F,abort:B,rejectWithValue:$,fulfillWithValue:q,dispatch:Z,getState:ne,extra:Y})=>{var se,ae;const H=a[I.endpointName],{metaSchema:V,skipSchemaValidation:D=p}=H,W=I.type===cl;try{let ie=px;const pe={signal:F,abort:B,dispatch:Z,getState:ne,extra:Y,endpoint:I.endpointName,type:I.type,forced:W?T(I,ne()):void 0,queryCacheKey:W?I.queryCacheKey:void 0},ce=W?I[Ka]:void 0;let fe;const Ne=async(Ce,Re,ot,ye)=>{if(Re==null&&Ce.pages.length)return Promise.resolve({data:Ce});const St={queryArg:I.originalArgs,pageParam:Re},st=await _e(St),kt=ye?y:w;return{data:{pages:kt(Ce.pages,st.data,ot),pageParams:kt(Ce.pageParams,Re,ot)},meta:st.meta}};async function _e(Ce){let Re;const{extraOptions:ot,argSchema:ye,rawResponseSchema:St,responseSchema:st}=H;if(ye&&!Wr(D,"arg")&&(Ce=await Kr(ye,Ce,"argSchema",{})),ce?Re=ce():H.query?(ie=j(H,"transformResponse"),Re=await n(H.query(Ce),pe,ot)):Re=await H.queryFn(Ce,pe,ot,Xt=>n(Xt,pe,ot)),typeof process<"u",Re.error)throw new Mn(Re.error,Re.meta);let{data:kt}=Re;St&&!Wr(D,"rawResponse")&&(kt=await Kr(St,Re.data,"rawResponseSchema",Re.meta));let rt=await ie(kt,Re.meta,Ce);return st&&!Wr(D,"response")&&(rt=await Kr(st,rt,"responseSchema",Re.meta)),{...Re,data:rt}}if(W&&"infiniteQueryOptions"in H){const{infiniteQueryOptions:Ce}=H,{maxPages:Re=1/0}=Ce,ot=I.refetchCachedPages??Ce.refetchCachedPages??!0;let ye;const St={pages:[],pageParams:[]},st=(se=u.selectQueryEntry(ne(),I.queryCacheKey))==null?void 0:se.data,rt=T(I,ne())&&!I.direction||!st?St:st;if("direction"in I&&I.direction&&rt.pages.length){const Xt=I.direction==="backward",vt=(Xt?Pp:lu)(Ce,rt,I.originalArgs);ye=await Ne(rt,vt,Re,Xt)}else{const{initialPageParam:Xt=Ce.initialPageParam}=I,Jt=(st==null?void 0:st.pageParams)??[],vt=Jt[0]??Xt,nr=Jt.length;if(ye=await Ne(rt,vt,Re),ce&&(ye={data:ye.data.pages[0]}),ot)for(let qt=1;qt<nr;qt++){const sn=lu(Ce,ye.data,I.originalArgs);ye=await Ne(ye.data,sn,Re)}}fe=ye}else fe=await _e(I.originalArgs);return V&&!Wr(D,"meta")&&fe.meta&&(fe.meta=await Kr(V,fe.meta,"metaSchema",fe.meta)),q(fe.data,Ia({fulfilledTimeStamp:Date.now(),baseQueryMeta:fe.meta}))}catch(ie){let pe=ie;if(pe instanceof Mn){let ce=j(H,"transformErrorResponse");const{rawErrorResponseSchema:fe,errorResponseSchema:Ne}=H;let{value:_e,meta:Ce}=pe;try{fe&&!Wr(D,"rawErrorResponse")&&(_e=await Kr(fe,_e,"rawErrorResponseSchema",Ce)),V&&!Wr(D,"meta")&&(Ce=await Kr(V,Ce,"metaSchema",Ce));let Re=await ce(_e,Ce,I.originalArgs);return Ne&&!Wr(D,"errorResponse")&&(Re=await Kr(Ne,Re,"errorResponseSchema",Ce)),$(Re,Ia({baseQueryMeta:Ce}))}catch(Re){pe=Re}}try{if(pe instanceof Ep){const ce={endpoint:I.endpointName,arg:I.originalArgs,type:I.type,queryCacheKey:W?I.queryCacheKey:void 0};(ae=H.onSchemaFailure)==null||ae.call(H,pe,ce),x==null||x(pe,ce);const{catchSchemaFailure:fe=f}=H;if(fe)return $(fe(pe,ce),Ia({baseQueryMeta:pe._bqMeta}))}}catch(ce){pe=ce}throw console.error(pe),pe}};function T(I,F){const B=u.selectQueryEntry(F,I.queryCacheKey),$=u.selectConfig(F).refetchOnMountOrArgChange,q=B==null?void 0:B.fulfilledTimeStamp,Z=I.forceRefetch??(I.subscribe&&$);return Z?Z===!0||(Number(new Date)-Number(q))/1e3>=Z:!1}const _=()=>cx(`${s}/executeQuery`,C,{getPendingMeta({arg:F}){const B=a[F.endpointName];return Ia({startedTimeStamp:Date.now(),...To(B)?{direction:F.direction}:{}})},condition(F,{getState:B}){var D;const $=B(),q=u.selectQueryEntry($,F.queryCacheKey),Z=q==null?void 0:q.fulfilledTimeStamp,ne=F.originalArgs,Y=q==null?void 0:q.originalArgs,H=a[F.endpointName],V=F.direction;return au(F)?!0:(q==null?void 0:q.status)==="pending"?!1:T(F,$)||Po(H)&&((D=H==null?void 0:H.forceRefetch)!=null&&D.call(H,{currentArg:ne,previousArg:Y,endpointState:q,state:$}))?!0:!(Z&&!V)},dispatchConditionRejection:!0}),k=_(),R=_(),b=cx(`${s}/executeMutation`,C,{getPendingMeta(){return Ia({startedTimeStamp:Date.now()})}}),E=I=>"force"in I,O=I=>"ifOlderThan"in I,L=(I,F,B={})=>($,q)=>{const Z=E(B)&&B.force,ne=O(B)&&B.ifOlderThan,Y=(V=!0)=>{const D={forceRefetch:V,subscribe:!1};return c.endpoints[I].initiate(F,D)},H=c.endpoints[I].select(F)(q());if(Z)$(Y());else if(ne){const V=H==null?void 0:H.fulfilledTimeStamp;if(!V){$(Y());return}(Number(new Date)-Number(new Date(V)))/1e3>=ne&&$(Y())}else $(Y(!1))};function M(I){return F=>{var B,$;return(($=(B=F==null?void 0:F.meta)==null?void 0:B.arg)==null?void 0:$.endpointName)===I}}function A(I,F){return{matchPending:qa(ku(I),M(F)),matchFulfilled:qa(Pr(I),M(F)),matchRejected:qa(Dn(I),M(F))}}return{queryThunk:k,mutationThunk:b,infiniteQueryThunk:R,prefetch:L,updateQueryData:v,upsertQueryData:N,patchQueryData:g,buildMatchThunkActions:A}}function lu(s,{pages:n,pageParams:a},i){const c=n.length-1;return s.getNextPageParam(n[c],n,a[c],a,i)}function Pp(s,{pages:n,pageParams:a},i){var c;return(c=s.getPreviousPageParam)==null?void 0:c.call(s,n[0],n,a[0],a,i)}function Tp(s,n,a,i){return Iu(a[s.meta.arg.endpointName][n],Pr(s)?s.payload:void 0,So(s)?s.payload:void 0,s.meta.arg.originalArgs,"baseQueryMeta"in s.meta?s.meta.baseQueryMeta:void 0,i)}function gx(s){return Kt(s)?mp(s):s}function qi(s,n,a){const i=s[n];i&&a(i)}function Ga(s){return("arg"in s?s.arg.fixedCacheKey:s.fixedCacheKey)??s.requestId}function yx(s,n,a){const i=s[Ga(n)];i&&a(i)}var Ui={};function Nb({reducerPath:s,queryThunk:n,mutationThunk:a,serializeQueryArgs:i,context:{endpointDefinitions:c,apiUid:d,extractRehydrationInfo:u,hasRehydrationInfo:x},assertTagType:f,config:p}){const g=js(`${s}/resetApiState`);function y(M,A,I,F){var B;M[B=A.queryCacheKey]??(M[B]={status:Zs,endpointName:A.endpointName}),qi(M,A.queryCacheKey,$=>{$.status=su,$.requestId=I&&$.requestId?$.requestId:F.requestId,A.originalArgs!==void 0&&($.originalArgs=A.originalArgs),$.startedTimeStamp=F.startedTimeStamp;const q=c[F.arg.endpointName];To(q)&&"direction"in A&&($.direction=A.direction)})}function w(M,A,I,F){qi(M,A.arg.queryCacheKey,B=>{if(B.requestId!==A.requestId&&!F)return;const{merge:$}=c[A.arg.endpointName];if(B.status=Da,$)if(B.data!==void 0){const{fulfilledTimeStamp:q,arg:Z,baseQueryMeta:ne,requestId:Y}=A;let H=il(B.data,V=>$(V,I,{arg:Z.originalArgs,baseQueryMeta:ne,fulfilledTimeStamp:q,requestId:Y}));B.data=H}else B.data=I;else B.data=c[A.arg.endpointName].structuralSharing??!0?Eu(Kt(B.data)?sj(B.data):B.data,I):I;delete B.error,B.fulfilledTimeStamp=A.fulfilledTimeStamp})}const v=Ls({name:`${s}/queries`,initialState:Ui,reducers:{removeQueryResult:{reducer(M,{payload:{queryCacheKey:A}}){delete M[A]},prepare:Ra()},cacheEntriesUpserted:{reducer(M,A){for(const I of A.payload){const{queryDescription:F,value:B}=I;y(M,F,!0,{arg:F,requestId:A.meta.requestId,startedTimeStamp:A.meta.timestamp}),w(M,{arg:F,requestId:A.meta.requestId,fulfilledTimeStamp:A.meta.timestamp,baseQueryMeta:{}},B,!0)}},prepare:M=>({payload:M.map(F=>{const{endpointName:B,arg:$,value:q}=F,Z=c[B];return{queryDescription:{type:cl,endpointName:B,originalArgs:F.arg,queryCacheKey:i({queryArgs:$,endpointDefinition:Z,endpointName:B})},value:q}}),meta:{[No]:!0,requestId:Cu(),timestamp:Date.now()}})},queryResultPatched:{reducer(M,{payload:{queryCacheKey:A,patches:I}}){qi(M,A,F=>{F.data=sx(F.data,I.concat())})},prepare:Ra()}},extraReducers(M){M.addCase(n.pending,(A,{meta:I,meta:{arg:F}})=>{const B=au(F);y(A,F,B,I)}).addCase(n.fulfilled,(A,{meta:I,payload:F})=>{const B=au(I.arg);w(A,I,F,B)}).addCase(n.rejected,(A,{meta:{condition:I,arg:F,requestId:B},error:$,payload:q})=>{qi(A,F.queryCacheKey,Z=>{if(!I){if(Z.requestId!==B)return;Z.status=Aa,Z.error=q??$}})}).addMatcher(x,(A,I)=>{const{queries:F}=u(I);for(const[B,$]of Object.entries(F))(($==null?void 0:$.status)===Da||($==null?void 0:$.status)===Aa)&&(A[B]=$)})}}),N=Ls({name:`${s}/mutations`,initialState:Ui,reducers:{removeMutationResult:{reducer(M,{payload:A}){const I=Ga(A);I in M&&delete M[I]},prepare:Ra()}},extraReducers(M){M.addCase(a.pending,(A,{meta:I,meta:{requestId:F,arg:B,startedTimeStamp:$}})=>{B.track&&(A[Ga(I)]={requestId:F,status:su,endpointName:B.endpointName,startedTimeStamp:$})}).addCase(a.fulfilled,(A,{payload:I,meta:F})=>{F.arg.track&&yx(A,F,B=>{B.requestId===F.requestId&&(B.status=Da,B.data=I,B.fulfilledTimeStamp=F.fulfilledTimeStamp)})}).addCase(a.rejected,(A,{payload:I,error:F,meta:B})=>{B.arg.track&&yx(A,B,$=>{$.requestId===B.requestId&&($.status=Aa,$.error=I??F)})}).addMatcher(x,(A,I)=>{const{mutations:F}=u(I);for(const[B,$]of Object.entries(F))(($==null?void 0:$.status)===Da||($==null?void 0:$.status)===Aa)&&B!==($==null?void 0:$.requestId)&&(A[B]=$)})}}),j={tags:{},keys:{}},C=Ls({name:`${s}/invalidation`,initialState:j,reducers:{updateProvidedBy:{reducer(M,A){var I,F,B;for(const{queryCacheKey:$,providedTags:q}of A.payload){T(M,$);for(const{type:Z,id:ne}of q){const Y=(F=(I=M.tags)[Z]??(I[Z]={}))[B=ne||"__internal_without_id"]??(F[B]=[]);Y.includes($)||Y.push($)}M.keys[$]=q}},prepare:Ra()}},extraReducers(M){M.addCase(v.actions.removeQueryResult,(A,{payload:{queryCacheKey:I}})=>{T(A,I)}).addMatcher(x,(A,I)=>{var B,$,q;const{provided:F}=u(I);for(const[Z,ne]of Object.entries(F.tags??{}))for(const[Y,H]of Object.entries(ne)){const V=($=(B=A.tags)[Z]??(B[Z]={}))[q=Y||"__internal_without_id"]??($[q]=[]);for(const D of H)V.includes(D)||V.push(D),A.keys[D]=F.keys[D]}}).addMatcher(Js(Pr(n),So(n)),(A,I)=>{_(A,[I])}).addMatcher(v.actions.cacheEntriesUpserted.match,(A,I)=>{const F=I.payload.map(({queryDescription:B,value:$})=>({type:"UNKNOWN",payload:$,meta:{requestStatus:"fulfilled",requestId:"UNKNOWN",arg:B}}));_(A,F)})}});function T(M,A){var F;const I=gx(M.keys[A]??[]);for(const B of I){const $=B.type,q=B.id??"__internal_without_id",Z=(F=M.tags[$])==null?void 0:F[q];Z&&(M.tags[$][q]=gx(Z).filter(ne=>ne!==A))}delete M.keys[A]}function _(M,A){const I=A.map(F=>{const B=Tp(F,"providesTags",c,f),{queryCacheKey:$}=F.meta.arg;return{queryCacheKey:$,providedTags:B}});C.caseReducers.updateProvidedBy(M,C.actions.updateProvidedBy(I))}const k=Ls({name:`${s}/subscriptions`,initialState:Ui,reducers:{updateSubscriptionOptions(M,A){},unsubscribeQueryResult(M,A){},internal_getRTKQSubscriptions(){}}}),R=Ls({name:`${s}/internalSubscriptions`,initialState:Ui,reducers:{subscriptionsUpdated:{reducer(M,A){return sx(M,A.payload)},prepare:Ra()}}}),b=Ls({name:`${s}/config`,initialState:{online:sb(),focused:tb(),middlewareRegistered:!1,...p},reducers:{middlewareRegistered(M,{payload:A}){M.middlewareRegistered=M.middlewareRegistered==="conflict"||d!==A?"conflict":!0}},extraReducers:M=>{M.addCase(Eo,A=>{A.online=!0}).addCase(Ru,A=>{A.online=!1}).addCase(Co,A=>{A.focused=!0}).addCase(Tu,A=>{A.focused=!1}).addMatcher(x,A=>({...A}))}}),E=ju({queries:v.reducer,mutations:N.reducer,provided:C.reducer,subscriptions:R.reducer,config:b.reducer}),O=(M,A)=>E(g.match(A)?void 0:M,A),L={...b.actions,...v.actions,...k.actions,...R.actions,...N.actions,...C.actions,resetApiState:g};return{reducer:O,actions:L}}var vs=Symbol.for("RTKQ/skipToken"),Rp={status:Zs},vx=il(Rp,()=>{}),jx=il(Rp,()=>{});function wb({serializeQueryArgs:s,reducerPath:n,createSelector:a}){const i=k=>vx,c=k=>jx;return{buildQuerySelector:w,buildInfiniteQuerySelector:v,buildMutationSelector:N,selectInvalidatedBy:j,selectCachedArgsForQuery:C,selectApiState:u,selectQueries:x,selectMutations:p,selectQueryEntry:f,selectConfig:g};function d(k){return{...k,...dx(k.status)}}function u(k){return k[n]}function x(k){var R;return(R=u(k))==null?void 0:R.queries}function f(k,R){var b;return(b=x(k))==null?void 0:b[R]}function p(k){var R;return(R=u(k))==null?void 0:R.mutations}function g(k){var R;return(R=u(k))==null?void 0:R.config}function y(k,R,b){return E=>{if(E===vs)return a(i,b);const O=s({queryArgs:E,endpointDefinition:R,endpointName:k});return a(M=>f(M,O)??vx,b)}}function w(k,R){return y(k,R,d)}function v(k,R){const{infiniteQueryOptions:b}=R;function E(O){const L={...O,...dx(O.status)},{isLoading:M,isError:A,direction:I}=L,F=I==="forward",B=I==="backward";return{...L,hasNextPage:T(b,L.data,L.originalArgs),hasPreviousPage:_(b,L.data,L.originalArgs),isFetchingNextPage:M&&F,isFetchingPreviousPage:M&&B,isFetchNextPageError:A&&F,isFetchPreviousPageError:A&&B}}return y(k,R,E)}function N(){return k=>{let R;return typeof k=="object"?R=Ga(k)??vs:R=k,a(R===vs?c:O=>{var L,M;return((M=(L=u(O))==null?void 0:L.mutations)==null?void 0:M[R])??jx},d)}}function j(k,R){const b=k[n],E=new Set,O=ru(R,Pu,Cp);for(const L of O){const M=b.provided.tags[L.type];if(!M)continue;let A=(L.id!==void 0?M[L.id]:Object.values(M).flat())??[];for(const I of A)E.add(I)}return Array.from(E.values()).flatMap(L=>{const M=b.queries[L];return M?{queryCacheKey:L,endpointName:M.endpointName,originalArgs:M.originalArgs}:[]})}function C(k,R){return ru(Object.values(x(k)),b=>(b==null?void 0:b.endpointName)===R&&b.status!==Zs,b=>b.originalArgs)}function T(k,R,b){return R?lu(k,R,b)!=null:!1}function _(k,R,b){return!R||!k.getPreviousPageParam?!1:Pp(k,R,b)!=null}}var In=WeakMap?new WeakMap:void 0,bx=({endpointName:s,queryArgs:n})=>{let a="";const i=In==null?void 0:In.get(n);if(typeof i=="string")a=i;else{const c=JSON.stringify(n,(d,u)=>(u=typeof u=="bigint"?{$bigint:u.toString()}:u,u=Er(u)?Object.keys(u).sort().reduce((x,f)=>(x[f]=u[f],x),{}):u,u));Er(n)&&(In==null||In.set(n,c)),a=c}return`${s}(${a})`};function Ip(...s){return function(a){const i=uo(p=>{var g;return(g=a.extractRehydrationInfo)==null?void 0:g.call(a,p,{reducerPath:a.reducerPath??"api"})}),c={reducerPath:"api",keepUnusedDataFor:60,refetchOnMountOrArgChange:!1,refetchOnFocus:!1,refetchOnReconnect:!1,invalidationBehavior:"delayed",...a,extractRehydrationInfo:i,serializeQueryArgs(p){let g=bx;if("serializeQueryArgs"in p.endpointDefinition){const y=p.endpointDefinition.serializeQueryArgs;g=w=>{const v=y(w);return typeof v=="string"?v:bx({...w,queryArgs:v})}}else a.serializeQueryArgs&&(g=a.serializeQueryArgs);return g(p)},tagTypes:[...a.tagTypes||[]]},d={endpointDefinitions:{},batch(p){p()},apiUid:Cu(),extractRehydrationInfo:i,hasRehydrationInfo:uo(p=>i(p)!=null)},u={injectEndpoints:f,enhanceEndpoints({addTagTypes:p,endpoints:g}){if(p)for(const y of p)c.tagTypes.includes(y)||c.tagTypes.push(y);if(g)for(const[y,w]of Object.entries(g))typeof w=="function"?w(An(d,y)):Object.assign(An(d,y)||{},w);return u}},x=s.map(p=>p.init(u,c,d));function f(p){const g=p.endpoints({query:y=>({...y,type:cl}),mutation:y=>({...y,type:Sp}),infiniteQuery:y=>({...y,type:kp})});for(const[y,w]of Object.entries(g)){if(p.overrideExisting!==!0&&y in d.endpointDefinitions){if(p.overrideExisting==="throw")throw new Error(as(39));continue}d.endpointDefinitions[y]=w;for(const v of x)v.injectEndpoint(y,w)}return u}return u.injectEndpoints({endpoints:a.endpoints})}}function Hs(s,...n){return Object.assign(s,...n)}var Sb=({api:s,queryThunk:n,internalState:a,mwApi:i})=>{const c=`${s.reducerPath}/subscriptions`;let d=null,u=null;const{updateSubscriptionOptions:x,unsubscribeQueryResult:f}=s.internalActions,p=(j,C)=>{if(x.match(C)){const{queryCacheKey:_,requestId:k,options:R}=C.payload,b=j.get(_);return b!=null&&b.has(k)&&b.set(k,R),!0}if(f.match(C)){const{queryCacheKey:_,requestId:k}=C.payload,R=j.get(_);return R&&R.delete(k),!0}if(s.internalActions.removeQueryResult.match(C))return j.delete(C.payload.queryCacheKey),!0;if(n.pending.match(C)){const{meta:{arg:_,requestId:k}}=C,R=mo(j,_.queryCacheKey,nu);return _.subscribe&&R.set(k,_.subscriptionOptions??R.get(k)??{}),!0}let T=!1;if(n.rejected.match(C)){const{meta:{condition:_,arg:k,requestId:R}}=C;if(_&&k.subscribe){const b=mo(j,k.queryCacheKey,nu);b.set(R,k.subscriptionOptions??b.get(R)??{}),T=!0}}return T},g=()=>a.currentSubscriptions,v={getSubscriptions:g,getSubscriptionCount:j=>{const T=g().get(j);return(T==null?void 0:T.size)??0},isRequestSubscribed:(j,C)=>{var _;const T=g();return!!((_=T==null?void 0:T.get(j))!=null&&_.get(C))}};function N(j){return JSON.parse(JSON.stringify(Object.fromEntries([...j].map(([C,T])=>[C,Object.fromEntries(T)]))))}return(j,C)=>{if(d||(d=N(a.currentSubscriptions)),s.util.resetApiState.match(j))return d={},a.currentSubscriptions.clear(),u=null,[!0,!1];if(s.internalActions.internal_getRTKQSubscriptions.match(j))return[!1,v];const T=p(a.currentSubscriptions,j);let _=!0;if(T){u||(u=setTimeout(()=>{const b=N(a.currentSubscriptions),[,E]=hp(d,()=>b);C.next(s.internalActions.subscriptionsUpdated(E)),d=b,u=null},500));const k=typeof j.type=="string"&&!!j.type.startsWith(c),R=n.rejected.match(j)&&j.meta.condition&&!!j.meta.arg.subscribe;_=!k&&!R}return[_,!1]}},kb=2147483647/1e3-1,Cb=({reducerPath:s,api:n,queryThunk:a,context:i,internalState:c,selectors:{selectQueryEntry:d,selectConfig:u},getRunningQueryThunk:x,mwApi:f})=>{const{removeQueryResult:p,unsubscribeQueryResult:g,cacheEntriesUpserted:y}=n.internalActions,w=Js(g.match,a.fulfilled,a.rejected,y.match);function v(k){const R=c.currentSubscriptions.get(k);return R?R.size>0:!1}const N={};function j(k){var R;for(const b of k.values())(R=b==null?void 0:b.abort)==null||R.call(b)}const C=(k,R)=>{const b=R.getState(),E=u(b);if(w(k)){let O;if(y.match(k))O=k.payload.map(L=>L.queryDescription.queryCacheKey);else{const{queryCacheKey:L}=g.match(k)?k.payload:k.meta.arg;O=[L]}T(O,R,E)}if(n.util.resetApiState.match(k)){for(const[O,L]of Object.entries(N))L&&clearTimeout(L),delete N[O];j(c.runningQueries),j(c.runningMutations)}if(i.hasRehydrationInfo(k)){const{queries:O}=i.extractRehydrationInfo(k);T(Object.keys(O),R,E)}};function T(k,R,b){const E=R.getState();for(const O of k){const L=d(E,O);L!=null&&L.endpointName&&_(O,L.endpointName,R,b)}}function _(k,R,b,E){const O=An(i,R),L=(O==null?void 0:O.keepUnusedDataFor)??E.keepUnusedDataFor;if(L===1/0)return;const M=Math.max(0,Math.min(L,kb));if(!v(k)){const A=N[k];A&&clearTimeout(A),N[k]=setTimeout(()=>{if(!v(k)){const I=d(b.getState(),k);if(I!=null&&I.endpointName){const F=b.dispatch(x(I.endpointName,I.originalArgs));F==null||F.abort()}b.dispatch(p({queryCacheKey:k}))}delete N[k]},M*1e3)}}return C},Nx=new Error("Promise never resolved before cacheEntryRemoved."),Eb=({api:s,reducerPath:n,context:a,queryThunk:i,mutationThunk:c,internalState:d,selectors:{selectQueryEntry:u,selectApiState:x}})=>{const f=tu(i),p=tu(c),g=Pr(i,c),y={},{removeQueryResult:w,removeMutationResult:v,cacheEntriesUpserted:N}=s.internalActions;function j(b,E,O){const L=y[b];L!=null&&L.valueResolved&&(L.valueResolved({data:E,meta:O}),delete L.valueResolved)}function C(b){const E=y[b];E&&(delete y[b],E.cacheEntryRemoved())}function T(b){const{arg:E,requestId:O}=b.meta,{endpointName:L,originalArgs:M}=E;return[L,M,O]}const _=(b,E,O)=>{const L=k(b);function M(A,I,F,B){const $=u(O,I),q=u(E.getState(),I);!$&&q&&R(A,B,I,E,F)}if(i.pending.match(b)){const[A,I,F]=T(b);M(A,L,F,I)}else if(N.match(b))for(const{queryDescription:A,value:I}of b.payload){const{endpointName:F,originalArgs:B,queryCacheKey:$}=A;M(F,$,b.meta.requestId,B),j($,I,{})}else if(c.pending.match(b)){if(E.getState()[n].mutations[L]){const[I,F,B]=T(b);R(I,F,L,E,B)}}else if(g(b))j(L,b.payload,b.meta.baseQueryMeta);else if(w.match(b)||v.match(b))C(L);else if(s.util.resetApiState.match(b))for(const A of Object.keys(y))C(A)};function k(b){return f(b)?b.meta.arg.queryCacheKey:p(b)?b.meta.arg.fixedCacheKey??b.meta.requestId:w.match(b)?b.payload.queryCacheKey:v.match(b)?Ga(b.payload):""}function R(b,E,O,L,M){const A=An(a,b),I=A==null?void 0:A.onCacheEntryAdded;if(!I)return;const F={},B=new Promise(H=>{F.cacheEntryRemoved=H}),$=Promise.race([new Promise(H=>{F.valueResolved=H}),B.then(()=>{throw Nx})]);$.catch(()=>{}),y[O]=F;const q=s.endpoints[b].select(fo(A)?E:O),Z=L.dispatch((H,V,D)=>D),ne={...L,getCacheEntry:()=>q(L.getState()),requestId:M,extra:Z,updateCachedData:fo(A)?H=>L.dispatch(s.util.updateQueryData(b,E,H)):void 0,cacheDataLoaded:$,cacheEntryRemoved:B},Y=I(E,ne);Promise.resolve(Y).catch(H=>{if(H!==Nx)throw H})}return _},Pb=({api:s,context:{apiUid:n},reducerPath:a})=>(i,c)=>{s.util.resetApiState.match(i)&&c.dispatch(s.internalActions.middlewareRegistered(n))},Tb=({reducerPath:s,context:n,context:{endpointDefinitions:a},mutationThunk:i,queryThunk:c,api:d,assertTagType:u,refetchQuery:x,internalState:f})=>{const{removeQueryResult:p}=d.internalActions,g=Js(Pr(i),So(i)),y=Js(Pr(c,i),Dn(c,i));let w=[],v=0;const N=(T,_)=>{(c.pending.match(T)||i.pending.match(T))&&v++,y(T)&&(v=Math.max(0,v-1)),g(T)?C(Tp(T,"invalidatesTags",a,u),_):y(T)?C([],_):d.util.invalidateTags.match(T)&&C(Iu(T.payload,void 0,void 0,void 0,void 0,u),_)};function j(){return v>0}function C(T,_){const k=_.getState(),R=k[s];if(w.push(...T),R.config.invalidationBehavior==="delayed"&&j())return;const b=w;if(w=[],b.length===0)return;const E=d.util.selectInvalidatedBy(k,b);n.batch(()=>{const O=Array.from(E.values());for(const{queryCacheKey:L}of O){const M=R.queries[L],A=mo(f.currentSubscriptions,L,nu);M&&(A.size===0?_.dispatch(p({queryCacheKey:L})):M.status!==Zs&&_.dispatch(x(M)))}})}return N},Rb=({reducerPath:s,queryThunk:n,api:a,refetchQuery:i,internalState:c})=>{const{currentPolls:d,currentSubscriptions:u}=c,x=new Set;let f=null;const p=(C,T)=>{(a.internalActions.updateSubscriptionOptions.match(C)||a.internalActions.unsubscribeQueryResult.match(C))&&g(C.payload.queryCacheKey,T),(n.pending.match(C)||n.rejected.match(C)&&C.meta.condition)&&g(C.meta.arg.queryCacheKey,T),(n.fulfilled.match(C)||n.rejected.match(C)&&!C.meta.condition)&&y(C.meta.arg,T),a.util.resetApiState.match(C)&&(N(),f&&(clearTimeout(f),f=null),x.clear())};function g(C,T){x.add(C),f||(f=setTimeout(()=>{for(const _ of x)w({queryCacheKey:_},T);x.clear(),f=null},0))}function y({queryCacheKey:C},T){const _=T.getState()[s],k=_.queries[C],R=u.get(C);if(!k||k.status===Zs)return;const{lowestPollingInterval:b,skipPollingIfUnfocused:E}=j(R);if(!Number.isFinite(b))return;const O=d.get(C);O!=null&&O.timeout&&(clearTimeout(O.timeout),O.timeout=void 0);const L=Date.now()+b;d.set(C,{nextPollTimestamp:L,pollingInterval:b,timeout:setTimeout(()=>{(_.config.focused||!E)&&T.dispatch(i(k)),y({queryCacheKey:C},T)},b)})}function w({queryCacheKey:C},T){const k=T.getState()[s].queries[C],R=u.get(C);if(!k||k.status===Zs)return;const{lowestPollingInterval:b}=j(R);if(!Number.isFinite(b)){v(C);return}const E=d.get(C),O=Date.now()+b;(!E||O<E.nextPollTimestamp)&&y({queryCacheKey:C},T)}function v(C){const T=d.get(C);T!=null&&T.timeout&&clearTimeout(T.timeout),d.delete(C)}function N(){for(const C of d.keys())v(C)}function j(C=new Map){let T=!1,_=Number.POSITIVE_INFINITY;for(const k of C.values())k.pollingInterval&&(_=Math.min(k.pollingInterval,_),T=k.skipPollingIfUnfocused||T);return{lowestPollingInterval:_,skipPollingIfUnfocused:T}}return p},Ib=({api:s,context:n,queryThunk:a,mutationThunk:i})=>{const c=ku(a,i),d=Dn(a,i),u=Pr(a,i),x={};return(p,g)=>{var y,w;if(c(p)){const{requestId:v,arg:{endpointName:N,originalArgs:j}}=p.meta,C=An(n,N),T=C==null?void 0:C.onQueryStarted;if(T){const _={},k=new Promise((O,L)=>{_.resolve=O,_.reject=L});k.catch(()=>{}),x[v]=_;const R=s.endpoints[N].select(fo(C)?j:v),b=g.dispatch((O,L,M)=>M),E={...g,getCacheEntry:()=>R(g.getState()),requestId:v,extra:b,updateCachedData:fo(C)?O=>g.dispatch(s.util.updateQueryData(N,j,O)):void 0,queryFulfilled:k};T(j,E)}}else if(u(p)){const{requestId:v,baseQueryMeta:N}=p.meta;(y=x[v])==null||y.resolve({data:p.payload,meta:N}),delete x[v]}else if(d(p)){const{requestId:v,rejectedWithValue:N,baseQueryMeta:j}=p.meta;(w=x[v])==null||w.reject({error:p.payload??p.error,isUnhandledError:!N,meta:j}),delete x[v]}}},_b=({reducerPath:s,context:n,api:a,refetchQuery:i,internalState:c})=>{const{removeQueryResult:d}=a.internalActions,u=(f,p)=>{Co.match(f)&&x(p,"refetchOnFocus"),Eo.match(f)&&x(p,"refetchOnReconnect")};function x(f,p){const g=f.getState()[s],y=g.queries,w=c.currentSubscriptions;n.batch(()=>{for(const v of w.keys()){const N=y[v],j=w.get(v);if(!j||!N)continue;const C=[...j.values()];(C.some(_=>_[p]===!0)||C.every(_=>_[p]===void 0)&&g.config[p])&&(j.size===0?f.dispatch(d({queryCacheKey:v})):N.status!==Zs&&f.dispatch(i(N)))}})}return u};function Mb(s){const{reducerPath:n,queryThunk:a,api:i,context:c,getInternalState:d}=s,{apiUid:u}=c,x={invalidateTags:js(`${n}/invalidateTags`)},f=w=>w.type.startsWith(`${n}/`),p=[Pb,Cb,Tb,Rb,Eb,Ib];return{middleware:w=>{let v=!1;const N=d(w.dispatch),j={...s,internalState:N,refetchQuery:y,isThisApiSliceAction:f,mwApi:w},C=p.map(k=>k(j)),T=Sb(j),_=_b(j);return k=>R=>{if(!ap(R))return k(R);v||(v=!0,w.dispatch(i.internalActions.middlewareRegistered(u)));const b={...w,next:k},E=w.getState(),[O,L]=T(R,b,E);let M;if(O?M=k(R):M=L,w.getState()[n]&&(_(R,b,E),f(R)||c.hasRehydrationInfo(R)))for(const A of C)A(R,b,E);return M}},actions:x};function y(w){return s.api.endpoints[w.endpointName].initiate(w.originalArgs,{subscribe:!1,forceRefetch:!0})}}var wx=Symbol(),_p=({createSelector:s=Su}={})=>({name:wx,init(n,{baseQuery:a,tagTypes:i,reducerPath:c,serializeQueryArgs:d,keepUnusedDataFor:u,refetchOnMountOrArgChange:x,refetchOnFocus:f,refetchOnReconnect:p,invalidationBehavior:g,onSchemaFailure:y,catchSchemaFailure:w,skipSchemaValidation:v},N){gj();const j=ce=>ce;Object.assign(n,{reducerPath:c,endpoints:{},internalActions:{onOnline:Eo,onOffline:Ru,onFocus:Co,onFocusLost:Tu},util:{}});const C=wb({serializeQueryArgs:d,reducerPath:c,createSelector:s}),{selectInvalidatedBy:T,selectCachedArgsForQuery:_,buildQuerySelector:k,buildInfiniteQuerySelector:R,buildMutationSelector:b}=C;Hs(n.util,{selectInvalidatedBy:T,selectCachedArgsForQuery:_});const{queryThunk:E,infiniteQueryThunk:O,mutationThunk:L,patchQueryData:M,updateQueryData:A,upsertQueryData:I,prefetch:F,buildMatchThunkActions:B}=bb({baseQuery:a,reducerPath:c,context:N,api:n,serializeQueryArgs:d,assertTagType:j,selectors:C,onSchemaFailure:y,catchSchemaFailure:w,skipSchemaValidation:v}),{reducer:$,actions:q}=Nb({context:N,queryThunk:E,mutationThunk:L,serializeQueryArgs:d,reducerPath:c,assertTagType:j,config:{refetchOnFocus:f,refetchOnReconnect:p,refetchOnMountOrArgChange:x,keepUnusedDataFor:u,reducerPath:c,invalidationBehavior:g}});Hs(n.util,{patchQueryData:M,updateQueryData:A,upsertQueryData:I,prefetch:F,resetApiState:q.resetApiState,upsertQueryEntries:q.cacheEntriesUpserted}),Hs(n.internalActions,q);const Z=new WeakMap,ne=ce=>mo(Z,ce,()=>({currentSubscriptions:new Map,currentPolls:new Map,runningQueries:new Map,runningMutations:new Map})),{buildInitiateQuery:Y,buildInitiateInfiniteQuery:H,buildInitiateMutation:V,getRunningMutationThunk:D,getRunningMutationsThunk:W,getRunningQueriesThunk:se,getRunningQueryThunk:ae}=jb({queryThunk:E,mutationThunk:L,infiniteQueryThunk:O,api:n,serializeQueryArgs:d,context:N,getInternalState:ne});Hs(n.util,{getRunningMutationThunk:D,getRunningMutationsThunk:W,getRunningQueryThunk:ae,getRunningQueriesThunk:se});const{middleware:ie,actions:pe}=Mb({reducerPath:c,context:N,queryThunk:E,mutationThunk:L,infiniteQueryThunk:O,api:n,assertTagType:j,selectors:C,getRunningQueryThunk:ae,getInternalState:ne});return Hs(n.util,pe),Hs(n,{reducer:$,middleware:ie}),{name:wx,injectEndpoint(ce,fe){var Ce;const _e=(Ce=n.endpoints)[ce]??(Ce[ce]={});Po(fe)&&Hs(_e,{name:ce,select:k(ce,fe),initiate:Y(ce,fe)},B(E,ce)),gb(fe)&&Hs(_e,{name:ce,select:b(),initiate:V(ce)},B(L,ce)),To(fe)&&Hs(_e,{name:ce,select:R(ce,fe),initiate:H(ce,fe)},B(E,ce))}}}});_p();var _u="persist:",Mu="persist/FLUSH",Ro="persist/REHYDRATE",Ou="persist/PAUSE",Lu="persist/PERSIST",Du="persist/PURGE",Au="persist/REGISTER",Ob=-1;function Ji(s){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ji=function(a){return typeof a}:Ji=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},Ji(s)}function Sx(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,i)}return a}function Lb(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Sx(a,!0).forEach(function(i){Db(s,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Sx(a).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(a,i))})}return s}function Db(s,n,a){return n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}function Ab(s,n,a,i){i.debug;var c=Lb({},a);return s&&Ji(s)==="object"&&Object.keys(s).forEach(function(d){d!=="_persist"&&n[d]===a[d]&&(c[d]=s[d])}),c}function Fb(s){var n=s.blacklist||null,a=s.whitelist||null,i=s.transforms||[],c=s.throttle||0,d="".concat(s.keyPrefix!==void 0?s.keyPrefix:_u).concat(s.key),u=s.storage,x;s.serialize===!1?x=function(b){return b}:typeof s.serialize=="function"?x=s.serialize:x=zb;var f=s.writeFailHandler||null,p={},g={},y=[],w=null,v=null,N=function(b){Object.keys(b).forEach(function(E){T(E)&&p[E]!==b[E]&&y.indexOf(E)===-1&&y.push(E)}),Object.keys(p).forEach(function(E){b[E]===void 0&&T(E)&&y.indexOf(E)===-1&&p[E]!==void 0&&y.push(E)}),w===null&&(w=setInterval(j,c)),p=b};function j(){if(y.length===0){w&&clearInterval(w),w=null;return}var R=y.shift(),b=i.reduce(function(E,O){return O.in(E,R,p)},p[R]);if(b!==void 0)try{g[R]=x(b)}catch(E){console.error("redux-persist/createPersistoid: error serializing state",E)}else delete g[R];y.length===0&&C()}function C(){Object.keys(g).forEach(function(R){p[R]===void 0&&delete g[R]}),v=u.setItem(d,x(g)).catch(_)}function T(R){return!(a&&a.indexOf(R)===-1&&R!=="_persist"||n&&n.indexOf(R)!==-1)}function _(R){f&&f(R)}var k=function(){for(;y.length!==0;)j();return v||Promise.resolve()};return{update:N,flush:k}}function zb(s){return JSON.stringify(s)}function $b(s){var n=s.transforms||[],a="".concat(s.keyPrefix!==void 0?s.keyPrefix:_u).concat(s.key),i=s.storage;s.debug;var c;return s.deserialize===!1?c=function(u){return u}:typeof s.deserialize=="function"?c=s.deserialize:c=qb,i.getItem(a).then(function(d){if(d)try{var u={},x=c(d);return Object.keys(x).forEach(function(f){u[f]=n.reduceRight(function(p,g){return g.out(p,f,x)},c(x[f]))}),u}catch(f){throw f}else return})}function qb(s){return JSON.parse(s)}function Ub(s){var n=s.storage,a="".concat(s.keyPrefix!==void 0?s.keyPrefix:_u).concat(s.key);return n.removeItem(a,Bb)}function Bb(s){}function kx(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,i)}return a}function Vs(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?kx(a,!0).forEach(function(i){Qb(s,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):kx(a).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(a,i))})}return s}function Qb(s,n,a){return n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}function Hb(s,n){if(s==null)return{};var a=Vb(s,n),i,c;if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(s);for(c=0;c<d.length;c++)i=d[c],!(n.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(s,i)&&(a[i]=s[i])}return a}function Vb(s,n){if(s==null)return{};var a={},i=Object.keys(s),c,d;for(d=0;d<i.length;d++)c=i[d],!(n.indexOf(c)>=0)&&(a[c]=s[c]);return a}var Wb=5e3;function Cx(s,n){var a=s.version!==void 0?s.version:Ob;s.debug;var i=s.stateReconciler===void 0?Ab:s.stateReconciler,c=s.getStoredState||$b,d=s.timeout!==void 0?s.timeout:Wb,u=null,x=!1,f=!0,p=function(y){return y._persist.rehydrated&&u&&!f&&u.update(y),y};return function(g,y){var w=g||{},v=w._persist,N=Hb(w,["_persist"]),j=N;if(y.type===Lu){var C=!1,T=function(L,M){C||(y.rehydrate(s.key,L,M),C=!0)};if(d&&setTimeout(function(){!C&&T(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(s.key,'"')))},d),f=!1,u||(u=Fb(s)),v)return Vs({},n(j,y),{_persist:v});if(typeof y.rehydrate!="function"||typeof y.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return y.register(s.key),c(s).then(function(O){var L=s.migrate||function(M,A){return Promise.resolve(M)};L(O,a).then(function(M){T(M)},function(M){T(void 0,M)})},function(O){T(void 0,O)}),Vs({},n(j,y),{_persist:{version:a,rehydrated:!1}})}else{if(y.type===Du)return x=!0,y.result(Ub(s)),Vs({},n(j,y),{_persist:v});if(y.type===Mu)return y.result(u&&u.flush()),Vs({},n(j,y),{_persist:v});if(y.type===Ou)f=!0;else if(y.type===Ro){if(x)return Vs({},j,{_persist:Vs({},v,{rehydrated:!0})});if(y.key===s.key){var _=n(j,y),k=y.payload,R=i!==!1&&k!==void 0?i(k,g,_,s):_,b=Vs({},R,{_persist:Vs({},v,{rehydrated:!0})});return p(b)}}}if(!v)return n(g,y);var E=n(j,y);return E===j?g:p(Vs({},E,{_persist:v}))}}function Ex(s){return Yb(s)||Gb(s)||Kb()}function Kb(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Gb(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}function Yb(s){if(Array.isArray(s)){for(var n=0,a=new Array(s.length);n<s.length;n++)a[n]=s[n];return a}}function Px(s,n){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(s);n&&(i=i.filter(function(c){return Object.getOwnPropertyDescriptor(s,c).enumerable})),a.push.apply(a,i)}return a}function iu(s){for(var n=1;n<arguments.length;n++){var a=arguments[n]!=null?arguments[n]:{};n%2?Px(a,!0).forEach(function(i){Xb(s,i,a[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Px(a).forEach(function(i){Object.defineProperty(s,i,Object.getOwnPropertyDescriptor(a,i))})}return s}function Xb(s,n,a){return n in s?Object.defineProperty(s,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[n]=a,s}var Mp={registry:[],bootstrapped:!1},Jb=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mp,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Au:return iu({},n,{registry:[].concat(Ex(n.registry),[a.key])});case Ro:var i=n.registry.indexOf(a.key),c=Ex(n.registry);return c.splice(i,1),iu({},n,{registry:c,bootstrapped:c.length===0});default:return n}};function Zb(s,n,a){var i=vu(Jb,Mp,void 0),c=function(f){i.dispatch({type:Au,key:f})},d=function(f,p,g){var y={type:Ro,payload:p,err:g,key:f};s.dispatch(y),i.dispatch(y)},u=iu({},i,{purge:function(){var f=[];return s.dispatch({type:Du,result:function(g){f.push(g)}}),Promise.all(f)},flush:function(){var f=[];return s.dispatch({type:Mu,result:function(g){f.push(g)}}),Promise.all(f)},pause:function(){s.dispatch({type:Ou})},persist:function(){s.dispatch({type:Lu,register:c,rehydrate:d})}});return u.persist(),u}var _a={},Bi={},Qi={},Tx;function eN(){if(Tx)return Qi;Tx=1,Qi.__esModule=!0,Qi.default=c;function s(d){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?s=function(x){return typeof x}:s=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},s(d)}function n(){}var a={getItem:n,setItem:n,removeItem:n};function i(d){if((typeof self>"u"?"undefined":s(self))!=="object"||!(d in self))return!1;try{var u=self[d],x="redux-persist ".concat(d," test");u.setItem(x,"test"),u.getItem(x),u.removeItem(x)}catch{return!1}return!0}function c(d){var u="".concat(d,"Storage");return i(u)?self[u]:a}return Qi}var Rx;function tN(){if(Rx)return Bi;Rx=1,Bi.__esModule=!0,Bi.default=a;var s=n(eN());function n(i){return i&&i.__esModule?i:{default:i}}function a(i){var c=(0,s.default)(i);return{getItem:function(u){return new Promise(function(x,f){x(c.getItem(u))})},setItem:function(u,x){return new Promise(function(f,p){f(c.setItem(u,x))})},removeItem:function(u){return new Promise(function(x,f){x(c.removeItem(u))})}}}return Bi}var Ix;function sN(){if(Ix)return _a;Ix=1,_a.__esModule=!0,_a.default=void 0;var s=n(tN());function n(i){return i&&i.__esModule?i:{default:i}}var a=(0,s.default)("local");return _a.default=a,_a}var rN=sN();const Op=yo(rN);function Hi(s){return s.replace(s[0],s[0].toUpperCase())}var nN="query",aN="mutation",lN="infinitequery";function iN(s){return s.type===nN}function oN(s){return s.type===aN}function Lp(s){return s.type===lN}function Ma(s,...n){return Object.assign(s,...n)}var Ld=Symbol();function Dd(s){const n=S.useRef(s),a=S.useMemo(()=>Eu(n.current,s),[s]);return S.useEffect(()=>{n.current!==a&&(n.current=a)},[a]),a}function _n(s){const n=S.useRef(s);return S.useEffect(()=>{Fa(n.current,s)||(n.current=s)},[s]),Fa(n.current,s)?n.current:s}var cN=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dN=cN(),uN=()=>typeof navigator<"u"&&navigator.product==="ReactNative",mN=uN(),fN=()=>dN||mN?S.useLayoutEffect:S.useEffect,hN=fN(),_x=s=>s.isUninitialized?{...s,isUninitialized:!1,isFetching:!0,isLoading:s.data===void 0,status:vp.pending}:s;function Ad(s,...n){const a={};return n.forEach(i=>{a[i]=s[i]}),a}var Fd=["data","status","isLoading","isSuccess","isError","error"];function xN({api:s,moduleOptions:{batch:n,hooks:{useDispatch:a,useSelector:i,useStore:c},unstable__sideEffectsInRender:d,createSelector:u},serializeQueryArgs:x,context:f}){const p=d?E=>E():S.useEffect,g=E=>{var O,L;return(L=(O=E.current)==null?void 0:O.unsubscribe)==null?void 0:L.call(O)},y=f.endpointDefinitions;return{buildQueryHooks:k,buildInfiniteQueryHooks:R,buildMutationHook:b,usePrefetch:N};function w(E,O,L){if(O!=null&&O.endpointName&&E.isUninitialized){const{endpointName:$}=O,q=y[$];L!==vs&&x({queryArgs:O.originalArgs,endpointDefinition:q,endpointName:$})===x({queryArgs:L,endpointDefinition:q,endpointName:$})&&(O=void 0)}let M=E.isSuccess?E.data:O==null?void 0:O.data;M===void 0&&(M=E.data);const A=M!==void 0,I=E.isLoading,F=(!O||O.isLoading||O.isUninitialized)&&!A&&I,B=E.isSuccess||A&&(I&&!(O!=null&&O.isError)||E.isUninitialized);return{...E,data:M,currentData:E.data,isFetching:I,isLoading:F,isSuccess:B}}function v(E,O,L){if(O!=null&&O.endpointName&&E.isUninitialized){const{endpointName:$}=O,q=y[$];L!==vs&&x({queryArgs:O.originalArgs,endpointDefinition:q,endpointName:$})===x({queryArgs:L,endpointDefinition:q,endpointName:$})&&(O=void 0)}let M=E.isSuccess?E.data:O==null?void 0:O.data;M===void 0&&(M=E.data);const A=M!==void 0,I=E.isLoading,F=(!O||O.isLoading||O.isUninitialized)&&!A&&I,B=E.isSuccess||I&&A;return{...E,data:M,currentData:E.data,isFetching:I,isLoading:F,isSuccess:B}}function N(E,O){const L=a(),M=_n(O);return S.useCallback((A,I)=>L(s.util.prefetch(E,A,{...M,...I})),[E,L,M])}function j(E,O,{refetchOnReconnect:L,refetchOnFocus:M,refetchOnMountOrArgChange:A,skip:I=!1,pollingInterval:F=0,skipPollingIfUnfocused:B=!1,...$}={}){const{initiate:q}=s.endpoints[E],Z=a(),ne=S.useRef(void 0);if(!ne.current){const Ne=Z(s.internalActions.internal_getRTKQSubscriptions());ne.current=Ne}const Y=Dd(I?vs:O),H=_n({refetchOnReconnect:L,refetchOnFocus:M,pollingInterval:F,skipPollingIfUnfocused:B}),V=$.initialPageParam,D=_n(V),W=$.refetchCachedPages,se=_n(W),ae=S.useRef(void 0);let{queryCacheKey:ie,requestId:pe}=ae.current||{},ce=!1;ie&&pe&&(ce=ne.current.isRequestSubscribed(ie,pe));const fe=!ce&&ae.current!==void 0;return p(()=>{fe&&(ae.current=void 0)},[fe]),p(()=>{var Ce;const Ne=ae.current;if(Y===vs){Ne==null||Ne.unsubscribe(),ae.current=void 0;return}const _e=(Ce=ae.current)==null?void 0:Ce.subscriptionOptions;if(!Ne||Ne.arg!==Y){Ne==null||Ne.unsubscribe();const Re=Z(q(Y,{subscriptionOptions:H,forceRefetch:A,...Lp(y[E])?{initialPageParam:D,refetchCachedPages:se}:{}}));ae.current=Re}else H!==_e&&Ne.updateSubscriptionOptions(H)},[Z,q,A,Y,H,fe,D,se,E]),[ae,Z,q,H]}function C(E,O){return(M,{skip:A=!1,selectFromResult:I}={})=>{const{select:F}=s.endpoints[E],B=Dd(A?vs:M),$=S.useRef(void 0),q=S.useMemo(()=>u([F(B),(V,D)=>D,V=>B],O,{memoizeOptions:{resultEqualityCheck:Fa}}),[F,B]),Z=S.useMemo(()=>I?u([q],I,{devModeChecks:{identityFunctionCheck:"never"}}):q,[q,I]),ne=i(V=>Z(V,$.current),Fa),Y=c(),H=q(Y.getState(),$.current);return hN(()=>{$.current=H},[H]),ne}}function T(E){S.useEffect(()=>()=>{g(E),E.current=void 0},[E])}function _(E){if(!E.current)throw new Error(as(38));return E.current.refetch()}function k(E){const O=(A,I={})=>{const[F]=j(E,A,I);return T(F),S.useMemo(()=>({refetch:()=>_(F)}),[F])},L=({refetchOnReconnect:A,refetchOnFocus:I,pollingInterval:F=0,skipPollingIfUnfocused:B=!1}={})=>{const{initiate:$}=s.endpoints[E],q=a(),[Z,ne]=S.useState(Ld),Y=S.useRef(void 0),H=_n({refetchOnReconnect:A,refetchOnFocus:I,pollingInterval:F,skipPollingIfUnfocused:B});p(()=>{var ae,ie;const se=(ae=Y.current)==null?void 0:ae.subscriptionOptions;H!==se&&((ie=Y.current)==null||ie.updateSubscriptionOptions(H))},[H]);const V=S.useRef(H);p(()=>{V.current=H},[H]);const D=S.useCallback(function(se,ae=!1){let ie;return n(()=>{g(Y),Y.current=ie=q($(se,{subscriptionOptions:V.current,forceRefetch:!ae})),ne(se)}),ie},[q,$]),W=S.useCallback(()=>{var se,ae;(se=Y.current)!=null&&se.queryCacheKey&&q(s.internalActions.removeQueryResult({queryCacheKey:(ae=Y.current)==null?void 0:ae.queryCacheKey}))},[q]);return S.useEffect(()=>()=>{g(Y)},[]),S.useEffect(()=>{Z!==Ld&&!Y.current&&D(Z,!0)},[Z,D]),S.useMemo(()=>[D,Z,{reset:W}],[D,Z,W])},M=C(E,w);return{useQueryState:M,useQuerySubscription:O,useLazyQuerySubscription:L,useLazyQuery(A){const[I,F,{reset:B}]=L(A),$=M(F,{...A,skip:F===Ld}),q=S.useMemo(()=>({lastArg:F}),[F]);return S.useMemo(()=>[I,{...$,reset:B},q],[I,$,B,q])},useQuery(A,I){const F=O(A,I),B=M(A,{selectFromResult:A===vs||I!=null&&I.skip?void 0:_x,...I}),$=Ad(B,...Fd);return S.useDebugValue($),S.useMemo(()=>({...B,...F}),[B,F])}}}function R(E){const O=(M,A={})=>{const[I,F,B,$]=j(E,M,A),q=S.useRef($);p(()=>{q.current=$},[$]);const Z=A.refetchCachedPages,ne=_n(Z),Y=S.useCallback(function(D,W){let se;return n(()=>{g(I),I.current=se=F(B(D,{subscriptionOptions:q.current,direction:W}))}),se},[I,F,B]);T(I);const H=Dd(A.skip?vs:M),V=S.useCallback(D=>{if(!I.current)throw new Error(as(38));const W={refetchCachedPages:(D==null?void 0:D.refetchCachedPages)??ne};return I.current.refetch(W)},[I,ne]);return S.useMemo(()=>({trigger:Y,refetch:V,fetchNextPage:()=>Y(H,"forward"),fetchPreviousPage:()=>Y(H,"backward")}),[V,Y,H])},L=C(E,v);return{useInfiniteQueryState:L,useInfiniteQuerySubscription:O,useInfiniteQuery(M,A){const{refetch:I,fetchNextPage:F,fetchPreviousPage:B}=O(M,A),$=L(M,{selectFromResult:M===vs||A!=null&&A.skip?void 0:_x,...A}),q=Ad($,...Fd,"hasNextPage","hasPreviousPage");return S.useDebugValue(q),S.useMemo(()=>({...$,fetchNextPage:F,fetchPreviousPage:B,refetch:I}),[$,F,B,I])}}}function b(E){return({selectFromResult:O,fixedCacheKey:L}={})=>{const{select:M,initiate:A}=s.endpoints[E],I=a(),[F,B]=S.useState();S.useEffect(()=>()=>{F!=null&&F.arg.fixedCacheKey||F==null||F.reset()},[F]);const $=S.useCallback(function(se){const ae=I(A(se,{fixedCacheKey:L}));return B(ae),ae},[I,A,L]),{requestId:q}=F||{},Z=S.useMemo(()=>M({fixedCacheKey:L,requestId:F==null?void 0:F.requestId}),[L,F,M]),ne=S.useMemo(()=>O?u([Z],O):Z,[O,Z]),Y=i(ne,Fa),H=L==null?F==null?void 0:F.arg.originalArgs:void 0,V=S.useCallback(()=>{n(()=>{F&&B(void 0),L&&I(s.internalActions.removeMutationResult({requestId:q,fixedCacheKey:L}))})},[I,L,F,q]),D=Ad(Y,...Fd,"endpointName");S.useDebugValue(D);const W=S.useMemo(()=>({...Y,originalArgs:H,reset:V}),[Y,H,V]);return S.useMemo(()=>[$,W],[$,W])}}}var pN=Symbol(),gN=({batch:s=pv,hooks:n={useDispatch:sp,useSelector:rp,useStore:tp},createSelector:a=Su,unstable__sideEffectsInRender:i=!1,...c}={})=>({name:pN,init(d,{serializeQueryArgs:u},x){const f=d,{buildQueryHooks:p,buildInfiniteQueryHooks:g,buildMutationHook:y,usePrefetch:w}=xN({api:d,moduleOptions:{batch:s,hooks:n,unstable__sideEffectsInRender:i,createSelector:a},serializeQueryArgs:u,context:x});return Ma(f,{usePrefetch:w}),Ma(x,{batch:s}),{injectEndpoint(v,N){if(iN(N)){const{useQuery:j,useLazyQuery:C,useLazyQuerySubscription:T,useQueryState:_,useQuerySubscription:k}=p(v);Ma(f.endpoints[v],{useQuery:j,useLazyQuery:C,useLazyQuerySubscription:T,useQueryState:_,useQuerySubscription:k}),d[`use${Hi(v)}Query`]=j,d[`useLazy${Hi(v)}Query`]=C}if(oN(N)){const j=y(v);Ma(f.endpoints[v],{useMutation:j}),d[`use${Hi(v)}Mutation`]=j}else if(Lp(N)){const{useInfiniteQuery:j,useInfiniteQuerySubscription:C,useInfiniteQueryState:T}=g(v);Ma(f.endpoints[v],{useInfiniteQuery:j,useInfiniteQuerySubscription:C,useInfiniteQueryState:T}),d[`use${Hi(v)}InfiniteQuery`]=j}}}}}),yN=Ip(_p(),gN());const vN="http://localhost:5243/api",jN=ub({baseUrl:vN,prepareHeaders:(s,{getState:n})=>{var d,u;const a=n(),i=a.auth.token,c=(u=(d=a.branch)==null?void 0:d.currentBranch)==null?void 0:u.id;return i&&s.set("Authorization",`Bearer ${i}`),c&&s.set("X-Branch-Id",c.toString()),s}}),bN=zi(async(s,n,a)=>{const i=await jN(s,n,a);if(i.error){const c=i.error;if(typeof s=="object"&&s!==null&&"method"in s&&typeof s.method=="string"&&["POST","PUT","DELETE"].includes(s.method.toUpperCase()))return c.status==="FETCH_ERROR"?J.error(" .     ."):c.status===500&&J.error("   .        ."),zi.fail(c),i;if(c.status==="FETCH_ERROR")return J.error("   "),i;if(c.status==="TIMEOUT_ERROR")return J.error("     "),i;if(c.status===401)return n.dispatch({type:"auth/logout"}),window.location.href="/login",zi.fail(c),i;if(c.status===403||c.status===400||c.status===409){const u=c.data,x=(u==null?void 0:u.message)||"   ";return(u==null?void 0:u.errorCode)==="NO_OPEN_SHIFT"?J.error("     "):(u==null?void 0:u.errorCode)==="SHIFT_CONCURRENCY_CONFLICT"?(J.error("        "),n.dispatch({type:"api/invalidateTags",payload:["Shifts"]})):(u==null?void 0:u.errorCode)==="SHIFT_BRANCH_MISMATCH"?J.error("    "):(u==null?void 0:u.errorCode)==="INSUFFICIENT_STOCK"?(J.error(x,{duration:5e3}),n.dispatch({type:"api/invalidateTags",payload:["Products"]})):J.error(x),zi.fail(c),i}if(c.status===500)return J.error("      "),i}return i},{maxRetries:3}),tt=yN({reducerPath:"api",baseQuery:bN,tagTypes:["Products","Categories","Orders","Shifts","User","Branches","Tenant","AuditLogs","Reports","Customers","Inventory","Suppliers","PurchaseInvoice","Expense","Expenses","ExpenseCategory","ExpenseCategories","CashRegisterBalance","CashRegisterTransactions"],endpoints:()=>({})}),zd="kasserpro_active_shift",NN=60*1e3;class wN{constructor(){Rn(this,"saveInterval",null)}startAutoSave(n){this.stopAutoSave(),this.saveInterval=setInterval(()=>{const a=n();a&&!a.isClosed&&this.save(a)},NN)}stopAutoSave(){this.saveInterval&&(clearInterval(this.saveInterval),this.saveInterval=null)}save(n){try{const a={shift:n,savedAt:new Date().toISOString()};localStorage.setItem(zd,JSON.stringify(a))}catch(a){console.error("Failed to save shift to localStorage:",a)}}load(){try{const n=localStorage.getItem(zd);if(!n)return null;const a=JSON.parse(n);return!a.shift||!a.savedAt?null:a.shift.isClosed?(this.clear(),null):a}catch(n){return console.error("Failed to load shift from localStorage:",n),null}}clear(){try{localStorage.removeItem(zd)}catch(n){console.error("Failed to clear shift from localStorage:",n)}}hasSavedShift(){return this.load()!==null}getTimeSinceLastSave(){const n=this.load();if(!n)return null;const a=new Date(n.savedAt);return new Date().getTime()-a.getTime()}}const Ks=new wN,SN={user:null,token:null,isAuthenticated:!1},Dp=Ls({name:"auth",initialState:SN,reducers:{setCredentials:(s,n)=>{s.user=n.payload.user,s.token=n.payload.token,s.isAuthenticated=!0},logout:s=>{s.user=null,s.token=null,s.isAuthenticated=!1,Ks.clear()},updateUser:(s,n)=>{s.user&&(s.user={...s.user,...n.payload})}}}),{setCredentials:kN,logout:CN,updateUser:R5}=Dp.actions,dl=s=>s.auth.user,ul=s=>s.auth.isAuthenticated,qn=s=>{var n;return((n=s.auth.user)==null?void 0:n.role)==="Admin"},Fu=s=>{var n;return((n=s.auth.user)==null?void 0:n.role)==="SystemOwner"},EN=Dp.reducer,PN={items:[],taxRate:14,isTaxEnabled:!0,allowNegativeStock:!1,discountType:void 0,discountValue:void 0},Ap=Ls({name:"cart",initialState:PN,reducers:{addItem:(s,n)=>{const{product:a,quantity:i=1}=n.payload,c=s.items.find(f=>f.product.id===a.id),d=(c==null?void 0:c.quantity)??0,u=d+i,x=a.stockQuantity??1/0;if(s.allowNegativeStock){c?c.quantity=u:s.items.push({product:a,quantity:i});return}if(a.trackInventory&&u>x){const f=Math.max(0,x-d);if(f<=0)return;c?c.quantity=x:s.items.push({product:a,quantity:f});return}c?c.quantity=u:s.items.push({product:a,quantity:i})},removeItem:(s,n)=>{s.items=s.items.filter(a=>a.product.id!==n.payload)},updateQuantity:(s,n)=>{const{productId:a,quantity:i}=n.payload;if(i<=0){s.items=s.items.filter(d=>d.product.id!==a);return}const c=s.items.find(d=>d.product.id===a);if(c){if(s.allowNegativeStock){c.quantity=i;return}const d=c.product.stockQuantity??1/0;c.product.trackInventory&&i>d?c.quantity=d:c.quantity=i}},updateNotes:(s,n)=>{const{productId:a,notes:i}=n.payload,c=s.items.find(d=>d.product.id===a);c&&(c.notes=i)},clearCart:s=>{s.items=[],s.discountType=void 0,s.discountValue=void 0},setTaxSettings:(s,n)=>{s.taxRate=n.payload.taxRate,s.isTaxEnabled=n.payload.isTaxEnabled,n.payload.allowNegativeStock!==void 0&&(s.allowNegativeStock=n.payload.allowNegativeStock)},setDiscount:(s,n)=>{n.payload?(s.discountType=n.payload.type,s.discountValue=n.payload.value):(s.discountType=void 0,s.discountValue=void 0)}}}),{addItem:TN,removeItem:RN,updateQuantity:IN,updateNotes:_N,clearCart:MN,setTaxSettings:Fp,setDiscount:Mx}=Ap.actions,ON=s=>s.cart.items,zp=s=>s.cart.taxRate,$p=s=>s.cart.isTaxEnabled,qp=s=>s.cart.allowNegativeStock,LN=s=>s.cart.discountType,DN=s=>s.cart.discountValue,AN=s=>s.cart.items.reduce((n,a)=>n+a.quantity,0),FN=s=>Math.round(s.cart.items.reduce((n,a)=>n+a.product.price*a.quantity,0)*100)/100,zN=s=>{if(!s.cart.discountType||!s.cart.discountValue)return 0;const n=s.cart.items.reduce((i,c)=>i+c.product.price*c.quantity,0);let a=0;return s.cart.discountType==="Percentage"?a=n*(s.cart.discountValue/100):a=s.cart.discountValue,Math.round(Math.min(a,n)*100)/100},$N=s=>{if(!s.cart.isTaxEnabled)return 0;const n=s.cart.items.reduce((d,u)=>d+u.product.price*u.quantity,0);let a=0;s.cart.discountType&&s.cart.discountValue&&(s.cart.discountType==="Percentage"?a=n*(s.cart.discountValue/100):a=s.cart.discountValue,a=Math.min(a,n));const c=(n-a)*(s.cart.taxRate/100);return Math.round(c*100)/100},qN=s=>{const n=s.cart.items.reduce((d,u)=>d+u.product.price*u.quantity,0);let a=0;s.cart.discountType&&s.cart.discountValue&&(s.cart.discountType==="Percentage"?a=n*(s.cart.discountValue/100):a=s.cart.discountValue,a=Math.min(a,n));const i=n-a;if(!s.cart.isTaxEnabled)return Math.round(i*100)/100;const c=i*(s.cart.taxRate/100);return Math.round((i+c)*100)/100},UN=Ap.reducer,BN={isPaymentModalOpen:!1,isReceiptModalOpen:!1,isSidebarOpen:!0,currentOrderId:null},Up=Ls({name:"ui",initialState:BN,reducers:{openPaymentModal:s=>{s.isPaymentModalOpen=!0},closePaymentModal:s=>{s.isPaymentModalOpen=!1},openReceiptModal:(s,n)=>{s.isReceiptModalOpen=!0,s.currentOrderId=n.payload},closeReceiptModal:s=>{s.isReceiptModalOpen=!1,s.currentOrderId=null},toggleSidebar:s=>{s.isSidebarOpen=!s.isSidebarOpen}}}),{openPaymentModal:I5,closePaymentModal:_5,openReceiptModal:M5,closeReceiptModal:O5,toggleSidebar:L5}=Up.actions,QN=Up.reducer,HN={currentBranch:null,branches:[]},Bp=Ls({name:"branch",initialState:HN,reducers:{setCurrentBranch:(s,n)=>{s.currentBranch=n.payload},setBranches:(s,n)=>{s.branches=n.payload,!s.currentBranch&&n.payload.length>0&&(s.currentBranch=n.payload[0])},clearBranch:s=>{s.currentBranch=null,s.branches=[]}}}),{setCurrentBranch:VN,setBranches:WN,clearBranch:D5}=Bp.actions,Rr=s=>s.branch.currentBranch,ml=s=>s.branch.branches,KN=Bp.reducer,GN={key:"auth",storage:Op,whitelist:["token","user","isAuthenticated"]},YN={key:"branch",storage:Op,whitelist:["currentBranch"]},XN=ju({[tt.reducerPath]:tt.reducer,auth:Cx(GN,EN),cart:UN,ui:QN,branch:Cx(YN,KN)}),zu=Dj({reducer:XN,middleware:s=>s({serializableCheck:{ignoredActions:[Mu,Ro,Ou,Lu,Du,Au]}}).concat(tt.middleware),devTools:!1}),JN=Zb(zu);pb(zu.dispatch);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ox="popstate";function ZN(s={}){function n(i,c){let{pathname:d,search:u,hash:x}=i.location;return ou("",{pathname:d,search:u,hash:x},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function a(i,c){return typeof c=="string"?c:Ya(c)}return t1(n,a,null,s)}function He(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function ls(s,n){if(!s){typeof console<"u"&&console.warn(n);try{throw new Error(n)}catch{}}}function e1(){return Math.random().toString(36).substring(2,10)}function Lx(s,n){return{usr:s.state,key:s.key,idx:n}}function ou(s,n,a=null,i){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof n=="string"?Un(n):n,state:a,key:n&&n.key||i||e1()}}function Ya({pathname:s="/",search:n="",hash:a=""}){return n&&n!=="?"&&(s+=n.charAt(0)==="?"?n:"?"+n),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Un(s){let n={};if(s){let a=s.indexOf("#");a>=0&&(n.hash=s.substring(a),s=s.substring(0,a));let i=s.indexOf("?");i>=0&&(n.search=s.substring(i),s=s.substring(0,i)),s&&(n.pathname=s)}return n}function t1(s,n,a,i={}){let{window:c=document.defaultView,v5Compat:d=!1}=i,u=c.history,x="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function y(){x="POP";let C=g(),T=C==null?null:C-p;p=C,f&&f({action:x,location:j.location,delta:T})}function w(C,T){x="PUSH";let _=ou(j.location,C,T);p=g()+1;let k=Lx(_,p),R=j.createHref(_);try{u.pushState(k,"",R)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;c.location.assign(R)}d&&f&&f({action:x,location:j.location,delta:1})}function v(C,T){x="REPLACE";let _=ou(j.location,C,T);p=g();let k=Lx(_,p),R=j.createHref(_);u.replaceState(k,"",R),d&&f&&f({action:x,location:j.location,delta:0})}function N(C){return s1(C)}let j={get action(){return x},get location(){return s(c,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return c.addEventListener(Ox,y),f=C,()=>{c.removeEventListener(Ox,y),f=null}},createHref(C){return n(c,C)},createURL:N,encodeLocation(C){let T=N(C);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:w,replace:v,go(C){return u.go(C)}};return j}function s1(s,n=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),He(a,"No window.location.(origin|href) available to create URL");let i=typeof s=="string"?s:Ya(s);return i=i.replace(/ $/,"%20"),!n&&i.startsWith("//")&&(i=a+i),new URL(i,a)}function Qp(s,n,a="/"){return r1(s,n,a,!1)}function r1(s,n,a,i){let c=typeof n=="string"?Un(n):n,d=er(c.pathname||"/",a);if(d==null)return null;let u=Hp(s);n1(u);let x=null;for(let f=0;x==null&&f<u.length;++f){let p=x1(d);x=f1(u[f],p,i)}return x}function Hp(s,n=[],a=[],i="",c=!1){let d=(u,x,f=c,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:x,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(i)&&f)return;He(g.relativePath.startsWith(i),`Absolute route path "${g.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(i.length)}let y=Xs([i,g.relativePath]),w=a.concat(g);u.children&&u.children.length>0&&(He(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Hp(u.children,n,w,y,f)),!(u.path==null&&!u.index)&&n.push({path:y,score:u1(y,u.index),routesMeta:w})};return s.forEach((u,x)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))d(u,x);else for(let p of Vp(u.path))d(u,x,!0,p)}),n}function Vp(s){let n=s.split("/");if(n.length===0)return[];let[a,...i]=n,c=a.endsWith("?"),d=a.replace(/\?$/,"");if(i.length===0)return c?[d,""]:[d];let u=Vp(i.join("/")),x=[];return x.push(...u.map(f=>f===""?d:[d,f].join("/"))),c&&x.push(...u),x.map(f=>s.startsWith("/")&&f===""?"/":f)}function n1(s){s.sort((n,a)=>n.score!==a.score?a.score-n.score:m1(n.routesMeta.map(i=>i.childrenIndex),a.routesMeta.map(i=>i.childrenIndex)))}var a1=/^:[\w-]+$/,l1=3,i1=2,o1=1,c1=10,d1=-2,Dx=s=>s==="*";function u1(s,n){let a=s.split("/"),i=a.length;return a.some(Dx)&&(i+=d1),n&&(i+=i1),a.filter(c=>!Dx(c)).reduce((c,d)=>c+(a1.test(d)?l1:d===""?o1:c1),i)}function m1(s,n){return s.length===n.length&&s.slice(0,-1).every((i,c)=>i===n[c])?s[s.length-1]-n[n.length-1]:0}function f1(s,n,a=!1){let{routesMeta:i}=s,c={},d="/",u=[];for(let x=0;x<i.length;++x){let f=i[x],p=x===i.length-1,g=d==="/"?n:n.slice(d.length)||"/",y=ho({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),w=f.route;if(!y&&p&&a&&!i[i.length-1].route.index&&(y=ho({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!y)return null;Object.assign(c,y.params),u.push({params:c,pathname:Xs([d,y.pathname]),pathnameBase:v1(Xs([d,y.pathnameBase])),route:w}),y.pathnameBase!=="/"&&(d=Xs([d,y.pathnameBase]))}return u}function ho(s,n){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,i]=h1(s.path,s.caseSensitive,s.end),c=n.match(a);if(!c)return null;let d=c[0],u=d.replace(/(.)\/+$/,"$1"),x=c.slice(1);return{params:i.reduce((p,{paramName:g,isOptional:y},w)=>{if(g==="*"){let N=x[w]||"";u=d.slice(0,d.length-N.length).replace(/(.)\/+$/,"$1")}const v=x[w];return y&&!v?p[g]=void 0:p[g]=(v||"").replace(/%2F/g,"/"),p},{}),pathname:d,pathnameBase:u,pattern:s}}function h1(s,n=!1,a=!0){ls(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let i=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,x,f)=>(i.push({paramName:x,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return s.endsWith("*")?(i.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,n?void 0:"i"),i]}function x1(s){try{return s.split("/").map(n=>decodeURIComponent(n).replace(/\//g,"%2F")).join("/")}catch(n){return ls(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${n}).`),s}}function er(s,n){if(n==="/")return s;if(!s.toLowerCase().startsWith(n.toLowerCase()))return null;let a=n.endsWith("/")?n.length-1:n.length,i=s.charAt(a);return i&&i!=="/"?null:s.slice(a)||"/"}var Wp=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p1=s=>Wp.test(s);function g1(s,n="/"){let{pathname:a,search:i="",hash:c=""}=typeof s=="string"?Un(s):s,d;if(a)if(p1(a))d=a;else{if(a.includes("//")){let u=a;a=a.replace(/\/\/+/g,"/"),ls(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${a}`)}a.startsWith("/")?d=Ax(a.substring(1),"/"):d=Ax(a,n)}else d=n;return{pathname:d,search:j1(i),hash:b1(c)}}function Ax(s,n){let a=n.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?a.length>1&&a.pop():c!=="."&&a.push(c)}),a.length>1?a.join("/"):"/"}function $d(s,n,a,i){return`Cannot include a '${s}' character in a manually specified \`to.${n}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y1(s){return s.filter((n,a)=>a===0||n.route.path&&n.route.path.length>0)}function $u(s){let n=y1(s);return n.map((a,i)=>i===n.length-1?a.pathname:a.pathnameBase)}function qu(s,n,a,i=!1){let c;typeof s=="string"?c=Un(s):(c={...s},He(!c.pathname||!c.pathname.includes("?"),$d("?","pathname","search",c)),He(!c.pathname||!c.pathname.includes("#"),$d("#","pathname","hash",c)),He(!c.search||!c.search.includes("#"),$d("#","search","hash",c)));let d=s===""||c.pathname==="",u=d?"/":c.pathname,x;if(u==null)x=a;else{let y=n.length-1;if(!i&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),y-=1;c.pathname=w.join("/")}x=y>=0?n[y]:"/"}let f=g1(c,x),p=u&&u!=="/"&&u.endsWith("/"),g=(d||u===".")&&a.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Xs=s=>s.join("/").replace(/\/\/+/g,"/"),v1=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),j1=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,b1=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s,N1=class{constructor(s,n,a,i=!1){this.status=s,this.statusText=n||"",this.internal=i,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function w1(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}function S1(s){return s.map(n=>n.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Kp=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gp(s,n){let a=s;if(typeof a!="string"||!Wp.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let i=a,c=!1;if(Kp)try{let d=new URL(window.location.href),u=a.startsWith("//")?new URL(d.protocol+a):new URL(a),x=er(u.pathname,n);u.origin===d.origin&&x!=null?a=x+u.search+u.hash:c=!0}catch{ls(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:c,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Yp=["POST","PUT","PATCH","DELETE"];new Set(Yp);var k1=["GET",...Yp];new Set(k1);var Bn=S.createContext(null);Bn.displayName="DataRouter";var Io=S.createContext(null);Io.displayName="DataRouterState";var C1=S.createContext(!1),Xp=S.createContext({isTransitioning:!1});Xp.displayName="ViewTransition";var E1=S.createContext(new Map);E1.displayName="Fetchers";var P1=S.createContext(null);P1.displayName="Await";var Yt=S.createContext(null);Yt.displayName="Navigation";var fl=S.createContext(null);fl.displayName="Location";var os=S.createContext({outlet:null,matches:[],isDataRoute:!1});os.displayName="Route";var Uu=S.createContext(null);Uu.displayName="RouteError";var Jp="REACT_ROUTER_ERROR",T1="REDIRECT",R1="ROUTE_ERROR_RESPONSE";function I1(s){if(s.startsWith(`${Jp}:${T1}:{`))try{let n=JSON.parse(s.slice(28));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.location=="string"&&typeof n.reloadDocument=="boolean"&&typeof n.replace=="boolean")return n}catch{}}function _1(s){if(s.startsWith(`${Jp}:${R1}:{`))try{let n=JSON.parse(s.slice(40));if(typeof n=="object"&&n&&typeof n.status=="number"&&typeof n.statusText=="string")return new N1(n.status,n.statusText,n.data)}catch{}}function M1(s,{relative:n}={}){He(Qn(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:i}=S.useContext(Yt),{hash:c,pathname:d,search:u}=hl(s,{relative:n}),x=d;return a!=="/"&&(x=d==="/"?a:Xs([a,d])),i.createHref({pathname:x,search:u,hash:c})}function Qn(){return S.useContext(fl)!=null}function sr(){return He(Qn(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(fl).location}var Zp="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(s){S.useContext(Yt).static||S.useLayoutEffect(s)}function Ir(){let{isDataRoute:s}=S.useContext(os);return s?K1():O1()}function O1(){He(Qn(),"useNavigate() may be used only in the context of a <Router> component.");let s=S.useContext(Bn),{basename:n,navigator:a}=S.useContext(Yt),{matches:i}=S.useContext(os),{pathname:c}=sr(),d=JSON.stringify($u(i)),u=S.useRef(!1);return e0(()=>{u.current=!0}),S.useCallback((f,p={})=>{if(ls(u.current,Zp),!u.current)return;if(typeof f=="number"){a.go(f);return}let g=qu(f,JSON.parse(d),c,p.relative==="path");s==null&&n!=="/"&&(g.pathname=g.pathname==="/"?n:Xs([n,g.pathname])),(p.replace?a.replace:a.push)(g,p.state,p)},[n,a,d,c,s])}var L1=S.createContext(null);function D1(s){let n=S.useContext(os).outlet;return S.useMemo(()=>n&&S.createElement(L1.Provider,{value:s},n),[n,s])}function _o(){let{matches:s}=S.useContext(os),n=s[s.length-1];return n?n.params:{}}function hl(s,{relative:n}={}){let{matches:a}=S.useContext(os),{pathname:i}=sr(),c=JSON.stringify($u(a));return S.useMemo(()=>qu(s,JSON.parse(c),i,n==="path"),[s,c,i,n])}function A1(s,n){return t0(s,n)}function t0(s,n,a,i,c){var _;He(Qn(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=S.useContext(Yt),{matches:u}=S.useContext(os),x=u[u.length-1],f=x?x.params:{},p=x?x.pathname:"/",g=x?x.pathnameBase:"/",y=x&&x.route;{let k=y&&y.path||"";r0(p,!y||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let w=sr(),v;if(n){let k=typeof n=="string"?Un(n):n;He(g==="/"||((_=k.pathname)==null?void 0:_.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=w;let N=v.pathname||"/",j=N;if(g!=="/"){let k=g.replace(/^\//,"").split("/");j="/"+N.replace(/^\//,"").split("/").slice(k.length).join("/")}let C=Qp(s,{pathname:j});ls(y||C!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),ls(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=U1(C&&C.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:Xs([g,d.encodeLocation?d.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Xs([g,d.encodeLocation?d.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),u,a,i,c);return n&&T?S.createElement(fl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},T):T}function F1(){let s=W1(),n=w1(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,i="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:i},d={padding:"2px 4px",backgroundColor:i},u=null;return console.error("Error handled by React Router default ErrorBoundary:",s),u=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:d},"ErrorBoundary")," or"," ",S.createElement("code",{style:d},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},n),a?S.createElement("pre",{style:c},a):null,u)}var z1=S.createElement(F1,null),s0=class extends S.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,n){return n.location!==s.location||n.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:n.error,location:n.location,revalidation:s.revalidation||n.revalidation}}componentDidCatch(s,n){this.props.onError?this.props.onError(s,n):console.error("React Router caught the following error during render",s)}render(){let s=this.state.error;if(this.context&&typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){const a=_1(s.digest);a&&(s=a)}let n=s!==void 0?S.createElement(os.Provider,{value:this.props.routeContext},S.createElement(Uu.Provider,{value:s,children:this.props.component})):this.props.children;return this.context?S.createElement($1,{error:s},n):n}};s0.contextType=C1;var qd=new WeakMap;function $1({children:s,error:n}){let{basename:a}=S.useContext(Yt);if(typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){let i=I1(n.digest);if(i){let c=qd.get(n);if(c)throw c;let d=Gp(i.location,a);if(Kp&&!qd.get(n))if(d.isExternal||i.reloadDocument)window.location.href=d.absoluteURL||d.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(d.to,{replace:i.replace}));throw qd.set(n,u),u}return S.createElement("meta",{httpEquiv:"refresh",content:`0;url=${d.absoluteURL||d.to}`})}}return s}function q1({routeContext:s,match:n,children:a}){let i=S.useContext(Bn);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),S.createElement(os.Provider,{value:s},a)}function U1(s,n=[],a=null,i=null,c=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(n.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let d=s,u=a==null?void 0:a.errors;if(u!=null){let g=d.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);He(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),d=d.slice(0,Math.min(d.length,g+1))}let x=!1,f=-1;if(a)for(let g=0;g<d.length;g++){let y=d[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=g),y.route.id){let{loaderData:w,errors:v}=a,N=y.route.loader&&!w.hasOwnProperty(y.route.id)&&(!v||v[y.route.id]===void 0);if(y.route.lazy||N){x=!0,f>=0?d=d.slice(0,f+1):d=[d[0]];break}}}let p=a&&i?(g,y)=>{var w,v;i(g,{location:a.location,params:((v=(w=a.matches)==null?void 0:w[0])==null?void 0:v.params)??{},unstable_pattern:S1(a.matches),errorInfo:y})}:void 0;return d.reduceRight((g,y,w)=>{let v,N=!1,j=null,C=null;a&&(v=u&&y.route.id?u[y.route.id]:void 0,j=y.route.errorElement||z1,x&&(f<0&&w===0?(r0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,C=null):f===w&&(N=!0,C=y.route.hydrateFallbackElement||null)));let T=n.concat(d.slice(0,w+1)),_=()=>{let k;return v?k=j:N?k=C:y.route.Component?k=S.createElement(y.route.Component,null):y.route.element?k=y.route.element:k=g,S.createElement(q1,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:a!=null},children:k})};return a&&(y.route.ErrorBoundary||y.route.errorElement||w===0)?S.createElement(s0,{location:a.location,revalidation:a.revalidation,component:j,error:v,children:_(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):_()},null)}function Bu(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B1(s){let n=S.useContext(Bn);return He(n,Bu(s)),n}function Q1(s){let n=S.useContext(Io);return He(n,Bu(s)),n}function H1(s){let n=S.useContext(os);return He(n,Bu(s)),n}function Qu(s){let n=H1(s),a=n.matches[n.matches.length-1];return He(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function V1(){return Qu("useRouteId")}function W1(){var i;let s=S.useContext(Uu),n=Q1("useRouteError"),a=Qu("useRouteError");return s!==void 0?s:(i=n.errors)==null?void 0:i[a]}function K1(){let{router:s}=B1("useNavigate"),n=Qu("useNavigate"),a=S.useRef(!1);return e0(()=>{a.current=!0}),S.useCallback(async(c,d={})=>{ls(a.current,Zp),a.current&&(typeof c=="number"?await s.navigate(c):await s.navigate(c,{fromRouteId:n,...d}))},[s,n])}var Fx={};function r0(s,n,a){!n&&!Fx[s]&&(Fx[s]=!0,ls(!1,a))}S.memo(G1);function G1({routes:s,future:n,state:a,onError:i}){return t0(s,void 0,a,i,n)}function Hn({to:s,replace:n,state:a,relative:i}){He(Qn(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=S.useContext(Yt);ls(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:d}=S.useContext(os),{pathname:u}=sr(),x=Ir(),f=qu(s,$u(d),u,i==="path"),p=JSON.stringify(f);return S.useEffect(()=>{x(JSON.parse(p),{replace:n,state:a,relative:i})},[x,p,i,n,a]),null}function Y1(s){return D1(s.context)}function ze(s){He(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function X1({basename:s="/",children:n=null,location:a,navigationType:i="POP",navigator:c,static:d=!1,unstable_useTransitions:u}){He(!Qn(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let x=s.replace(/^\/*/,"/"),f=S.useMemo(()=>({basename:x,navigator:c,static:d,unstable_useTransitions:u,future:{}}),[x,c,d,u]);typeof a=="string"&&(a=Un(a));let{pathname:p="/",search:g="",hash:y="",state:w=null,key:v="default"}=a,N=S.useMemo(()=>{let j=er(p,x);return j==null?null:{location:{pathname:j,search:g,hash:y,state:w,key:v},navigationType:i}},[x,p,g,y,w,v,i]);return ls(N!=null,`<Router basename="${x}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:S.createElement(Yt.Provider,{value:f},S.createElement(fl.Provider,{children:n,value:N}))}function J1({children:s,location:n}){return A1(cu(s),n)}function cu(s,n=[]){let a=[];return S.Children.forEach(s,(i,c)=>{if(!S.isValidElement(i))return;let d=[...n,c];if(i.type===S.Fragment){a.push.apply(a,cu(i.props.children,d));return}He(i.type===ze,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),He(!i.props.index||!i.props.children,"An index route cannot have child routes.");let u={id:i.props.id||d.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=cu(i.props.children,d)),a.push(u)}),a}var Zi="get",eo="application/x-www-form-urlencoded";function Mo(s){return typeof HTMLElement<"u"&&s instanceof HTMLElement}function Z1(s){return Mo(s)&&s.tagName.toLowerCase()==="button"}function ew(s){return Mo(s)&&s.tagName.toLowerCase()==="form"}function tw(s){return Mo(s)&&s.tagName.toLowerCase()==="input"}function sw(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function rw(s,n){return s.button===0&&(!n||n==="_self")&&!sw(s)}var Vi=null;function nw(){if(Vi===null)try{new FormData(document.createElement("form"),0),Vi=!1}catch{Vi=!0}return Vi}var aw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Ud(s){return s!=null&&!aw.has(s)?(ls(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eo}"`),null):s}function lw(s,n){let a,i,c,d,u;if(ew(s)){let x=s.getAttribute("action");i=x?er(x,n):null,a=s.getAttribute("method")||Zi,c=Ud(s.getAttribute("enctype"))||eo,d=new FormData(s)}else if(Z1(s)||tw(s)&&(s.type==="submit"||s.type==="image")){let x=s.form;if(x==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=s.getAttribute("formaction")||x.getAttribute("action");if(i=f?er(f,n):null,a=s.getAttribute("formmethod")||x.getAttribute("method")||Zi,c=Ud(s.getAttribute("formenctype"))||Ud(x.getAttribute("enctype"))||eo,d=new FormData(x,s),!nw()){let{name:p,type:g,value:y}=s;if(g==="image"){let w=p?`${p}.`:"";d.append(`${w}x`,"0"),d.append(`${w}y`,"0")}else p&&d.append(p,y)}}else{if(Mo(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Zi,i=null,c=eo,u=s}return d&&c==="text/plain"&&(u=d,d=void 0),{action:i,method:a.toLowerCase(),encType:c,formData:d,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hu(s,n){if(s===!1||s===null||typeof s>"u")throw new Error(n)}function iw(s,n,a){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname=`_root.${a}`:n&&er(i.pathname,n)==="/"?i.pathname=`${n.replace(/\/$/,"")}/_root.${a}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${a}`,i}async function ow(s,n){if(s.id in n)return n[s.id];try{let a=await import(s.module);return n[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function cw(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function dw(s,n,a){let i=await Promise.all(s.map(async c=>{let d=n.routes[c.route.id];if(d){let u=await ow(d,a);return u.links?u.links():[]}return[]}));return hw(i.flat(1).filter(cw).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function zx(s,n,a,i,c,d){let u=(f,p)=>a[p]?f.route.id!==a[p].route.id:!0,x=(f,p)=>{var g;return a[p].pathname!==f.pathname||((g=a[p].route.path)==null?void 0:g.endsWith("*"))&&a[p].params["*"]!==f.params["*"]};return d==="assets"?n.filter((f,p)=>u(f,p)||x(f,p)):d==="data"?n.filter((f,p)=>{var y;let g=i.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||x(f,p))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((y=a[0])==null?void 0:y.params)||{},nextUrl:new URL(s,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function uw(s,n,{includeHydrateFallback:a}={}){return mw(s.map(i=>{let c=n.routes[i.route.id];if(!c)return[];let d=[c.module];return c.clientActionModule&&(d=d.concat(c.clientActionModule)),c.clientLoaderModule&&(d=d.concat(c.clientLoaderModule)),a&&c.hydrateFallbackModule&&(d=d.concat(c.hydrateFallbackModule)),c.imports&&(d=d.concat(c.imports)),d}).flat(1))}function mw(s){return[...new Set(s)]}function fw(s){let n={},a=Object.keys(s).sort();for(let i of a)n[i]=s[i];return n}function hw(s,n){let a=new Set;return new Set(n),s.reduce((i,c)=>{let d=JSON.stringify(fw(c));return a.has(d)||(a.add(d),i.push({key:d,link:c})),i},[])}function n0(){let s=S.useContext(Bn);return Hu(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function xw(){let s=S.useContext(Io);return Hu(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Vu=S.createContext(void 0);Vu.displayName="FrameworkContext";function a0(){let s=S.useContext(Vu);return Hu(s,"You must render this element inside a <HydratedRouter> element"),s}function pw(s,n){let a=S.useContext(Vu),[i,c]=S.useState(!1),[d,u]=S.useState(!1),{onFocus:x,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=n,w=S.useRef(null);S.useEffect(()=>{if(s==="render"&&u(!0),s==="viewport"){let j=T=>{T.forEach(_=>{u(_.isIntersecting)})},C=new IntersectionObserver(j,{threshold:.5});return w.current&&C.observe(w.current),()=>{C.disconnect()}}},[s]),S.useEffect(()=>{if(i){let j=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(j)}}},[i]);let v=()=>{c(!0)},N=()=>{c(!1),u(!1)};return a?s!=="intent"?[d,w,{}]:[d,w,{onFocus:Oa(x,v),onBlur:Oa(f,N),onMouseEnter:Oa(p,v),onMouseLeave:Oa(g,N),onTouchStart:Oa(y,v)}]:[!1,w,{}]}function Oa(s,n){return a=>{s&&s(a),a.defaultPrevented||n(a)}}function gw({page:s,...n}){let{router:a}=n0(),i=S.useMemo(()=>Qp(a.routes,s,a.basename),[a.routes,s,a.basename]);return i?S.createElement(vw,{page:s,matches:i,...n}):null}function yw(s){let{manifest:n,routeModules:a}=a0(),[i,c]=S.useState([]);return S.useEffect(()=>{let d=!1;return dw(s,n,a).then(u=>{d||c(u)}),()=>{d=!0}},[s,n,a]),i}function vw({page:s,matches:n,...a}){let i=sr(),{manifest:c,routeModules:d}=a0(),{basename:u}=n0(),{loaderData:x,matches:f}=xw(),p=S.useMemo(()=>zx(s,n,f,c,i,"data"),[s,n,f,c,i]),g=S.useMemo(()=>zx(s,n,f,c,i,"assets"),[s,n,f,c,i]),y=S.useMemo(()=>{if(s===i.pathname+i.search+i.hash)return[];let N=new Set,j=!1;if(n.forEach(T=>{var k;let _=c.routes[T.route.id];!_||!_.hasLoader||(!p.some(R=>R.route.id===T.route.id)&&T.route.id in x&&((k=d[T.route.id])!=null&&k.shouldRevalidate)||_.hasClientLoader?j=!0:N.add(T.route.id))}),N.size===0)return[];let C=iw(s,u,"data");return j&&N.size>0&&C.searchParams.set("_routes",n.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[C.pathname+C.search]},[u,x,i,c,p,n,s,d]),w=S.useMemo(()=>uw(g,c),[g,c]),v=yw(g);return S.createElement(S.Fragment,null,y.map(N=>S.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),w.map(N=>S.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),v.map(({key:N,link:j})=>S.createElement("link",{key:N,nonce:a.nonce,...j})))}function jw(...s){return n=>{s.forEach(a=>{typeof a=="function"?a(n):a!=null&&(a.current=n)})}}var bw=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{bw&&(window.__reactRouterVersion="7.11.0")}catch{}function Nw({basename:s,children:n,unstable_useTransitions:a,window:i}){let c=S.useRef();c.current==null&&(c.current=ZN({window:i,v5Compat:!0}));let d=c.current,[u,x]=S.useState({action:d.action,location:d.location}),f=S.useCallback(p=>{a===!1?x(p):S.startTransition(()=>x(p))},[a]);return S.useLayoutEffect(()=>d.listen(f),[d,f]),S.createElement(X1,{basename:s,children:n,location:u.location,navigationType:u.action,navigator:d,unstable_useTransitions:a})}var l0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bs=S.forwardRef(function({onClick:n,discover:a="render",prefetch:i="none",relative:c,reloadDocument:d,replace:u,state:x,target:f,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...v},N){let{basename:j,unstable_useTransitions:C}=S.useContext(Yt),T=typeof p=="string"&&l0.test(p),_=Gp(p,j);p=_.to;let k=M1(p,{relative:c}),[R,b,E]=pw(i,v),O=kw(p,{replace:u,state:x,target:f,preventScrollReset:g,relative:c,viewTransition:y,unstable_defaultShouldRevalidate:w,unstable_useTransitions:C});function L(A){n&&n(A),A.defaultPrevented||O(A)}let M=S.createElement("a",{...v,...E,href:_.absoluteURL||k,onClick:_.isExternal||d?n:L,ref:jw(N,b),target:f,"data-discover":!T&&a==="render"?"true":void 0});return R&&!T?S.createElement(S.Fragment,null,M,S.createElement(gw,{page:k})):M});bs.displayName="Link";var du=S.forwardRef(function({"aria-current":n="page",caseSensitive:a=!1,className:i="",end:c=!1,style:d,to:u,viewTransition:x,children:f,...p},g){let y=hl(u,{relative:p.relative}),w=sr(),v=S.useContext(Io),{navigator:N,basename:j}=S.useContext(Yt),C=v!=null&&Rw(y)&&x===!0,T=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,_=w.pathname,k=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(_=_.toLowerCase(),k=k?k.toLowerCase():null,T=T.toLowerCase()),k&&j&&(k=er(k,j)||k);const R=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let b=_===T||!c&&_.startsWith(T)&&_.charAt(R)==="/",E=k!=null&&(k===T||!c&&k.startsWith(T)&&k.charAt(T.length)==="/"),O={isActive:b,isPending:E,isTransitioning:C},L=b?n:void 0,M;typeof i=="function"?M=i(O):M=[i,b?"active":null,E?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let A=typeof d=="function"?d(O):d;return S.createElement(bs,{...p,"aria-current":L,className:M,ref:g,style:A,to:u,viewTransition:x},typeof f=="function"?f(O):f)});du.displayName="NavLink";var ww=S.forwardRef(({discover:s="render",fetcherKey:n,navigate:a,reloadDocument:i,replace:c,state:d,method:u=Zi,action:x,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w,...v},N)=>{let{unstable_useTransitions:j}=S.useContext(Yt),C=Pw(),T=Tw(x,{relative:p}),_=u.toLowerCase()==="get"?"get":"post",k=typeof x=="string"&&l0.test(x),R=b=>{if(f&&f(b),b.defaultPrevented)return;b.preventDefault();let E=b.nativeEvent.submitter,O=(E==null?void 0:E.getAttribute("formmethod"))||u,L=()=>C(E||b.currentTarget,{fetcherKey:n,method:O,navigate:a,replace:c,state:d,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:w});j&&a!==!1?S.startTransition(()=>L()):L()};return S.createElement("form",{ref:N,method:_,action:T,onSubmit:i?f:R,...v,"data-discover":!k&&s==="render"?"true":void 0})});ww.displayName="Form";function Sw(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function i0(s){let n=S.useContext(Bn);return He(n,Sw(s)),n}function kw(s,{target:n,replace:a,state:i,preventScrollReset:c,relative:d,viewTransition:u,unstable_defaultShouldRevalidate:x,unstable_useTransitions:f}={}){let p=Ir(),g=sr(),y=hl(s,{relative:d});return S.useCallback(w=>{if(rw(w,n)){w.preventDefault();let v=a!==void 0?a:Ya(g)===Ya(y),N=()=>p(s,{replace:v,state:i,preventScrollReset:c,relative:d,viewTransition:u,unstable_defaultShouldRevalidate:x});f?S.startTransition(()=>N()):N()}},[g,p,y,a,i,n,s,c,d,u,x,f])}var Cw=0,Ew=()=>`__${String(++Cw)}__`;function Pw(){let{router:s}=i0("useSubmit"),{basename:n}=S.useContext(Yt),a=V1(),i=s.fetch,c=s.navigate;return S.useCallback(async(d,u={})=>{let{action:x,method:f,encType:p,formData:g,body:y}=lw(d,n);if(u.navigate===!1){let w=u.fetcherKey||Ew();await i(w,a,u.action||x,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await c(u.action||x,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:y,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:a,flushSync:u.flushSync,viewTransition:u.viewTransition})},[i,c,n,a])}function Tw(s,{relative:n}={}){let{basename:a}=S.useContext(Yt),i=S.useContext(os);He(i,"useFormAction must be used inside a RouteContext");let[c]=i.matches.slice(-1),d={...hl(s||".",{relative:n})},u=sr();if(s==null){d.search=u.search;let x=new URLSearchParams(d.search),f=x.getAll("index");if(f.some(g=>g==="")){x.delete("index"),f.filter(y=>y).forEach(y=>x.append("index",y));let g=x.toString();d.search=g?`?${g}`:""}}return(!s||s===".")&&c.route.index&&(d.search=d.search?d.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(d.pathname=d.pathname==="/"?a:Xs([a,d.pathname])),Ya(d)}function Rw(s,{relative:n}={}){let a=S.useContext(Xp);He(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=i0("useViewTransitionState"),c=hl(s,{relative:n});if(!a.isTransitioning)return!1;let d=er(a.currentLocation.pathname,i)||a.currentLocation.pathname,u=er(a.nextLocation.pathname,i)||a.nextLocation.pathname;return ho(c.pathname,u)!=null||ho(c.pathname,d)!=null}const xl=()=>sp(),Te=rp,Iw=tt.injectEndpoints({endpoints:s=>({getCurrentShift:s.query({query:()=>"/shifts/current",providesTags:[{type:"Shifts",id:"CURRENT"}]}),getShifts:s.query({query:()=>"/shifts/history",providesTags:["Shifts"]}),getShift:s.query({query:n=>`/shifts/${n}`,providesTags:(n,a,i)=>[{type:"Shifts",id:i}]}),openShift:s.mutation({query:n=>({url:"/shifts/open",method:"POST",body:n}),invalidatesTags:["Shifts"]}),closeShift:s.mutation({query:n=>({url:"/shifts/close",method:"POST",body:n}),invalidatesTags:["Shifts"]}),forceCloseShift:s.mutation({query:({id:n,request:a})=>({url:`/shifts/${n}/force-close`,method:"POST",body:a}),invalidatesTags:["Shifts"]}),handoverShift:s.mutation({query:({id:n,request:a})=>({url:`/shifts/${n}/handover`,method:"POST",body:a}),invalidatesTags:["Shifts"]}),updateShiftActivity:s.mutation({query:n=>({url:`/shifts/${n}/update-activity`,method:"POST"})}),getActiveShifts:s.query({query:()=>"/shifts/active",providesTags:["Shifts"]})})}),{useGetCurrentShiftQuery:o0,useGetShiftsQuery:_w,useOpenShiftMutation:Mw,useCloseShiftMutation:Ow,useForceCloseShiftMutation:Lw,useHandoverShiftMutation:Dw,useGetActiveShiftsQuery:Aw}=Iw;/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),c0=(...s)=>s.filter((n,a,i)=>!!n&&n.trim()!==""&&i.indexOf(n)===a).join(" ").trim();/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var zw={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=S.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:c="",children:d,iconNode:u,...x},f)=>S.createElement("svg",{ref:f,...zw,width:n,height:n,stroke:s,strokeWidth:i?Number(a)*24/Number(n):a,className:c0("lucide",c),...x},[...u.map(([p,g])=>S.createElement(p,g)),...Array.isArray(d)?d:[d]]));/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=(s,n)=>{const a=S.forwardRef(({className:i,...c},d)=>S.createElement($w,{ref:d,iconNode:n,className:c0(`lucide-${Fw(s)}`,i),...c}));return a.displayName=`${s}`,a};/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qw=me("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $x=me("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=me("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xo=me("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=me("Boxes",[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=me("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=me("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=me("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=me("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=me("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=me("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lo=me("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=me("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=me("CircleArrowDown",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=me("CircleArrowUp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m16 12-4-4-4 4",key:"177agl"}],["path",{d:"M12 16V8",key:"1sbj14"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ww=me("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=me("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=me("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=me("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vn=me("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=me("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=me("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=me("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=me("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=me("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=me("FilePen",[["path",{d:"M12.5 22H18a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v9.5",key:"1couwa"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M13.378 15.626a1 1 0 1 0-3.004-3.004l-5.01 5.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"1y4qbx"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=me("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=me("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=me("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=me("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=me("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e2=me("ListOrdered",[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=me("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t2=me("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s2=me("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bd=me("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ku=me("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=me("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=me("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r2=me("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=me("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n2=me("PackageCheck",[["path",{d:"m16 16 2 2 4-4",key:"gfu2re"}],["path",{d:"M21 10V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l2-1.14",key:"e7tb2h"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=me("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=me("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gu=me("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=me("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a2=me("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $t=me("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l2=me("Power",[["path",{d:"M12 2v10",key:"mnfbl"}],["path",{d:"M18.4 6.6a9 9 0 1 1-12.77.04",key:"obofu9"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=me("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=me("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=me("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=me("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g0=me("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=me("ScanBarcode",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M8 7v10",key:"23sfjj"}],["path",{d:"M12 7v10",key:"jspqdw"}],["path",{d:"M17 7v10",key:"578dap"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const en=me("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y0=me("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=me("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yu=me("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tn=me("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o2=me("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ao=me("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c2=me("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d2=me("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qd=me("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hd=me("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=me("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=me("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Za=me("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=me("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u2=me("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m2=me("Type",[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f2=me("Undo2",[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v0=me("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j0=me("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=me("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=me("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=me("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=me("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function b0(s){var n,a,i="";if(typeof s=="string"||typeof s=="number")i+=s;else if(typeof s=="object")if(Array.isArray(s)){var c=s.length;for(n=0;n<c;n++)s[n]&&(a=b0(s[n]))&&(i&&(i+=" "),i+=a)}else for(a in s)s[a]&&(i&&(i+=" "),i+=a);return i}function ke(){for(var s,n,a=0,i="",c=arguments.length;a<c;a++)(s=arguments[a])&&(n=b0(s))&&(i&&(i+=" "),i+=n);return i}const ee=({variant:s="primary",size:n="md",isLoading:a=!1,leftIcon:i,rightIcon:c,children:d,className:u,disabled:x,...f})=>{const p={primary:"bg-primary-600 hover:bg-primary-700 text-white focus:ring-primary-500",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800 focus:ring-gray-500",success:"bg-success-500 hover:bg-success-600 text-white focus:ring-success-500",danger:"bg-danger-500 hover:bg-danger-600 text-white focus:ring-danger-500",outline:"border-2 border-gray-300 hover:bg-gray-100 text-gray-700",ghost:"hover:bg-gray-100 text-gray-700"},g={sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-base",lg:"px-6 py-3 text-lg",xl:"px-8 py-4 text-xl"};return e.jsx("button",{className:ke("inline-flex items-center justify-center gap-2 font-medium rounded-lg","transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2","disabled:opacity-50 disabled:cursor-not-allowed",p[s],g[n],u),disabled:x||a,...f,children:a?e.jsxs(e.Fragment,{children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),e.jsx("span",{children:" ..."})]}):e.jsxs(e.Fragment,{children:[i&&e.jsx("span",{children:i}),d,c&&e.jsx("span",{children:c})]})})};class h2 extends S.Component{constructor(a){super(a);Rn(this,"handleReset",()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.reload()});this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(a){return{hasError:!0,error:a,errorInfo:null}}componentDidCatch(a,i){console.error("Error caught by boundary:",a,i),this.setState({error:a,errorInfo:i})}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-2xl shadow-xl p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(zt,{className:"w-8 h-8 text-red-600"})}),e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600 mb-6",children:"     .    ."}),!1,e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{variant:"outline",onClick:()=>window.history.back(),className:"flex-1",children:""}),e.jsxs(ee,{variant:"primary",onClick:this.handleReset,className:"flex-1 gap-2",children:[e.jsx(yl,{className:"w-4 h-4"})," "]})]})]})}):this.props.children}}const x2=tt.injectEndpoints({endpoints:s=>({login:s.mutation({query:n=>({url:"/auth/login",method:"POST",body:n}),invalidatesTags:["User"]}),getMe:s.query({query:()=>"/auth/me",providesTags:["User"]}),register:s.mutation({query:n=>({url:"/auth/register",method:"POST",body:n})})})}),{useLoginMutation:p2}=x2,Fo=()=>{const s=Ir(),n=xl(),a=Te(dl),i=Te(ul),c=Te(qn),d=Te(Fu),[u,{isLoading:x}]=p2();return{user:a,isAuthenticated:i,isAdmin:c,isSystemOwner:d,login:async g=>{var y;try{const w=await u(g).unwrap();w.success&&w.data?(n(kN({user:w.data.user,token:w.data.accessToken})),J.success("   "),s(w.data.user.role==="SystemOwner"?"/owner/tenants":"/pos")):J.error(w.message||"  ")}catch(w){const v=((y=w==null?void 0:w.data)==null?void 0:y.message)||"  ";J.error(v)}},isLoggingIn:x,logout:()=>{n(CN()),n(tt.util.resetApiState()),s("/login"),J.success("  ")}}},g2=tt.injectEndpoints({endpoints:s=>({getBranches:s.query({query:()=>"/branches",providesTags:["Branches"]}),getBranch:s.query({query:n=>`/branches/${n}`,providesTags:(n,a,i)=>[{type:"Branches",id:i}]}),createBranch:s.mutation({query:n=>({url:"/branches",method:"POST",body:n}),invalidatesTags:["Branches"]}),updateBranch:s.mutation({query:({id:n,data:a})=>({url:`/branches/${n}`,method:"PUT",body:a}),invalidatesTags:["Branches"]}),deleteBranch:s.mutation({query:n=>({url:`/branches/${n}`,method:"DELETE"}),invalidatesTags:["Branches"]}),getCurrentTenant:s.query({query:()=>"/tenants/current",providesTags:["Tenant"]}),updateCurrentTenant:s.mutation({query:n=>({url:"/tenants/current",method:"PUT",body:n}),invalidatesTags:["Tenant"]}),uploadLogo:s.mutation({query:n=>({url:"/tenants/current/logo",method:"POST",body:n}),invalidatesTags:["Tenant"]})})}),{useGetBranchesQuery:N0,useCreateBranchMutation:y2,useUpdateBranchMutation:v2,useDeleteBranchMutation:j2,useGetCurrentTenantQuery:w0,useUpdateCurrentTenantMutation:b2,useUploadLogoMutation:N2}=g2,w2=()=>{const s=xl(),n=Te(Rr),a=Te(ml),{data:i,isLoading:c}=N0();S.useEffect(()=>{i!=null&&i.data&&s(WN(i.data))},[i,s]);const d=u=>{const x=parseInt(u.target.value),f=a.find(p=>p.id===x);f&&(s(VN(f)),s(tt.util.invalidateTags(["Products","Categories","Orders","Shifts"])))};return c?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg animate-pulse",children:[e.jsx(yt,{className:"w-4 h-4 text-gray-400"}),e.jsx("div",{className:"h-4 w-20 bg-gray-200 rounded"})]}):a.length<=1?e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg",children:[e.jsx(yt,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium",children:(n==null?void 0:n.name)||" "})]}):e.jsxs("div",{className:"relative flex items-center gap-2 px-3 py-2 bg-gray-100 rounded-lg",children:[e.jsx(yt,{className:"w-4 h-4 text-gray-500"}),e.jsx("select",{value:(n==null?void 0:n.id)||"",onChange:d,className:"appearance-none bg-transparent text-sm font-medium pr-6 cursor-pointer focus:outline-none",children:a.map(u=>e.jsx("option",{value:u.id,children:u.name},u.id))}),e.jsx(Qw,{className:"w-4 h-4 text-gray-400 absolute left-2 pointer-events-none"})]})},S2=[{path:"/pos",label:" ",icon:Yu},{path:"/orders",label:"",icon:zn},{path:"/shift",label:"",icon:d2},{path:"/shifts-management",label:" ",icon:Vn,adminOnly:!0},{path:"/customers",label:"",icon:Tr,adminOnly:!0},{path:"/products",label:"",icon:Ze,adminOnly:!0},{path:"/categories",label:"",icon:Ua,adminOnly:!0},{path:"/suppliers",label:"",icon:u2,adminOnly:!0},{path:"/purchase-invoices",label:" ",icon:uu,adminOnly:!0},{path:"/inventory",label:"",icon:Uw,adminOnly:!0},{path:"/expenses",label:"",icon:$n,adminOnly:!0},{path:"/cash-register",label:"",icon:el,adminOnly:!0},{path:"/branches",label:"",icon:yt,adminOnly:!0},{path:"/reports",label:"",icon:Bw,adminOnly:!0},{path:"/audit",label:" ",icon:uu,adminOnly:!0},{path:"/settings",label:"",icon:y0,adminOnly:!0},{path:"/owner/tenants",label:" ",icon:yt,systemOwnerOnly:!0}],k2=()=>{const{user:s,logout:n,isAdmin:a,isSystemOwner:i}=Fo(),[c,d]=S.useState(!1),u=new Date().toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"}),x=S2.filter(f=>i?!!f.systemOwnerOnly:f.systemOwnerOnly?i:f.adminOnly?a:!0);return e.jsxs("div",{className:"h-screen flex w-full overflow-hidden",children:[e.jsxs("aside",{className:"hidden lg:flex w-64 bg-gray-900 text-white flex-col shrink-0 border-l border-gray-800 overflow-y-auto",children:[e.jsx("div",{className:"p-4 border-b border-gray-800",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-lg",children:"KasserPro"}),e.jsx("p",{className:"text-xs text-gray-400",children:"  "})]})]})}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(f=>e.jsxs(du,{to:f.path,className:({isActive:p})=>ke("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",p?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-800"),children:[e.jsx(f.icon,{className:"w-5 h-5"}),e.jsx("span",{children:f.label})]},f.path))}),e.jsxs("div",{className:"p-4 border-t border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-700 rounded-full flex items-center justify-center",children:e.jsx(Ss,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:s==null?void 0:s.name}),e.jsx("p",{className:"text-xs text-gray-400",children:(s==null?void 0:s.role)==="SystemOwner"?" ":(s==null?void 0:s.role)==="Admin"?"":""})]})]}),e.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(Bd,{className:"w-4 h-4"}),e.jsx("span",{children:" "})]})]})]}),c&&e.jsxs("div",{className:"lg:hidden fixed inset-0 z-50",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),e.jsxs("aside",{className:"absolute right-0 top-0 bottom-0 w-64 bg-gray-900 text-white flex flex-col animate-slide-in-right overflow-y-auto",children:[e.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-gray-800",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-xl",children:""})}),e.jsx("span",{className:"font-bold",children:"KasserPro"})]}),e.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-800 rounded-lg",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsx("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:x.map(f=>e.jsxs(du,{to:f.path,onClick:()=>d(!1),className:({isActive:p})=>ke("flex items-center gap-3 px-4 py-3 rounded-lg transition-colors",p?"bg-primary-600 text-white":"text-gray-300 hover:bg-gray-800"),children:[e.jsx(f.icon,{className:"w-5 h-5"}),e.jsx("span",{children:f.label})]},f.path))}),e.jsx("div",{className:"p-4 border-t border-gray-800",children:e.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-2 bg-gray-800 hover:bg-gray-700 rounded-lg transition-colors",children:[e.jsx(Bd,{className:"w-4 h-4"}),e.jsx("span",{children:" "})]})})]})]}),e.jsxs("div",{className:"flex-1 flex flex-col min-w-0",children:[e.jsxs("header",{className:"bg-white border-b px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>d(!0),className:"lg:hidden p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(f0,{className:"w-5 h-5"})}),e.jsxs("div",{className:"lg:hidden flex items-center gap-2",children:[e.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:e.jsx("span",{className:"text-sm",children:""})}),e.jsx("span",{className:"font-bold text-primary-600",children:"KasserPro"})]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(w2,{}),e.jsxs("div",{className:"hidden sm:flex items-center gap-2 text-gray-500",children:[e.jsx(Vn,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm",children:u})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 px-3 py-2 rounded-lg",children:[e.jsx(Ss,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium hidden sm:inline",children:s==null?void 0:s.name}),(s==null?void 0:s.role)==="Admin"&&e.jsx("span",{className:"text-xs bg-primary-600 text-white px-2 py-0.5 rounded-full hidden sm:inline",children:""}),(s==null?void 0:s.role)==="SystemOwner"&&e.jsx("span",{className:"text-xs bg-primary-600 text-white px-2 py-0.5 rounded-full hidden sm:inline",children:" "})]}),e.jsxs("button",{onClick:n,className:"hidden lg:flex items-center gap-2 px-3 py-2 text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:[e.jsx(Bd,{className:"w-4 h-4"}),e.jsx("span",{children:""})]})]})]}),e.jsx("main",{className:"flex-1 overflow-auto bg-gray-50",children:e.jsx(Y1,{})})]})]})};function S0({shift:s,isOpen:n,onClose:a,onSuccess:i}){const[c,d]=S.useState(""),[u,x]=S.useState(""),[f,p]=S.useState(""),[g,{isLoading:y}]=Lw(),w=async v=>{var N;if(v.preventDefault(),!c.trim()){alert("   ");return}try{(await g({id:s.id,request:{reason:c.trim(),actualBalance:u?parseFloat(u):void 0,notes:f.trim()||void 0}}).unwrap()).success&&(alert("    "),i==null||i(),a())}catch(j){alert(((N=j==null?void 0:j.data)==null?void 0:N.message)||"    ")}};return n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-red-600",children:"   "}),e.jsxs("div",{className:"bg-gray-50 p-4 rounded mb-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:s.userName})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:new Date(s.openedAt).toLocaleString("ar-EG")})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsxs("span",{className:"font-medium",children:[s.durationHours,"   ",s.durationMinutes," "]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsxs("span",{className:"font-medium",children:[s.expectedBalance.toFixed(2)," ."]})]})]}),e.jsxs("form",{onSubmit:w,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["   ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:c,onChange:v=>d(v.target.value),className:"w-full border rounded p-2 text-sm",rows:3,placeholder:":       ...",required:!0,maxLength:500}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[c.length,"/500 "]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"  ()"}),e.jsx("input",{type:"number",step:"0.01",value:u,onChange:v=>x(v.target.value),className:"w-full border rounded p-2 text-sm",placeholder:"   "}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"       "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"  ()"}),e.jsx("textarea",{value:f,onChange:v=>p(v.target.value),className:"w-full border rounded p-2 text-sm",rows:2,placeholder:"  ...",maxLength:1e3})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",e.jsx("strong",{children:":"}),"         .       ."]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",disabled:y,children:""}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 disabled:opacity-50",disabled:y,children:y?" ...":" "})]})]})]})}):null}function C2({shift:s,isOpen:n,onClose:a,onSuccess:i,availableUsers:c=[]}){const[d,u]=S.useState(""),[x,f]=S.useState(s.expectedBalance.toString()),[p,g]=S.useState(""),[y,{isLoading:w}]=Dw();S.useEffect(()=>{n&&(f(s.expectedBalance.toString()),u(""),g(""))},[n,s.expectedBalance]);const v=async N=>{var j;if(N.preventDefault(),!d){alert("   ");return}if(!x||parseFloat(x)<0){alert("   ");return}try{(await y({id:s.id,request:{toUserId:Number(d),currentBalance:parseFloat(x),notes:p.trim()||void 0}}).unwrap()).success&&(alert("   "),i==null||i(),a())}catch(C){alert(((j=C==null?void 0:C.data)==null?void 0:j.message)||"    ")}};return n?e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"  "}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded mb-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:s.userName})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:new Date(s.openedAt).toLocaleString("ar-EG")})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsxs("span",{className:"font-medium",children:[s.durationHours,"   ",s.durationMinutes," "]})]})]}),e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:d,onChange:N=>u(N.target.value?Number(N.target.value):""),className:"w-full border rounded p-2 text-sm",required:!0,children:[e.jsx("option",{value:"",children:"--   --"}),c.map(N=>e.jsxs("option",{value:N.id,children:[N.name," (",N.email,")"]},N.id))]}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"    "})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("label",{className:"block text-sm font-medium mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",value:x,onChange:N=>f(N.target.value),className:"w-full border rounded p-2 text-sm",placeholder:"  ",required:!0}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" : ",s.expectedBalance.toFixed(2)," ."]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-sm font-medium mb-2",children:"  ()"}),e.jsx("textarea",{value:p,onChange:N=>g(N.target.value),className:"w-full border rounded p-2 text-sm",rows:3,placeholder:"   ...",maxLength:500}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[p.length,"/500 "]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-3 mb-4",children:e.jsx("p",{className:"text-sm text-blue-800",children:"        .       ."})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:a,className:"flex-1 px-4 py-2 border rounded hover:bg-gray-50",disabled:w,children:""}),e.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",disabled:w,children:w?" ...":" "})]})]})]})}):null}function E2({shift:s,savedAt:n,isOpen:a,onRestore:i,onDiscard:c}){if(!a)return null;const d=Math.floor((new Date().getTime()-new Date(n).getTime())/1e3/60);return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[e.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"  "}),e.jsx("p",{className:"text-gray-700 mb-4",children:"       .   "}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded mb-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsxs("span",{className:"font-medium",children:["#",s.id]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:new Date(s.openedAt).toLocaleString("ar-EG")})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsxs("span",{className:"font-medium",children:[s.expectedBalance.toFixed(2)," ."]})]}),e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:s.totalOrders})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsxs("span",{className:"font-medium",children:[" ",d," "]})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded p-3 mb-4",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[" ",e.jsx("strong",{children:":"}),'   ""       .']})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("button",{onClick:i,className:"w-full px-4 py-3 bg-blue-600 text-white rounded hover:bg-blue-700 font-medium",children:"  "}),e.jsx("button",{onClick:c,className:"w-full px-4 py-2 border border-red-300 text-red-600 rounded hover:bg-red-50",children:"  "})]})]})})}function k0({onForceClose:s,currentUserId:n,isAdmin:a=!1}){const{data:i,isLoading:c,error:d}=Aw();if(c)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-4"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"h-20 bg-gray-200 rounded"}),e.jsx("div",{className:"h-20 bg-gray-200 rounded"})]})]})});if(d)return e.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:e.jsx("div",{className:"text-red-600",children:"     "})});const u=(i==null?void 0:i.data)||[],x=a?u:u.filter(f=>f.userId===n);return x.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-4",children:" "}),e.jsx("p",{className:"text-gray-500 text-center py-8",children:"    "})]}):e.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:" "}),e.jsxs("span",{className:"bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[x.length," "]})]}),e.jsx("div",{className:"space-y-3",children:x.map(f=>e.jsxs("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900",children:f.userName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[" #",f.id]})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.expectedBalance.toFixed(2)," ."]}),e.jsx("div",{className:"text-xs text-gray-500",children:" "})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("div",{className:"font-medium",children:new Date(f.openedAt).toLocaleTimeString("ar-EG",{hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsxs("div",{className:"font-medium",children:[f.durationHours,":",f.durationMinutes.toString().padStart(2,"0")]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("div",{className:"font-medium",children:f.totalOrders})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsxs("div",{className:"font-medium",children:[f.totalCash.toFixed(2)," ."]})]})]}),f.isHandedOver&&e.jsx("div",{className:"mb-3",children:e.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["    ",f.handedOverFromUserName]})}),a&&s&&e.jsx("div",{className:"mt-3 pt-3 border-t",children:e.jsx("button",{onClick:()=>s(f),className:"w-full px-3 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700",children:" "})})]},f.id))})]})}const Oe=S.forwardRef(({label:s,error:n,hint:a,className:i,...c},d)=>e.jsxs("div",{className:"w-full",children:[s&&e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:s}),e.jsx("input",{ref:d,className:ke("w-full px-4 py-2.5 border rounded-lg","focus:ring-2 focus:ring-primary-500 focus:border-transparent","outline-none transition-all duration-200","placeholder:text-gray-400",n?"border-danger-500 focus:ring-danger-500":"border-gray-300",i),...c}),a&&!n&&e.jsx("p",{className:"mt-1 text-sm text-gray-500",children:a}),n&&e.jsx("p",{className:"mt-1 text-sm text-danger-500",children:n})]}));Oe.displayName="Input";const P2=()=>{const[s,n]=S.useState(""),[a,i]=S.useState(""),[c,d]=S.useState(!1),{login:u,isLoggingIn:x}=Fo(),f=p=>{p.preventDefault(),u({email:s,password:a})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-primary-600 to-primary-800 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-primary-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-4xl",children:""})}),e.jsx("h1",{className:"text-3xl font-bold text-primary-600",children:"KasserPro"}),e.jsx("p",{className:"text-gray-500 mt-2",children:"  "})]}),e.jsxs("form",{onSubmit:f,className:"space-y-5",children:[e.jsx(Oe,{label:" ",type:"email",value:s,onChange:p=>n(p.target.value),placeholder:"admin@kasserpro.com",required:!0}),e.jsxs("div",{className:"relative",children:[e.jsx(Oe,{label:" ",type:c?"text":"password",value:a,onChange:p=>i(p.target.value),placeholder:"",required:!0}),e.jsx("button",{type:"button",onClick:()=>d(!c),className:"absolute left-3 top-[38px] text-gray-400 hover:text-gray-600 transition-colors",children:c?e.jsx(Yw,{className:"w-5 h-5"}):e.jsx(gl,{className:"w-5 h-5"})})]}),e.jsx(ee,{type:"submit",variant:"primary",size:"xl",className:"w-full",isLoading:x,rightIcon:e.jsx(s2,{className:"w-5 h-5"}),children:" "})]}),!1]})})},T2=tt.injectEndpoints({endpoints:s=>({getProducts:s.query({query:n=>{const a=n??{},i=new URLSearchParams;a.categoryId!==void 0&&a.categoryId!==null&&i.append("categoryId",a.categoryId.toString()),a.search!==void 0&&a.search!==null&&a.search.trim()!==""&&i.append("search",a.search.trim()),a.isActive!==void 0&&i.append("isActive",a.isActive.toString()),a.lowStock!==void 0&&i.append("lowStock",a.lowStock.toString());const c=i.toString();return`/products${c?`?${c}`:""}`},providesTags:n=>n!=null&&n.data?[...n.data.map(({id:a})=>({type:"Products",id:a})),{type:"Products",id:"LIST"}]:[{type:"Products",id:"LIST"}]}),getProduct:s.query({query:n=>`/products/${n}`,providesTags:(n,a,i)=>[{type:"Products",id:i}]}),createProduct:s.mutation({query:n=>({url:"/products",method:"POST",body:n}),invalidatesTags:[{type:"Products",id:"LIST"}]}),updateProduct:s.mutation({query:({id:n,data:a})=>({url:`/products/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Products",id:i},{type:"Products",id:"LIST"}]}),deleteProduct:s.mutation({query:n=>({url:`/products/${n}`,method:"DELETE"}),invalidatesTags:[{type:"Products",id:"LIST"}]})})}),{useGetProductsQuery:vl,useCreateProductMutation:C0,useUpdateProductMutation:R2,useDeleteProductMutation:E0}=T2,I2=tt.injectEndpoints({endpoints:s=>({getCategories:s.query({query:n=>{const a={};return n&&(n.search&&(a.search=n.search),n.page&&(a.page=n.page),n.pageSize&&(a.pageSize=n.pageSize)),{url:"/categories",params:Object.keys(a).length>0?a:void 0}},providesTags:n=>n!=null&&n.data?[...n.data.map(({id:a})=>({type:"Categories",id:a})),{type:"Categories",id:"LIST"}]:[{type:"Categories",id:"LIST"}]}),getCategory:s.query({query:n=>`/categories/${n}`,providesTags:(n,a,i)=>[{type:"Categories",id:i}]}),createCategory:s.mutation({query:n=>({url:"/categories",method:"POST",body:n}),invalidatesTags:[{type:"Categories",id:"LIST"}]}),updateCategory:s.mutation({query:({id:n,data:a})=>({url:`/categories/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Categories",id:i},{type:"Categories",id:"LIST"}]}),deleteCategory:s.mutation({query:n=>({url:`/categories/${n}`,method:"DELETE"}),invalidatesTags:[{type:"Categories",id:"LIST"}]})})}),{useGetCategoriesQuery:Xu,useCreateCategoryMutation:_2,useUpdateCategoryMutation:M2,useDeleteCategoryMutation:O2}=I2,P0=()=>{const{data:s,isLoading:n,isError:a,refetch:i}=vl(),[c,{isLoading:d}]=C0(),[u,{isLoading:x}]=R2(),[f,{isLoading:p}]=E0();return{products:(s==null?void 0:s.data)||[],isLoading:n,isError:a,refetch:i,createProduct:async N=>{try{await c(N).unwrap(),J.success("   ")}catch{J.error("   ")}},updateProduct:async(N,j)=>{try{await u({id:N,data:j}).unwrap(),J.success("   ")}catch{J.error("   ")}},deleteProduct:async N=>{try{await f(N).unwrap(),J.success("   ")}catch{J.error("   ")}},isCreating:d,isUpdating:x,isDeleting:p}},Ju=()=>{const{data:s,isLoading:n,isError:a}=Xu();return{categories:(s==null?void 0:s.data)||[],isLoading:n,isError:a}},rr=()=>{const s=xl(),n=Te(ON),a=Te(AN),i=Te(FN),c=Te(zN),d=Te(LN),u=Te(DN),x=Te($N),f=Te(qN),p=Te(zp),g=Te($p);return{items:n,itemsCount:a,subtotal:i,discountAmount:c,discountType:d,discountValue:u,taxAmount:x,total:f,taxRate:p,isTaxEnabled:g,addItem:(_,k=1)=>{s(TN({product:_,quantity:k}))},removeItem:_=>{s(RN(_))},updateQuantity:(_,k)=>{s(IN({productId:_,quantity:k}))},updateNotes:(_,k)=>{s(_N({productId:_,notes:k}))},clearCart:()=>{s(MN())},applyDiscount:(_,k)=>{s(Mx({type:_,value:k}))},removeDiscount:()=>{s(Mx(void 0))}}},T0="Africa/Cairo",R0=s=>s instanceof Date?s:!s.endsWith("Z")&&!s.includes("+")&&!s.includes("-",10)?new Date(s+"Z"):new Date(s),oe=(s,n="EGP")=>new Intl.NumberFormat("ar-EG",{style:"currency",currency:n,minimumFractionDigits:2,maximumFractionDigits:2}).format(s),fu=s=>new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"long",day:"numeric",timeZone:T0}).format(R0(s)),ws=s=>new Intl.DateTimeFormat("ar-EG",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",timeZone:T0}).format(R0(s)),L2=10,D2=({product:s,category:n,onStockAdjust:a,showStockAdjust:i})=>{const{items:c,addItem:d}=rr(),[u,x]=S.useState(!1),f=Te(qp),p=c.find(R=>R.product.id===s.id),g=(p==null?void 0:p.quantity)??0,y=s.stockQuantity??0,w=s.trackInventory?y-g:1/0,v=f||!s.trackInventory||w>0,N=()=>{s.isActive&&v&&d(s)},j=R=>{i&&a&&(R.preventDefault(),a(s))},C=()=>{if(!s.trackInventory)return null;const R=s.lowStockThreshold??L2;return y<=0?e.jsx("span",{className:"absolute top-2 left-2 px-2 py-0.5 text-xs font-bold rounded-full bg-red-500 text-white shadow-sm",children:""}):w<=0?e.jsx("span",{className:"absolute top-2 left-2 px-2 py-0.5 text-xs font-bold rounded-full bg-orange-500 text-white shadow-sm",children:" "}):y<=R?e.jsx("span",{className:"absolute top-2 left-2 px-2 py-0.5 text-xs font-bold rounded-full bg-amber-500 text-white shadow-sm",children:w}):e.jsx("span",{className:"absolute top-2 left-2 px-2 py-0.5 text-xs font-medium rounded-full bg-gray-700/70 text-white shadow-sm",children:w})},T=!f&&s.trackInventory&&y<=0,_=!s.isActive||T,k=g>0;return e.jsxs("button",{onClick:N,onContextMenu:j,disabled:_||!v,className:ke("relative rounded-xl overflow-hidden transition-all duration-200 w-full text-right p-3","bg-white border-2",_&&"opacity-50 cursor-not-allowed",!_&&v&&"active:scale-[0.97]",!v&&!_&&"cursor-not-allowed",k?"border-primary-400 shadow-md":"border-transparent shadow hover:shadow-md"),"aria-label":` ${s.name} - ${oe(s.price)}`,"aria-disabled":_,children:[e.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg mb-3 flex items-center justify-center overflow-hidden relative",children:[s.imageUrl&&!u?e.jsx("img",{src:s.imageUrl,alt:s.name,className:"w-full h-full object-cover",onError:()=>x(!0)}):e.jsx("span",{className:"text-5xl drop-shadow-sm",children:(n==null?void 0:n.imageUrl)||""}),C()]}),e.jsx("h3",{className:"font-semibold text-gray-800 truncate mb-1 text-sm",children:s.name}),e.jsx("p",{className:"text-primary-600 font-bold",children:oe(s.price)}),T&&e.jsx("div",{className:"absolute inset-0 bg-gray-900/60 flex items-center justify-center rounded-xl",children:e.jsx("span",{className:"bg-red-500 text-white px-3 py-1.5 rounded-full text-sm font-bold shadow-lg",children:" "})}),!s.isActive&&!T&&e.jsx("div",{className:"absolute inset-0 bg-gray-900/60 flex items-center justify-center rounded-xl",children:e.jsx("span",{className:"bg-gray-500 text-white px-3 py-1.5 rounded-full text-sm font-bold shadow-lg",children:" "})})]})},A2=tt.injectEndpoints({endpoints:s=>({getBranchInventory:s.query({query:n=>`/inventory/branch/${n}`,transformResponse:n=>n.data,providesTags:(n,a,i)=>[{type:"Inventory",id:`BRANCH-${i}`},"Inventory"]}),getProductInventoryAcrossBranches:s.query({query:n=>`/inventory/product/${n}/branches`,transformResponse:n=>n.data,providesTags:(n,a,i)=>[{type:"Inventory",id:`PRODUCT-${i}`},"Inventory"]}),getLowStockItems:s.query({query:n=>({url:"/inventory/low-stock",params:n?{branchId:n}:void 0}),transformResponse:n=>n.data,providesTags:["Inventory"]}),adjustInventory:s.mutation({query:n=>({url:"/inventory/adjust",method:"POST",body:n}),transformResponse:n=>n.data,invalidatesTags:(n,a,i)=>[{type:"Inventory",id:`BRANCH-${i.branchId}`},{type:"Inventory",id:`PRODUCT-${i.productId}`},"Inventory","Products"]}),adjustProductStock:s.mutation({query:({productId:n,data:a})=>({url:`/products/${n}/adjust-stock`,method:"POST",body:a}),invalidatesTags:(n,a,{productId:i})=>[{type:"Products",id:i},{type:"Products",id:"LIST"},"Inventory"]}),createTransfer:s.mutation({query:n=>({url:"/inventory/transfer",method:"POST",body:n}),transformResponse:n=>n.data,invalidatesTags:["Inventory"]}),getTransfers:s.query({query:n=>({url:"/inventory/transfer",params:{fromBranchId:n.fromBranchId,toBranchId:n.toBranchId,status:n.status,pageNumber:n.pageNumber||1,pageSize:n.pageSize||20}}),transformResponse:n=>n.data,providesTags:["Inventory"]}),getTransferById:s.query({query:n=>`/inventory/transfer/${n}`,transformResponse:n=>n.data,providesTags:(n,a,i)=>[{type:"Inventory",id:`TRANSFER-${i}`}]}),approveTransfer:s.mutation({query:n=>({url:`/inventory/transfer/${n}/approve`,method:"POST"}),transformResponse:n=>n.data,invalidatesTags:(n,a,i)=>[{type:"Inventory",id:`TRANSFER-${i}`},"Inventory"]}),receiveTransfer:s.mutation({query:n=>({url:`/inventory/transfer/${n}/receive`,method:"POST"}),transformResponse:n=>n.data,invalidatesTags:(n,a,i)=>[{type:"Inventory",id:`TRANSFER-${i}`},"Inventory","Products"]}),cancelTransfer:s.mutation({query:({id:n,request:a})=>({url:`/inventory/transfer/${n}/cancel`,method:"POST",body:a}),transformResponse:n=>n.data,invalidatesTags:(n,a,{id:i})=>[{type:"Inventory",id:`TRANSFER-${i}`},"Inventory"]}),getBranchPrices:s.query({query:n=>`/inventory/branch-prices/${n}`,transformResponse:n=>n.data,providesTags:(n,a,i)=>[{type:"Inventory",id:`PRICES-${i}`}]}),setBranchPrice:s.mutation({query:n=>({url:"/inventory/branch-prices",method:"POST",body:n}),transformResponse:n=>n.data,invalidatesTags:(n,a,i)=>[{type:"Inventory",id:`PRICES-${i.branchId}`},"Products"]}),removeBranchPrice:s.mutation({query:({branchId:n,productId:a})=>({url:`/inventory/branch-prices/${n}/${a}`,method:"DELETE"}),transformResponse:n=>n.data,invalidatesTags:(n,a,{branchId:i})=>[{type:"Inventory",id:`PRICES-${i}`},"Products"]})})}),{useGetBranchInventoryQuery:F2,useGetLowStockItemsQuery:I0,useAdjustProductStockMutation:z2,useCreateTransferMutation:$2,useGetTransfersQuery:q2,useApproveTransferMutation:U2,useReceiveTransferMutation:B2,useCancelTransferMutation:Q2,useGetBranchPricesQuery:H2,useSetBranchPriceMutation:V2,useRemoveBranchPriceMutation:W2}=A2,K2=I0,qx=[{id:"Receiving",label:" ",icon:""},{id:"Damage",label:" / ",icon:""},{id:"Adjustment",label:" / ",icon:""},{id:"Transfer",label:"",icon:""}],G2=({product:s,onClose:n})=>{const[a,i]=S.useState((s.stockQuantity??0).toString()),[c,d]=S.useState("Adjustment"),[u,x]=S.useState(""),[f,{isLoading:p}]=z2(),g=s.stockQuantity??0,y=parseInt(a)||0,w=y-g,v=async()=>{var N,j;if(y<0){J.error("     ");return}if(w===0){J.info("   "),n();return}try{const C=await f({productId:s.id,data:{quantity:w,reason:u||((N=qx.find(T=>T.id===c))==null?void 0:N.label)||"",adjustmentType:c}}).unwrap();C.success?(J.success(`  : ${g}  ${((j=C.data)==null?void 0:j.newBalance)??y}`),n()):J.error(C.message||"  ")}catch{J.error("  ")}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:e.jsx(Ze,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold",children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:s.name})]})]}),e.jsx("button",{onClick:n,className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-danger-50 hover:text-danger-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 text-center",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-gray-800",children:g})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"number",value:a,onChange:N=>i(N.target.value),min:"0",className:"w-full px-4 py-3 text-center text-2xl font-bold border border-gray-200 rounded-xl focus:ring-2 focus:ring-primary-500 focus:border-primary-500"}),w!==0&&e.jsxs("div",{className:ke("mt-2 text-center text-sm font-medium",w>0?"text-green-600":"text-red-600"),children:[w>0?`+${w}`:w," ",""]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("div",{className:"grid grid-cols-2 gap-2",children:qx.map(N=>e.jsxs("button",{type:"button",onClick:()=>d(N.id),className:ke("flex items-center gap-2 p-3 rounded-lg border-2 transition-all",c===N.id?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx("span",{children:N.icon}),e.jsx("span",{className:"text-sm font-medium",children:N.label})]},N.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),e.jsx("input",{type:"text",value:u,onChange:N=>x(N.target.value),placeholder:"  ...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),Math.abs(w)>50&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-amber-50 rounded-lg text-amber-700",children:[e.jsx(zt,{className:"w-5 h-5 shrink-0"}),e.jsx("span",{className:"text-sm",children:"    -  "})]})]}),e.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50 rounded-b-2xl",children:[e.jsx(ee,{variant:"secondary",onClick:n,className:"flex-1",children:""}),e.jsx(ee,{variant:"primary",onClick:v,isLoading:p,disabled:p||w===0,className:"flex-1",children:" "})]})]})})},Y2=({products:s,categories:n})=>{const[a,i]=S.useState(null),c=Te(dl),d=(c==null?void 0:c.role)==="Admin"||(c==null?void 0:c.role)==="SystemOwner",u=x=>{d&&x.trackInventory&&i(x)};return s.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(Ze,{className:"w-16 h-16 mx-auto mb-4"}),e.jsx("p",{className:"text-lg",children:"     "})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3",children:s.map(x=>e.jsx(D2,{product:x,category:n==null?void 0:n.find(f=>f.id===x.categoryId),onStockAdjust:u,showStockAdjust:d&&x.trackInventory},x.id))}),a&&e.jsx(G2,{product:a,onClose:()=>i(null)})]})},X2=({categories:s,selectedId:n,onSelect:a})=>e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{onClick:()=>a(null),className:ke("px-4 py-3 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 active:scale-95",n===null?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"),"aria-pressed":n===null,children:" "}),s.map(i=>e.jsxs("button",{onClick:()=>a(i.id),className:ke("px-4 py-3 rounded-full text-sm font-medium whitespace-nowrap transition-all duration-200 active:scale-95",n===i.id?"bg-primary-600 text-white":"bg-white text-gray-600 hover:bg-gray-100 border border-gray-200"),"aria-pressed":n===i.id,children:[i.imageUrl||""," ",i.name]},i.id))]}),J2=({item:s})=>{const{updateQuantity:n,removeItem:a}=rr(),{product:i,quantity:c}=s,d=i.price*c;return e.jsxs("div",{className:"flex gap-3 p-3 bg-gray-50 rounded-xl",children:[e.jsx("div",{className:"w-16 h-16 bg-white rounded-lg flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-2xl",children:i.imageUrl||""})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-medium text-gray-800 truncate",children:i.name}),e.jsx("p",{className:"text-sm text-gray-500",children:oe(i.price)}),e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx("button",{onClick:()=>n(i.id,c-1),className:"w-11 h-11 flex items-center justify-center bg-white rounded-lg border hover:bg-gray-100 active:scale-95 transition-transform","aria-label":c===1?` ${i.name}`:`  ${i.name}`,children:c===1?e.jsx(is,{className:"w-5 h-5 text-danger-500"}):e.jsx(Do,{className:"w-5 h-5"})}),e.jsx("span",{className:"w-8 text-center font-bold",children:c}),e.jsx("button",{onClick:()=>n(i.id,c+1),className:"w-11 h-11 flex items-center justify-center bg-primary-600 text-white rounded-lg hover:bg-primary-700 active:scale-95 transition-transform","aria-label":`  ${i.name}`,children:e.jsx($t,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"text-start shrink-0",children:[e.jsx("p",{className:"font-bold text-primary-600",children:oe(d)}),e.jsx("button",{onClick:()=>a(i.id),className:"text-danger-500 text-sm hover:underline mt-1",children:""})]})]})},Z2=()=>{const{subtotal:s,discountAmount:n,discountType:a,discountValue:i,taxAmount:c,total:d,taxRate:u,isTaxEnabled:x}=rr();return e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsx("span",{children:" "}),e.jsx("span",{children:oe(s)})]}),n>0&&e.jsxs("div",{className:"flex justify-between text-success-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[a==="Percentage"?e.jsx(Gu,{className:"w-4 h-4"}):e.jsx(Ns,{className:"w-4 h-4"}),e.jsxs("span",{children:["",a==="Percentage"&&i&&` (${i}%)`]})]}),e.jsxs("span",{children:["- ",oe(n)]})]}),x&&e.jsxs("div",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:[" (",u,"%)"]}),e.jsx("span",{children:oe(c)})]}),e.jsxs("div",{className:"flex justify-between text-xl font-bold pt-2 border-t",children:[e.jsx("span",{children:""}),e.jsx("span",{className:"text-primary-600",children:oe(d)})]})]})},eS=tt.injectEndpoints({endpoints:s=>({getCustomers:s.query({query:n=>({url:"/customers",params:n||{}}),providesTags:n=>{var a;return(a=n==null?void 0:n.data)!=null&&a.items?[...n.data.items.map(({id:i})=>({type:"Customers",id:i})),{type:"Customers",id:"LIST"}]:[{type:"Customers",id:"LIST"}]}}),getCustomer:s.query({query:n=>`/customers/${n}`,providesTags:(n,a,i)=>[{type:"Customers",id:i}]}),getCustomerByPhone:s.query({query:n=>`/customers/by-phone/${encodeURIComponent(n)}`,providesTags:n=>n!=null&&n.data?[{type:"Customers",id:n.data.id}]:[]}),createCustomer:s.mutation({query:n=>({url:"/customers",method:"POST",body:n}),invalidatesTags:[{type:"Customers",id:"LIST"}]}),getOrCreateCustomer:s.mutation({query:n=>({url:"/customers/get-or-create",method:"POST",body:n}),invalidatesTags:n=>n!=null&&n.wasCreated?[{type:"Customers",id:"LIST"}]:[]}),updateCustomer:s.mutation({query:({id:n,data:a})=>({url:`/customers/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Customers",id:i},{type:"Customers",id:"LIST"}]}),addLoyaltyPoints:s.mutation({query:({customerId:n,points:a})=>({url:`/customers/${n}/loyalty/add`,method:"POST",body:{points:a}}),invalidatesTags:(n,a,{customerId:i})=>[{type:"Customers",id:i}]}),redeemLoyaltyPoints:s.mutation({query:({customerId:n,points:a})=>({url:`/customers/${n}/loyalty/redeem`,method:"POST",body:{points:a}}),invalidatesTags:(n,a,{customerId:i})=>[{type:"Customers",id:i}]}),deleteCustomer:s.mutation({query:n=>({url:`/customers/${n}`,method:"DELETE"}),invalidatesTags:(n,a,i)=>[{type:"Customers",id:i},{type:"Customers",id:"LIST"}]})})}),{useGetCustomersQuery:tS,useGetCustomerQuery:sS,useLazyGetCustomerByPhoneQuery:rS,useCreateCustomerMutation:_0,useUpdateCustomerMutation:nS,useAddLoyaltyPointsMutation:aS,useRedeemLoyaltyPointsMutation:lS,useDeleteCustomerMutation:iS}=eS,oS=({initialPhone:s,onClose:n,onSuccess:a})=>{const[i,c]=S.useState(s),[d,u]=S.useState(""),[x,f]=S.useState(""),[p,{isLoading:g}]=_0(),y=async w=>{var v;if(w.preventDefault(),!i||i.length<8){J.error("   ");return}try{const N=await p({phone:i,name:d||void 0,email:x||void 0}).unwrap();N.success&&N.data?(J.success("   "),a(N.data)):J.error(N.message||"   ")}catch(N){const j=N;(v=j.data)!=null&&v.message&&J.error(j.data.message)}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[e.jsx(Ss,{className:"w-5 h-5 text-primary-600"}),"  "]}),e.jsx("button",{onClick:n,className:"p-1.5 text-gray-400 hover:text-gray-600 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:y,className:"p-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  *"}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Zr,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:i,onChange:w=>c(w.target.value.replace(/[^0-9]/g,"")),placeholder:"01xxxxxxxxx",className:"w-full pr-10 pl-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",dir:"ltr",required:!0})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Ss,{className:"w-4 h-4"})}),e.jsx("input",{type:"text",value:d,onChange:w=>u(w.target.value),placeholder:"  ()",className:"w-full pr-10 pl-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(Ku,{className:"w-4 h-4"})}),e.jsx("input",{type:"email",value:x,onChange:w=>f(w.target.value),placeholder:"email@example.com ()",className:"w-full pr-10 pl-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",dir:"ltr"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(ee,{type:"button",variant:"outline",className:"flex-1",onClick:n,disabled:g,children:""}),e.jsx(ee,{type:"submit",variant:"primary",className:"flex-1",disabled:g,children:g?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(u0,{className:"w-4 h-4 animate-spin"})," ..."]}):" "})]})]})]})})},Ux=({selectedCustomer:s,onCustomerSelect:n})=>{const[a,i]=S.useState(""),[c,d]=S.useState(!1),[u,x]=S.useState(!1),f=S.useRef(null),p=S.useRef(null),[g,{data:y,isFetching:w,isError:v}]=rS(),N=S.useCallback(b=>{p.current&&clearTimeout(p.current),b.length>=8?(x(!0),p.current=setTimeout(()=>{g(b)},300)):x(!1)},[g]);S.useEffect(()=>(N(a),()=>{p.current&&clearTimeout(p.current)}),[a,N]),S.useEffect(()=>{w||x(!1)},[w]);const j=b=>{const E=b.target.value.replace(/[^0-9]/g,"");i(E)},C=b=>{n(b),i("")},T=()=>{n(null),i("")},_=b=>{n(b),d(!1),i("")},k=a.length>=8&&!w&&!u&&(v||!(y!=null&&y.data)),R=a.length>=8&&!w&&!u&&(y==null?void 0:y.data);return s?e.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-3 mb-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-600 rounded-full flex items-center justify-center",children:e.jsx(Ss,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-800",children:s.name||""}),e.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Zr,{className:"w-3 h-3"}),s.phone]}),e.jsxs("span",{className:"flex items-center gap-1 text-amber-600",children:[e.jsx(Ao,{className:"w-3 h-3 fill-current"}),s.loyaltyPoints," "]})]})]})]}),e.jsx("button",{onClick:T,className:"p-1.5 text-gray-400 hover:text-danger-500 hover:bg-danger-50 rounded-full transition-colors",title:" ",children:e.jsx(Ye,{className:"w-4 h-4"})})]})}):e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:e.jsx(en,{className:"w-4 h-4"})}),e.jsx("input",{ref:f,type:"text",value:a,onChange:j,placeholder:"  ...",className:"w-full pr-10 pl-4 py-2.5 border border-gray-200 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",dir:"ltr"}),(w||u)&&e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-primary-500 border-t-transparent rounded-full animate-spin"})})]}),R&&y.data&&e.jsx("div",{onClick:()=>C(y.data),className:"mt-2 bg-success-50 border border-success-200 rounded-lg p-3 cursor-pointer hover:bg-success-100 transition-colors",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-success-600 rounded-full flex items-center justify-center",children:e.jsx(Ss,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:y.data.name||""}),e.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-2",children:[e.jsx("span",{children:y.data.phone}),e.jsxs("span",{className:"text-amber-600",children:[" ",y.data.loyaltyPoints," "]})]})]})]}),e.jsx("span",{className:"text-xs text-success-600 font-medium",children:" "})]})}),k&&e.jsx("div",{className:"mt-2 bg-gray-50 border border-gray-200 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"    "}),e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700 font-medium",children:[e.jsx($t,{className:"w-4 h-4"}),"  "]})]})}),c&&e.jsx(oS,{initialPhone:a,onClose:()=>d(!1),onSuccess:_})]})},cS=({onClose:s})=>{const{subtotal:n,applyDiscount:a,removeDiscount:i,discountType:c,discountValue:d}=rr(),[u,x]=S.useState(c||"Percentage"),[f,p]=S.useState((d==null?void 0:d.toString())||""),g=parseFloat(f)||0;let y=0;g>0&&(u==="Percentage"?y=n*(g/100):y=g,y=Math.min(y,n));const w=n-y,v=T=>{T==="C"?p(""):T===""?p(_=>_.slice(0,-1)):T==="."?f.includes(".")||p(_=>_+"."):p(_=>_+T)},N=()=>{if(g<=0){J.error("       ");return}if(u==="Percentage"&&g>100){J.error("      100%");return}if(u==="Fixed"&&g>n){J.error("       ");return}a(u,g),J.success("   "),s()},j=()=>{i(),J.success("  "),s()},C=[5,10,15,20];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:" "}),e.jsx("button",{onClick:s,className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-danger-50 hover:text-danger-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-gray-500 text-sm mb-1",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:oe(n)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{onClick:()=>x("Percentage"),className:ke("flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",u==="Percentage"?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-200 hover:border-gray-300"),children:[e.jsx(Gu,{className:"w-8 h-8"}),e.jsx("span",{className:"font-medium",children:" "})]}),e.jsxs("button",{onClick:()=>x("Fixed"),className:ke("flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",u==="Fixed"?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-200 hover:border-gray-300"),children:[e.jsx(Ns,{className:"w-8 h-8"}),e.jsx("span",{className:"font-medium",children:" "})]})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:u==="Percentage"?"  (%)":"  (.)"}),e.jsx("div",{className:"text-center p-4 bg-gray-50 rounded-xl",children:e.jsxs("p",{className:"text-3xl font-bold",children:[f||"0"," ",e.jsx("span",{className:"text-lg text-gray-400",children:u==="Percentage"?"%":"."})]})})]}),u==="Percentage"&&e.jsx("div",{className:"flex gap-2",children:C.map(T=>e.jsxs("button",{onClick:()=>p(T.toString()),className:"flex-1 py-2 rounded-lg bg-gray-100 font-medium hover:bg-primary-100 hover:text-primary-600 transition-colors",children:[T,"%"]},T))}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["7","8","9","","4","5","6","C","1","2","3",".","0","00"].map(T=>e.jsx("button",{onClick:()=>v(T),className:ke("h-14 rounded-lg bg-gray-100 font-semibold text-xl hover:bg-gray-200 active:bg-gray-300 transition-colors",T==="0"&&"col-span-2"),children:T},T))}),y>0&&e.jsxs("div",{className:"space-y-2 p-4 bg-success-50 rounded-xl border border-success-200",children:[e.jsxs("div",{className:"flex justify-between text-sm text-gray-600",children:[e.jsx("span",{children:" "}),e.jsx("span",{children:oe(n)})]}),e.jsxs("div",{className:"flex justify-between text-sm text-success-600 font-medium",children:[e.jsx("span",{children:""}),e.jsxs("span",{children:["- ",oe(y)]})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold text-gray-800 pt-2 border-t border-success-200",children:[e.jsx("span",{children:"  "}),e.jsx("span",{children:oe(w)})]})]}),e.jsxs("div",{className:"flex gap-3",children:[(c||d)&&e.jsx(ee,{variant:"danger",size:"lg",className:"flex-1",onClick:j,children:" "}),e.jsx(ee,{variant:"success",size:"lg",className:"flex-1",onClick:N,disabled:g<=0,rightIcon:e.jsx(Xa,{className:"w-5 h-5"}),children:" "})]})]})]})})},Bx=({onCheckout:s,selectedCustomer:n,onCustomerSelect:a})=>{const{items:i,clearCart:c,total:d,itemsCount:u,discountAmount:x}=rr(),[f,p]=S.useState(!1);return i.length===0?e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Ux,{selectedCustomer:n,onCustomerSelect:a}),e.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-100 flex items-center justify-center mb-4",children:e.jsx(Yu,{className:"w-10 h-10"})}),e.jsx("p",{className:"text-lg font-medium",children:" "}),e.jsx("p",{className:"text-sm",children:"   "})]})]}):e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx(Ux,{selectedCustomer:n,onCustomerSelect:a}),e.jsxs("div",{className:"flex items-center justify-between pb-4 border-b",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:" "}),e.jsx("span",{className:"bg-primary-600 text-white text-xs font-semibold px-2 py-0.5 rounded-full",children:u})]}),e.jsxs("button",{onClick:c,className:"flex items-center gap-1 text-danger-500 text-sm hover:underline",children:[e.jsx(is,{className:"w-4 h-4"}),""]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto py-4 space-y-3 scrollbar-thin",children:i.map(g=>e.jsx(J2,{item:g},g.product.id))}),e.jsx(Z2,{}),e.jsx(ee,{variant:"outline",size:"lg",className:"w-full mt-3",onClick:()=>p(!0),leftIcon:e.jsx(c2,{className:"w-5 h-5"}),children:x>0?" ":" "}),e.jsxs(ee,{variant:"success",size:"xl",className:"w-full mt-2",onClick:s,children:["  ",oe(d)]}),f&&e.jsx(cS,{onClose:()=>p(!1)})]})},dS=tt.injectEndpoints({endpoints:s=>({getOrders:s.query({query:n=>{const a={};return n&&(n.status&&(a.status=n.status),n.fromDate&&(a.fromDate=n.fromDate),n.toDate&&(a.toDate=n.toDate),n.page&&(a.page=n.page.toString()),n.pageSize&&(a.pageSize=n.pageSize.toString())),{url:"/orders",params:a}},providesTags:n=>{var a;return(a=n==null?void 0:n.data)!=null&&a.items?[...n.data.items.map(({id:i})=>({type:"Orders",id:i})),{type:"Orders",id:"LIST"}]:[{type:"Orders",id:"LIST"}]}}),getOrder:s.query({query:n=>`/orders/${n}`,providesTags:(n,a,i)=>[{type:"Orders",id:i}]}),getTodayOrders:s.query({query:()=>"/orders/today",providesTags:[{type:"Orders",id:"LIST"}]}),getCustomerOrders:s.query({query:({customerId:n,page:a=1,pageSize:i=10})=>({url:`/orders/by-customer/${n}`,params:{page:a,pageSize:i}}),providesTags:(n,a,{customerId:i})=>[{type:"Orders",id:`CUSTOMER_${i}`}]}),createOrder:s.mutation({query:n=>({url:"/orders",method:"POST",body:n}),invalidatesTags:[{type:"Orders",id:"LIST"},"Shifts"]}),addOrderItem:s.mutation({query:({orderId:n,item:a})=>({url:`/orders/${n}/items`,method:"POST",body:a}),invalidatesTags:(n,a,{orderId:i})=>[{type:"Orders",id:i}]}),removeOrderItem:s.mutation({query:({orderId:n,itemId:a})=>({url:`/orders/${n}/items/${a}`,method:"DELETE"}),invalidatesTags:(n,a,{orderId:i})=>[{type:"Orders",id:i}]}),completeOrder:s.mutation({query:({orderId:n,data:a})=>({url:`/orders/${n}/complete`,method:"POST",body:a}),invalidatesTags:(n,a,{orderId:i})=>[{type:"Orders",id:i},{type:"Orders",id:"LIST"},"Shifts"]}),cancelOrder:s.mutation({query:({orderId:n,reason:a})=>({url:`/orders/${n}/cancel`,method:"POST",body:{reason:a}}),invalidatesTags:(n,a,{orderId:i})=>[{type:"Orders",id:i},{type:"Orders",id:"LIST"}]}),refundOrder:s.mutation({query:({orderId:n,reason:a,items:i})=>({url:`/orders/${n}/refund`,method:"POST",body:{reason:a,items:i}}),invalidatesTags:(n,a,{orderId:i})=>[{type:"Orders",id:i},{type:"Orders",id:"LIST"},{type:"Inventory",id:"LOW_STOCK"},{type:"Products",id:"LIST"},"Shifts"]})})}),{useGetOrdersQuery:M0,useGetTodayOrdersQuery:uS,useGetCustomerOrdersQuery:mS,useCreateOrderMutation:fS,useCompleteOrderMutation:hS,useCancelOrderMutation:xS,useRefundOrderMutation:pS}=dS,O0=()=>{var R;const{items:s,clearCart:n,discountType:a,discountValue:i}=rr(),{data:c,isLoading:d,refetch:u}=M0(),{data:x,isLoading:f}=uS(),[p,{isLoading:g}]=fS(),[y,{isLoading:w}]=hS(),[v,{isLoading:N}]=xS(),j=((R=c==null?void 0:c.data)==null?void 0:R.items)||[],C=(x==null?void 0:x.data)||[];return{orders:j,todayOrders:C,isLoadingOrders:d,isLoadingToday:f,refetch:u,createOrder:async b=>{var O;if(s.length===0)return J.error(" "),null;const E=s.map(L=>({productId:L.product.id,quantity:L.quantity,notes:L.notes}));try{const L=await p({items:E,customerId:b,discountType:a,discountValue:i}).unwrap();return L.success&&L.data?L.data:(J.error(L.message||"   "),null)}catch(L){return(O=L.data)!=null&&O.errorCode||J.error("   "),null}},completeOrder:async(b,E)=>{var O;try{const L=await y({orderId:b,data:E}).unwrap();return L.success&&L.data?(n(),J.success("    "),L.data):(J.error(L.message||"   "),null)}catch(L){return(O=L.data)!=null&&O.errorCode||J.error("   "),null}},cancelOrder:async(b,E)=>{var O;try{const L=await v({orderId:b,reason:E}).unwrap();return L.success?(J.success("  "),u(),!0):(J.error(L.message||"   "),!1)}catch(L){return(O=L.data)!=null&&O.errorCode||J.error("   "),!1}},isCreating:g,isCompleting:w,isCancelling:N}},gS=[{id:"Cash",label:"",icon:e.jsx(xo,{className:"w-8 h-8"})},{id:"Card",label:"",icon:e.jsx(Ja,{className:"w-8 h-8"})},{id:"Fawry",label:"",icon:e.jsx(yt,{className:"w-8 h-8"})}],yS=({onClose:s,selectedCustomer:n,onOrderComplete:a})=>{const{total:i}=rr(),{createOrder:c,completeOrder:d,isCreating:u,isCompleting:x}=O0(),[f,p]=S.useState("Cash"),[g,y]=S.useState(i.toFixed(2)),[w,v]=S.useState(!1),[N,j]=S.useState(!1),C=n==null?void 0:n.id,T=parseFloat(g)||0,_=T-i,k=i-T,R=n&&(n.creditLimit===0||n.totalDue+k<=n.creditLimit),b=n&&n.creditLimit>0&&n.totalDue+k>n.creditLimit,E=A=>{A==="C"?y(""):A===""?y(I=>I.slice(0,-1)):A==="."?g.includes(".")||y(I=>I+"."):y(I=>I+A)},O=A=>{y(A.toFixed(2))},L=async()=>{if(T<i&&!N){v(!0),setTimeout(()=>v(!1),500),J.error("    ");return}if(T<i&&!n){J.error("     ");return}if(T<i&&b){J.error(`    (${oe(n.creditLimit)})`);return}try{const A=await c(C);if(!A)return;await d(A.id,{payments:[{method:f,amount:T}]})&&(_>0?J.success(`  ! : ${oe(_)}`):k>0?J.success(`   !  : ${oe(k)}`):J.success("   !"),a==null||a(),s())}catch{J.error("   ")}},M=[50,100,200,500];return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:""}),e.jsx("button",{onClick:s,className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-danger-50 hover:text-danger-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl border border-gray-200",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:" "}),n?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-4 h-4 text-primary-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:n.name||n.phone})]}),n.phone&&n.name&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Zr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{dir:"ltr",children:n.phone})]}),(n.loyaltyPoints??0)>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-amber-600",children:[e.jsx(Ao,{className:"w-4 h-4 text-amber-500"}),e.jsxs("span",{children:[n.loyaltyPoints,"  "]})]}),n.totalDue>0&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-orange-600",children:[e.jsx(Fn,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{children:[" : ",oe(n.totalDue)]})]}),n.creditLimit>0&&e.jsxs("div",{className:"text-xs text-gray-500",children:[" : ",oe(n.creditLimit)]})]}):e.jsxs("div",{className:"flex items-center gap-2 text-gray-500",children:[e.jsx(Ss,{className:"w-4 h-4"}),e.jsx("span",{children:" "})]})]}),e.jsxs("div",{className:"text-center p-6 bg-gray-50 rounded-xl",children:[e.jsx("p",{className:"text-gray-500 mb-1",children:" "}),e.jsx("p",{className:"text-4xl font-bold text-primary-600",children:oe(i)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:" "}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:gS.map(A=>e.jsxs("button",{onClick:()=>p(A.id),className:ke("flex flex-col items-center gap-2 p-4 rounded-xl border-2 transition-all",f===A.id?"border-primary-600 bg-primary-50 text-primary-600":"border-gray-200 hover:border-gray-300"),children:[A.icon,e.jsx("span",{className:"mt-2 font-medium",children:A.label})]},A.id))})]}),f==="Cash"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-3",children:" "}),e.jsx("div",{className:ke("text-center p-4 bg-gray-50 rounded-xl transition-all",w&&"animate-shake border-2 border-danger-500"),children:e.jsxs("p",{className:"text-3xl font-bold",children:[g||"0"," ",e.jsx("span",{className:"text-lg text-gray-400",children:"."})]})})]}),e.jsxs("div",{className:"flex gap-2",children:[M.map(A=>e.jsx("button",{onClick:()=>O(A),className:"flex-1 py-2 rounded-lg bg-gray-100 font-medium hover:bg-primary-100 hover:text-primary-600 transition-colors",children:A},A)),e.jsx("button",{onClick:()=>O(i),className:"flex-1 py-2 rounded-lg bg-primary-600 text-white font-medium hover:bg-primary-700 transition-colors",children:""})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["7","8","9","","4","5","6","C","1","2","3",".","0","00"].map(A=>e.jsx("button",{onClick:()=>E(A),className:ke("h-14 rounded-lg bg-gray-100 font-semibold text-xl hover:bg-gray-200 active:bg-gray-300 transition-colors",A==="0"&&"col-span-2"),children:A},A))}),_>0&&e.jsxs("div",{className:"text-center p-4 bg-success-50 rounded-xl border border-success-200",children:[e.jsx("p",{className:"text-gray-500 text-sm",children:""}),e.jsx("p",{className:"text-2xl font-bold text-success-500",children:oe(_)})]}),T<i&&T>0&&e.jsxs("div",{className:ke("text-center p-4 rounded-xl border",b?"bg-danger-50 border-danger-200":"bg-orange-50 border-orange-200"),children:[e.jsx("p",{className:"text-gray-500 text-sm",children:" "}),e.jsx("p",{className:ke("text-2xl font-bold",b?"text-danger-500":"text-orange-500"),children:oe(k)}),b&&e.jsx("p",{className:"text-xs text-danger-600 mt-1",children:"   "})]})]}),n&&R&&e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-blue-50 rounded-xl border border-blue-200",children:[e.jsx("input",{type:"checkbox",id:"partialPayment",checked:N,onChange:A=>j(A.target.checked),className:"w-5 h-5 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsxs("label",{htmlFor:"partialPayment",className:"flex-1 cursor-pointer",children:[e.jsx("p",{className:"font-medium text-gray-800",children:"   ( )"}),e.jsx("p",{className:"text-sm text-gray-600",children:"        "})]})]}),e.jsx(ee,{variant:"success",size:"xl",className:"w-full",onClick:L,isLoading:u||x,disabled:u||x||T<i&&!N||T<i&&b,rightIcon:e.jsx(Xa,{className:"w-5 h-5"}),children:u?"  ...":x?" ...":T<i&&N?`   (: ${oe(k)})`:" "})]})]})})},vS=()=>{const[s,n]=S.useState(!1),a=Te(dl),i=(a==null?void 0:a.role)==="Admin"||(a==null?void 0:a.role)==="SystemOwner",{data:c}=K2(void 0,{skip:!i,pollingInterval:6e4});if(!i||s||!c||c.length===0)return null;const d=c.length;return e.jsxs("div",{className:"bg-amber-50 border border-amber-200 rounded-lg px-4 py-2 flex items-center justify-between gap-3 mb-4 animate-fade-in",children:[e.jsxs("div",{className:"flex items-center gap-2 text-amber-700",children:[e.jsx(zt,{className:"w-5 h-5 shrink-0"}),e.jsxs("span",{className:"text-sm font-medium",children:[" : ",d," ",d>1?"":"","  "]})]}),e.jsx("button",{onClick:()=>n(!0),className:"text-amber-600 hover:text-amber-800 p-1 rounded hover:bg-amber-100 transition-colors","aria-label":" ",children:e.jsx(Ye,{className:"w-4 h-4"})})]})},et=()=>e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 border-4 border-primary-200 border-t-primary-600 rounded-full animate-spin"}),e.jsx("p",{className:"text-gray-500",children:" ..."})]})}),jS=({onCheckout:s,onSearch:n})=>{rr(),S.useEffect(()=>{const a=i=>{i.key==="F12"&&(i.preventDefault(),s()),i.key==="F2"&&(i.preventDefault(),n()),i.key==="Escape"&&document.activeElement instanceof HTMLElement&&document.activeElement.blur()};return window.addEventListener("keydown",a),()=>window.removeEventListener("keydown",a)},[s,n])},bS=()=>{const[s,n]=S.useState(null),[a,i]=S.useState(!1),[c,d]=S.useState(!1),[u,x]=S.useState(!1),[f,p]=S.useState(null),[g,y]=S.useState(""),w=S.useRef(null),{products:v,isLoading:N}=P0(),{categories:j}=Ju(),{addItem:C,itemsCount:T}=rr();jS({onCheckout:()=>i(!0),onSearch:()=>{var b;(b=w.current)==null||b.focus()}}),S.useEffect(()=>{w.current&&w.current.focus()},[]);const _=S.useCallback(b=>{var L;const E=b.trim();if(!E)return;const O=v.find(M=>M.barcode&&M.barcode.toLowerCase()===E.toLowerCase()||M.sku&&M.sku.toLowerCase()===E.toLowerCase()||M.name.toLowerCase()===E.toLowerCase());O?(C(O,1),J.success(` : ${O.name}`),y(""),(L=w.current)==null||L.focus()):J.error(`    : ${E}`)},[v,C]),k=b=>{b.key==="Enter"&&(b.preventDefault(),_(g))};let R=v;if(g.trim()){const b=g.toLowerCase().trim();R=R.filter(E=>E.name.toLowerCase().includes(b)||E.barcode&&E.barcode.toLowerCase().includes(b)||E.sku&&E.sku.toLowerCase().includes(b))}return s&&(R=R.filter(b=>b.categoryId===s)),u&&(R=R.filter(b=>b.trackInventory?(b.stockQuantity??0)>0:!0)),N?e.jsx("div",{className:"h-full flex items-center justify-center bg-gray-50",children:e.jsx(et,{})}):e.jsxs("div",{className:"h-full flex overflow-hidden",children:[e.jsxs("div",{className:"flex-1 flex flex-col bg-gray-50 p-4 min-w-0",children:[e.jsx(vS,{}),e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"relative",children:[e.jsx(i2,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{ref:w,type:"text",value:g,onChange:b=>y(b.target.value),onKeyDown:k,placeholder:"     SKU ( Enter )",className:"w-full pl-4 pr-10 py-2.5 border border-gray-200 rounded-xl bg-white focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-sm",autoComplete:"off"})]})}),e.jsxs("div",{className:"flex items-center justify-between mb-4 gap-2",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[e.jsx(X2,{categories:j,selectedId:s,onSelect:n}),e.jsxs("button",{onClick:()=>x(!u),className:ke("flex items-center gap-1.5 px-3 py-2 rounded-lg text-sm font-medium transition-colors whitespace-nowrap",u?"bg-success-100 text-success-700 border border-success-300":"bg-white text-gray-600 border border-gray-200 hover:bg-gray-50"),title:"     ",children:[e.jsx(n2,{className:"w-4 h-4"}),e.jsx("span",{className:"hidden sm:inline",children:" "})]})]}),e.jsxs("button",{onClick:()=>d(!c),className:"lg:hidden relative p-2 border border-gray-200 rounded-lg hover:bg-gray-100 shrink-0",children:[e.jsx(f0,{className:"w-5 h-5"}),T>0&&e.jsx("span",{className:"absolute -top-2 -right-2 bg-primary-600 text-white text-xs w-5 h-5 rounded-full flex items-center justify-center",children:T})]})]}),e.jsx("div",{className:"flex-1 overflow-y-auto scrollbar-thin min-h-0",children:e.jsx(Y2,{products:R,categories:j})})]}),e.jsx("div",{className:"hidden lg:flex w-96 bg-white border-l border-gray-200 p-4 flex-col shrink-0",children:e.jsx(Bx,{onCheckout:()=>i(!0),selectedCustomer:f,onCustomerSelect:p})}),c&&e.jsxs("div",{className:"lg:hidden fixed inset-0 z-40",children:[e.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),e.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-80 bg-white p-4 animate-slide-in-right shadow-2xl flex flex-col",children:e.jsx(Bx,{onCheckout:()=>{d(!1),i(!0)},selectedCustomer:f,onCustomerSelect:p})})]}),a&&e.jsx(yS,{onClose:()=>i(!1),selectedCustomer:f,onOrderComplete:()=>p(null)})]})},ue=({children:s,className:n,hover:a=!1,padding:i="md",onClick:c})=>{const d={none:"",sm:"p-3",md:"p-4",lg:"p-6"};return e.jsx("div",{className:ke("bg-white rounded-xl shadow-sm border border-gray-100",a&&"hover:shadow-md hover:border-primary-200 transition-all duration-200 cursor-pointer",d[i],n),onClick:c,children:s})},Wt=({isOpen:s,onClose:n,title:a,size:i="md",children:c})=>{const d={sm:"max-w-sm",md:"max-w-md",lg:"max-w-lg",xl:"max-w-xl",full:"max-w-4xl"};return S.useEffect(()=>{const u=x=>{x.key==="Escape"&&n()};return s&&(document.addEventListener("keydown",u),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",u),document.body.style.overflow="unset"}},[s,n]),s?e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 animate-fade-in",onClick:n,children:e.jsxs("div",{className:ke("bg-white rounded-2xl shadow-xl w-full mx-4 animate-scale-in max-h-[90vh] overflow-auto",d[i]),onClick:u=>u.stopPropagation(),children:[a&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b",children:[e.jsx("h2",{className:"text-xl font-bold",children:a}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"p-6",children:c})]})}):null},NS=({product:s,onClose:n})=>{var w;const{createProduct:a,updateProduct:i,isCreating:c,isUpdating:d}=P0(),{categories:u}=Ju(),x=!!s,[f,p]=S.useState({name:(s==null?void 0:s.name)||"",nameEn:(s==null?void 0:s.nameEn)||"",description:(s==null?void 0:s.description)||"",sku:(s==null?void 0:s.sku)||"",barcode:(s==null?void 0:s.barcode)||"",price:(s==null?void 0:s.price)||0,cost:(s==null?void 0:s.cost)||0,categoryId:(s==null?void 0:s.categoryId)||((w=u[0])==null?void 0:w.id)||0,stockQuantity:(s==null?void 0:s.stockQuantity)??0,lowStockThreshold:(s==null?void 0:s.lowStockThreshold)??5,isActive:(s==null?void 0:s.isActive)??!0}),g=async v=>{if(v.preventDefault(),x&&s){const N={name:f.name,nameEn:f.nameEn,description:f.description,sku:f.sku,barcode:f.barcode,price:f.price,cost:f.cost,categoryId:f.categoryId,trackInventory:!0,stockQuantity:f.stockQuantity,lowStockThreshold:f.lowStockThreshold,isActive:f.isActive};await i(s.id,N)}else{const N={name:f.name,nameEn:f.nameEn,description:f.description,sku:f.sku,barcode:f.barcode,price:f.price,cost:f.cost,categoryId:f.categoryId,trackInventory:!0,stockQuantity:f.stockQuantity,lowStockThreshold:f.lowStockThreshold};await a(N)}n()},y=c||d;return e.jsx(Wt,{isOpen:!0,onClose:n,title:x?" ":"  ",size:"lg",children:e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"  () *",value:f.name,onChange:v=>p({...f,name:v.target.value}),required:!0}),e.jsx(Oe,{label:"  ()",value:f.nameEn,onChange:v=>p({...f,nameEn:v.target.value})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:" *"}),e.jsxs("select",{value:f.categoryId,onChange:v=>p({...f,categoryId:Number(v.target.value)}),className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:"",children:" "}),u.map(v=>e.jsx("option",{value:v.id,children:v.name},v.id))]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"  *",type:"number",min:"0",step:"0.01",value:f.price,onChange:v=>p({...f,price:parseFloat(v.target.value)||0}),required:!0}),e.jsx(Oe,{label:" ",type:"number",min:"0",step:"0.01",value:f.cost,onChange:v=>p({...f,cost:parseFloat(v.target.value)||0})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"SKU",value:f.sku,onChange:v=>p({...f,sku:v.target.value})}),e.jsx(Oe,{label:"",value:f.barcode,onChange:v=>p({...f,barcode:v.target.value})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(Oe,{label:"  *",type:"number",min:"0",value:f.stockQuantity,onChange:v=>p({...f,stockQuantity:parseInt(v.target.value)||0}),required:!0}),e.jsx(Oe,{label:"  ( )",type:"number",min:"0",value:f.lowStockThreshold,onChange:v=>p({...f,lowStockThreshold:parseInt(v.target.value)||5})})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{type:"button",variant:"secondary",onClick:n,className:"flex-1",children:""}),e.jsx(ee,{type:"submit",variant:"primary",isLoading:y,className:"flex-1",children:x?" ":" "})]})]})})};let wS={data:""},SS=s=>{if(typeof window=="object"){let n=(s?s.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return n.nonce=window.__nonce__,n.parentNode||(s||document.head).appendChild(n),n.firstChild}return s||wS},kS=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,CS=/\/\*[^]*?\*\/|  +/g,Qx=/\n+/g,kr=(s,n)=>{let a="",i="",c="";for(let d in s){let u=s[d];d[0]=="@"?d[1]=="i"?a=d+" "+u+";":i+=d[1]=="f"?kr(u,d):d+"{"+kr(u,d[1]=="k"?"":n)+"}":typeof u=="object"?i+=kr(u,n?n.replace(/([^,])+/g,x=>d.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,x):x?x+" "+f:f)):d):u!=null&&(d=/^--/.test(d)?d:d.replace(/[A-Z]/g,"-$&").toLowerCase(),c+=kr.p?kr.p(d,u):d+":"+u+";")}return a+(n&&c?n+"{"+c+"}":c)+i},Ws={},L0=s=>{if(typeof s=="object"){let n="";for(let a in s)n+=a+L0(s[a]);return n}return s},ES=(s,n,a,i,c)=>{let d=L0(s),u=Ws[d]||(Ws[d]=(f=>{let p=0,g=11;for(;p<f.length;)g=101*g+f.charCodeAt(p++)>>>0;return"go"+g})(d));if(!Ws[u]){let f=d!==s?s:(p=>{let g,y,w=[{}];for(;g=kS.exec(p.replace(CS,""));)g[4]?w.shift():g[3]?(y=g[3].replace(Qx," ").trim(),w.unshift(w[0][y]=w[0][y]||{})):w[0][g[1]]=g[2].replace(Qx," ").trim();return w[0]})(s);Ws[u]=kr(c?{["@keyframes "+u]:f}:f,a?"":"."+u)}let x=a&&Ws.g?Ws.g:null;return a&&(Ws.g=Ws[u]),((f,p,g,y)=>{y?p.data=p.data.replace(y,f):p.data.indexOf(f)===-1&&(p.data=g?f+p.data:p.data+f)})(Ws[u],n,i,x),u},PS=(s,n,a)=>s.reduce((i,c,d)=>{let u=n[d];if(u&&u.call){let x=u(a),f=x&&x.props&&x.props.className||/^go/.test(x)&&x;u=f?"."+f:x&&typeof x=="object"?x.props?"":kr(x,""):x===!1?"":x}return i+c+(u??"")},"");function zo(s){let n=this||{},a=s.call?s(n.p):s;return ES(a.unshift?a.raw?PS(a,[].slice.call(arguments,1),n.p):a.reduce((i,c)=>Object.assign(i,c&&c.call?c(n.p):c),{}):a,SS(n.target),n.g,n.o,n.k)}let D0,hu,xu;zo.bind({g:1});let tr=zo.bind({k:1});function TS(s,n,a,i){kr.p=n,D0=s,hu=a,xu=i}function _r(s,n){let a=this||{};return function(){let i=arguments;function c(d,u){let x=Object.assign({},d),f=x.className||c.className;a.p=Object.assign({theme:hu&&hu()},x),a.o=/ *go\d+/.test(f),x.className=zo.apply(a,i)+(f?" "+f:"");let p=s;return s[0]&&(p=x.as||s,delete x.as),xu&&p[0]&&xu(x),D0(p,x)}return c}}var RS=s=>typeof s=="function",pu=(s,n)=>RS(s)?s(n):s,IS=(()=>{let s=0;return()=>(++s).toString()})(),_S=(()=>{let s;return()=>{if(s===void 0&&typeof window<"u"){let n=matchMedia("(prefers-reduced-motion: reduce)");s=!n||n.matches}return s}})(),MS=20,A0="default",F0=(s,n)=>{let{toastLimit:a}=s.settings;switch(n.type){case 0:return{...s,toasts:[n.toast,...s.toasts].slice(0,a)};case 1:return{...s,toasts:s.toasts.map(u=>u.id===n.toast.id?{...u,...n.toast}:u)};case 2:let{toast:i}=n;return F0(s,{type:s.toasts.find(u=>u.id===i.id)?1:0,toast:i});case 3:let{toastId:c}=n;return{...s,toasts:s.toasts.map(u=>u.id===c||c===void 0?{...u,dismissed:!0,visible:!1}:u)};case 4:return n.toastId===void 0?{...s,toasts:[]}:{...s,toasts:s.toasts.filter(u=>u.id!==n.toastId)};case 5:return{...s,pausedAt:n.time};case 6:let d=n.time-(s.pausedAt||0);return{...s,pausedAt:void 0,toasts:s.toasts.map(u=>({...u,pauseDuration:u.pauseDuration+d}))}}},OS=[],LS={toasts:[],pausedAt:void 0,settings:{toastLimit:MS}},On={},z0=(s,n=A0)=>{On[n]=F0(On[n]||LS,s),OS.forEach(([a,i])=>{a===n&&i(On[n])})},$0=s=>Object.keys(On).forEach(n=>z0(s,n)),DS=s=>Object.keys(On).find(n=>On[n].toasts.some(a=>a.id===s)),Zu=(s=A0)=>n=>{z0(n,s)},AS=(s,n="blank",a)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:n,ariaProps:{role:"status","aria-live":"polite"},message:s,pauseDuration:0,...a,id:(a==null?void 0:a.id)||IS()}),jl=s=>(n,a)=>{let i=AS(n,s,a);return Zu(i.toasterId||DS(i.id))({type:2,toast:i}),i.id},Ae=(s,n)=>jl("blank")(s,n);Ae.error=jl("error");Ae.success=jl("success");Ae.loading=jl("loading");Ae.custom=jl("custom");Ae.dismiss=(s,n)=>{let a={type:3,toastId:s};n?Zu(n)(a):$0(a)};Ae.dismissAll=s=>Ae.dismiss(void 0,s);Ae.remove=(s,n)=>{let a={type:4,toastId:s};n?Zu(n)(a):$0(a)};Ae.removeAll=s=>Ae.remove(void 0,s);Ae.promise=(s,n,a)=>{let i=Ae.loading(n.loading,{...a,...a==null?void 0:a.loading});return typeof s=="function"&&(s=s()),s.then(c=>{let d=n.success?pu(n.success,c):void 0;return d?Ae.success(d,{id:i,...a,...a==null?void 0:a.success}):Ae.dismiss(i),c}).catch(c=>{let d=n.error?pu(n.error,c):void 0;d?Ae.error(d,{id:i,...a,...a==null?void 0:a.error}):Ae.dismiss(i)}),s};var FS=tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,zS=tr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,$S=tr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,qS=_r("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${FS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${zS} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${s=>s.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${$S} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,US=tr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,BS=_r("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${s=>s.secondary||"#e0e0e0"};
  border-right-color: ${s=>s.primary||"#616161"};
  animation: ${US} 1s linear infinite;
`,QS=tr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,HS=tr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,VS=_r("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${s=>s.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${QS} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${HS} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${s=>s.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,WS=_r("div")`
  position: absolute;
`,KS=_r("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,GS=tr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,YS=_r("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${GS} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,XS=({toast:s})=>{let{icon:n,type:a,iconTheme:i}=s;return n!==void 0?typeof n=="string"?S.createElement(YS,null,n):n:a==="blank"?null:S.createElement(KS,null,S.createElement(BS,{...i}),a!=="loading"&&S.createElement(WS,null,a==="error"?S.createElement(qS,{...i}):S.createElement(VS,{...i})))},JS=s=>`
0% {transform: translate3d(0,${s*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,ZS=s=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${s*-150}%,-1px) scale(.6); opacity:0;}
`,e4="0%{opacity:0;} 100%{opacity:1;}",t4="0%{opacity:1;} 100%{opacity:0;}",s4=_r("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,r4=_r("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,n4=(s,n)=>{let a=s.includes("top")?1:-1,[i,c]=_S()?[e4,t4]:[JS(a),ZS(a)];return{animation:n?`${tr(i)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${tr(c)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}};S.memo(({toast:s,position:n,style:a,children:i})=>{let c=s.height?n4(s.position||n||"top-center",s.visible):{opacity:0},d=S.createElement(XS,{toast:s}),u=S.createElement(r4,{...s.ariaProps},pu(s.message,s));return S.createElement(s4,{className:s.className,style:{...c,...a,...s.style}},typeof i=="function"?i({icon:d,message:u}):S.createElement(S.Fragment,null,d,u))});TS(S.createElement);zo`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`;const a4=()=>{const[s,n]=S.useState(""),[a,i]=S.useState(null),[c,d]=S.useState(!1),[u,x]=S.useState(!1),[f,p]=S.useState(!1),[g,y]=S.useState(null),{categories:w}=Ju(),v=!0,N=S.useMemo(()=>({categoryId:a??void 0,search:s.trim()||void 0,isActive:c?!0:void 0,lowStock:u?!0:void 0}),[a,s,c,u,v]),{data:j,isLoading:C}=vl(N),[T,{isLoading:_}]=E0(),k=(j==null?void 0:j.data)||[],R=S.useMemo(()=>k,[k,s,a,c,u,v]),b=I=>{y(I),p(!0)},E=async I=>{if(confirm("      "))try{await T(I).unwrap(),Ae.success("   ")}catch{Ae.error("   ")}},O=()=>{p(!1),y(null)};if(C)return e.jsx(et,{});const L=R.length,M=R.filter(I=>I.isActive).length,A=R.filter(I=>I.trackInventory&&(I.stockQuantity??0)<(I.lowStockThreshold??5)).length;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ze,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"   "})]}),e.jsx(ee,{variant:"primary",onClick:()=>p(!0),rightIcon:e.jsx($t,{className:"w-5 h-5"}),children:" "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ue,{className:"border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:L})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:M})]}),e.jsxs(ue,{className:"border-amber-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:A})]})]}),e.jsx(ue,{className:"shrink-0",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Oe,{placeholder:"  ...",value:s,onChange:I=>n(I.target.value),className:"pl-10"})]})}),e.jsxs("select",{value:a||"",onChange:I=>i(I.target.value?Number(I.target.value):null),className:"px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[e.jsx("option",{value:"",children:" "}),w.map(I=>e.jsx("option",{value:I.id,children:I.name},I.id))]})]}),e.jsxs("div",{className:"flex flex-wrap gap-4",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:c,onChange:I=>d(I.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:" "})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:I=>x(I.target.checked),className:"w-4 h-4 text-primary-600 rounded focus:ring-2 focus:ring-primary-500"}),e.jsx("span",{className:"text-sm text-gray-700",children:"  "})]})]})]})}),e.jsx(ue,{padding:"none",children:e.jsxs("div",{className:"overflow-x-auto",children:[e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b",children:[e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"  "}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""})]})}),e.jsx("tbody",{children:R.map((I,F)=>{const B=w.find($=>$.id===I.categoryId);return e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-500",children:F+1}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Ze,{className:"w-5 h-5 text-gray-400"})}),e.jsx("span",{className:"font-medium",children:I.name})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:(B==null?void 0:B.name)||"-"}),e.jsx("td",{className:"px-4 py-3 font-semibold text-primary-600",children:oe(I.price)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:ke("px-2.5 py-1 rounded-full text-xs font-medium",(I.stockQuantity??0)<=0?"bg-danger-50 text-danger-600":(I.stockQuantity??0)<=(I.lowStockThreshold??5)?"bg-warning-50 text-warning-600":"bg-gray-100 text-gray-700"),children:I.stockQuantity??0})}),e.jsx("td",{className:"px-4 py-3 text-gray-600 text-sm",children:I.reorderPoint??""}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:ke("px-2.5 py-0.5 rounded-full text-xs font-medium",I.isActive?"bg-success-50 text-success-500":"bg-gray-100 text-gray-500"),children:I.isActive?"":" "})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>b(I),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(h0,{className:"w-4 h-4 text-gray-500"})}),e.jsx("button",{onClick:()=>E(I.id),disabled:_,className:"p-2 hover:bg-danger-50 rounded-lg transition-colors",children:e.jsx(is,{className:"w-4 h-4 text-danger-500"})})]})})]},I.id)})})]}),R.length===0&&e.jsxs("div",{className:"text-center py-12 text-gray-400",children:[e.jsx(Ze,{className:"w-12 h-12 mx-auto mb-3"}),e.jsx("p",{children:"  "})]})]})}),f&&e.jsx(NS,{product:g,onClose:O})]})})},l4=()=>{const[s,n]=S.useState(!1),[a,i]=S.useState(null),[c,d]=S.useState({name:"",nameEn:"",description:""}),[u,x]=S.useState(""),[f,p]=S.useState(1),{data:g,isLoading:y}=Xu({search:u||void 0,page:f,pageSize:20}),w=(g==null?void 0:g.data)||[],[v,{isLoading:N}]=_2(),[j,{isLoading:C}]=M2(),[T,{isLoading:_}]=O2(),k=M=>{i(M),d({name:M.name,nameEn:M.nameEn||"",description:M.description||""}),n(!0)},R=async M=>{if(window.confirm("      "))try{await T(M).unwrap(),J.success("   ")}catch{J.error("   ")}},b=async M=>{M.preventDefault();try{a?(await j({id:a.id,data:c}).unwrap(),J.success("   ")):(await v(c).unwrap(),J.success("   ")),E()}catch{J.error(a?"   ":"   ")}},E=()=>{n(!1),i(null),d({name:"",nameEn:"",description:""})};if(y)return e.jsx(et,{});const O=w.filter(M=>M.isActive).length,L=w.reduce((M,A)=>M+(A.productCount||0),0);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-purple-100 flex items-center justify-center",children:e.jsx(Ua,{className:"w-5 h-5 text-purple-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"      "})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ee,{variant:"primary",onClick:()=>n(!0),rightIcon:e.jsx($t,{className:"w-5 h-5"}),children:" "})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ue,{className:"border-purple-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:w.length})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:O})]}),e.jsxs(ue,{className:"border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:L})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"relative",children:[e.jsx(en,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Oe,{type:"text",placeholder:"  ...",value:u,onChange:M=>{x(M.target.value),p(1)},className:"pr-10"})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[w.map(M=>e.jsxs(ue,{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(Ua,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:M.name}),M.nameEn&&e.jsx("p",{className:"text-sm text-gray-500",children:M.nameEn})]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("button",{onClick:()=>k(M),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(h0,{className:"w-4 h-4 text-gray-500"})}),e.jsx("button",{onClick:()=>R(M.id),disabled:_,className:"p-2 hover:bg-danger-50 rounded-lg transition-colors",children:e.jsx(is,{className:"w-4 h-4 text-danger-500"})})]})]}),M.description&&e.jsx("p",{className:"mt-3 text-sm text-gray-500",children:M.description}),e.jsxs("div",{className:"mt-4 pt-4 border-t flex items-center justify-between",children:[e.jsxs("span",{className:"text-sm text-gray-500",children:[M.productCount||0," "]}),e.jsx("span",{className:ke("px-2.5 py-0.5 rounded-full text-xs font-medium",M.isActive?"bg-success-50 text-success-500":"bg-gray-100 text-gray-500"),children:M.isActive?"":" "})]})]},M.id)),w.length===0&&e.jsxs("div",{className:"col-span-full text-center py-12 text-gray-400",children:[e.jsx(Ua,{className:"w-12 h-12 mx-auto mb-3"}),e.jsx("p",{children:u?"   ":"  "})]})]}),w.length>0&&e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx(ee,{variant:"secondary",onClick:()=>p(M=>Math.max(1,M-1)),disabled:f===1,children:""}),e.jsxs("span",{className:"px-4 py-2 text-sm text-gray-600",children:[" ",f]}),e.jsx(ee,{variant:"secondary",onClick:()=>p(M=>M+1),disabled:w.length<20,children:""})]}),e.jsx(Wt,{isOpen:s,onClose:E,title:a?" ":"  ",children:e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsx(Oe,{label:"  ()",value:c.name,onChange:M=>d({...c,name:M.target.value}),placeholder:": ",required:!0}),e.jsx(Oe,{label:"  ()",value:c.nameEn,onChange:M=>d({...c,nameEn:M.target.value}),placeholder:"Example: Beverages"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:""}),e.jsx("textarea",{value:c.description,onChange:M=>d({...c,description:M.target.value}),placeholder:"  ...",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{type:"button",variant:"secondary",onClick:E,className:"flex-1",children:""}),e.jsx(ee,{type:"submit",variant:"primary",isLoading:N||C,className:"flex-1",children:a?"":""})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]})]})]})]})})},q0={Draft:{label:"",color:"gray"},Pending:{label:" ",color:"warning"},Completed:{label:"",color:"success"},Cancelled:{label:"",color:"danger"},Refunded:{label:"",color:"danger"},PartiallyRefunded:{label:" ",color:"warning"}},Hx={Return:{label:"",icon:""}},U0={Cash:{label:"",icon:""},Card:{label:"",icon:""},Fawry:{label:"",icon:""}},Vx=[{id:"damaged",label:" "},{id:"wrong_order",label:"  "},{id:"customer_request",label:" "},{id:"quality_issue",label:"  "},{id:"other",label:" "}],i4=({order:s,onClose:n,onSuccess:a})=>{var R;const[i,c]=S.useState("full"),[d,u]=S.useState(""),[x,f]=S.useState(""),[p,g]=S.useState(()=>s.items.map(b=>({itemId:b.id,maxQuantity:b.quantity,refundQuantity:0,unitPrice:b.total/b.quantity,productName:b.productName}))),[y,{isLoading:w}]=pS(),v=S.useMemo(()=>i==="full"?s.total:p.reduce((b,E)=>b+E.refundQuantity*E.unitPrice,0),[i,p,s.total]),N=p.some(b=>b.refundQuantity>0),j=d==="other"?x:((R=Vx.find(b=>b.id===d))==null?void 0:R.label)||"",C=i==="full"&&d&&(d!=="other"||x.trim())||i==="partial"&&N,T=(b,E)=>{g(O=>O.map(L=>{if(L.itemId!==b)return L;const M=Math.max(0,Math.min(L.maxQuantity,L.refundQuantity+E));return{...L,refundQuantity:M}}))},_=(b,E)=>{g(O=>O.map(L=>{if(L.itemId!==b)return L;const M=Math.max(0,Math.min(L.maxQuantity,E));return{...L,refundQuantity:M}}))},k=async()=>{var b;if(!C){J.error(i==="full"?"   ":"   ");return}try{let E;if(i==="full")E=await y({orderId:s.id,reason:j}).unwrap();else{const O=p.filter(L=>L.refundQuantity>0).map(L=>({itemId:L.itemId,quantity:L.refundQuantity,reason:j||void 0}));E=await y({orderId:s.id,reason:j||void 0,items:O}).unwrap()}if(E.success){const O=(b=E.data)==null?void 0:b.orderNumber,L=i==="full"?`    ${O?`#${O}`:""}`:`     ${O?`#${O}`:""}`;J.success(L),a==null||a(),n()}else J.error(E.message||"    ")}catch{J.error("    ")}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden animate-scale-in flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b bg-orange-50 shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-orange-100 flex items-center justify-center",children:e.jsx(p0,{className:"w-5 h-5 text-orange-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-orange-700",children:"  "}),e.jsxs("p",{className:"text-sm text-orange-600",children:[" #",s.orderNumber]})]})]}),e.jsx("button",{onClick:n,className:"w-10 h-10 rounded-lg bg-white flex items-center justify-center hover:bg-orange-100 text-orange-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-start gap-3 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[e.jsx(zt,{className:"w-6 h-6 text-blue-600 shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-blue-800",children:[e.jsx("p",{className:"font-semibold mb-1",children:"    "}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[e.jsx("li",{children:'      ""  '}),e.jsx("li",{children:"   "}),e.jsx("li",{children:"     "})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("button",{type:"button",onClick:()=>c("full"),className:ke("p-4 rounded-xl border-2 transition-all text-center",i==="full"?"border-danger-500 bg-danger-50 text-danger-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx("p",{className:"font-semibold",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]}),e.jsxs("button",{type:"button",onClick:()=>c("partial"),className:ke("p-4 rounded-xl border-2 transition-all text-center",i==="partial"?"border-danger-500 bg-danger-50 text-danger-700":"border-gray-200 hover:border-gray-300"),children:[e.jsx("p",{className:"font-semibold",children:" "}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:" "})]})]})]}),i==="partial"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:["  ",e.jsx("span",{className:"text-danger-500",children:"*"})]}),e.jsx("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-right px-4 py-3 text-sm font-semibold text-gray-600",children:""}),e.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-600",children:""}),e.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-600",children:""}),e.jsx("th",{className:"text-center px-4 py-3 text-sm font-semibold text-gray-600",children:" "})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:p.map(b=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 font-medium text-gray-800",children:b.productName}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-600",children:oe(b.unitPrice)}),e.jsx("td",{className:"px-4 py-3 text-center text-gray-500",children:b.maxQuantity}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{type:"button",onClick:()=>T(b.itemId,-1),disabled:b.refundQuantity===0,className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Do,{className:"w-4 h-4"})}),e.jsx("input",{type:"number",value:b.refundQuantity,onChange:E=>_(b.itemId,parseInt(E.target.value)||0),min:0,max:b.maxQuantity,className:"w-16 text-center py-1 border border-gray-200 rounded-lg focus:ring-2 focus:ring-danger-500 focus:border-danger-500"}),e.jsx("button",{type:"button",onClick:()=>T(b.itemId,1),disabled:b.refundQuantity>=b.maxQuantity,className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx($t,{className:"w-4 h-4"})})]})})]},b.itemId))})]})})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:[" "," ",i==="full"&&e.jsx("span",{className:"text-danger-500",children:"*"})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Vx.map(b=>e.jsx("button",{type:"button",onClick:()=>u(b.id===d?"":b.id),className:ke("p-2 rounded-lg border-2 transition-all text-sm text-center",d===b.id?"border-danger-500 bg-danger-50 text-danger-700":"border-gray-200 hover:border-gray-300"),children:b.label},b.id))}),d==="other"&&e.jsx("div",{className:"mt-3",children:e.jsx("input",{type:"text",value:x,onChange:b=>f(b.target.value),placeholder:"  ...",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-danger-500 focus:border-danger-500",autoFocus:!0})})]}),e.jsxs("div",{className:"bg-danger-50 rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold text-danger-700",children:"  "}),e.jsx("span",{className:"text-2xl font-bold text-danger-600",children:oe(v)})]}),i==="partial"&&!N&&e.jsx("p",{className:"text-sm text-danger-500 mt-2",children:"     "})]})]}),e.jsxs("div",{className:"flex gap-3 p-6 border-t bg-gray-50 shrink-0",children:[e.jsx(ee,{variant:"secondary",onClick:n,className:"flex-1",disabled:w,children:""}),e.jsx(ee,{variant:"primary",onClick:k,isLoading:w,disabled:w||!C,className:"flex-1 !bg-orange-500 hover:!bg-orange-600",children:i==="full"?"  ":"   "})]})]})})},o4=({order:s,onClose:n})=>{var g;const[a,i]=S.useState(!1),c=Te(dl),d=((c==null?void 0:c.role)==="Admin"||(c==null?void 0:c.role)==="SystemOwner")&&(s.status==="Completed"||s.status==="PartiallyRefunded"),u=s.status==="Refunded",x=s.status==="PartiallyRefunded",f=u||x,p=()=>{window.print()};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-xl font-bold",children:[" #",s.orderNumber]}),e.jsx("p",{className:"text-sm text-gray-500",children:ws(s.createdAt)})]}),e.jsxs("div",{className:"flex gap-2",children:[d&&e.jsx(ee,{variant:"danger",size:"sm",onClick:()=>i(!0),title:" ",children:e.jsx(p0,{className:"w-4 h-4"})}),e.jsx(ee,{variant:"outline",size:"sm",onClick:p,children:e.jsx(x0,{className:"w-4 h-4"})}),e.jsx("button",{onClick:n,className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-danger-50 hover:text-danger-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("span",{className:ke("px-3 py-1 rounded-full text-sm font-medium",s.status==="Completed"?"bg-success-50 text-success-500":s.status==="Pending"?"bg-warning-50 text-warning-500":s.status==="PartiallyRefunded"?"bg-amber-50 text-amber-600":s.status==="Refunded"?"bg-danger-50 text-danger-500":"bg-gray-50 text-gray-500"),children:(g=q0[s.status])==null?void 0:g.label})]}),s.customerId?e.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-100",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500 mb-2",children:" "}),e.jsxs("div",{className:"space-y-1.5",children:[s.customerName&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ss,{className:"w-4 h-4 text-primary-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:s.customerName})]}),s.customerPhone&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600",children:[e.jsx(Zr,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{dir:"ltr",children:s.customerPhone})]})]})]}):e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("span",{className:"text-gray-400",children:" "})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:""}),e.jsx("div",{className:"space-y-2",children:s.items.map(y=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:y.productName}),e.jsxs("p",{className:"text-sm text-gray-500",children:[y.quantity,"  ",oe(y.unitPrice)]})]}),e.jsx("p",{className:"font-semibold",children:oe(y.total)})]},y.id))})]}),e.jsxs("div",{className:"border-t pt-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:" "}),e.jsx("span",{children:oe(s.subtotal)})]}),s.discountAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsxs("span",{className:"text-danger-500",children:["-",oe(s.discountAmount)]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsxs("span",{className:"text-gray-500",children:[" (",s.taxRate,"%)"]}),e.jsx("span",{children:oe(s.taxAmount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t",children:[e.jsx("span",{children:""}),e.jsx("span",{className:"text-primary-600",children:oe(s.total)})]}),f&&s.refundAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t border-dashed",children:[e.jsx("span",{className:"text-danger-500 font-medium",children:u?"  ":"  "}),e.jsxs("span",{className:"text-danger-500 font-semibold",children:["-",oe(s.refundAmount)]})]}),x&&s.refundAmount>0&&e.jsxs("div",{className:"flex justify-between text-sm font-medium",children:[e.jsx("span",{className:"text-gray-600",children:"  "}),e.jsx("span",{className:"text-success-600",children:oe(s.total-s.refundAmount)})]})]}),s.payments.length>0&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-3",children:""}),e.jsx("div",{className:"space-y-2",children:s.payments.map(y=>{var w;return e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{children:(w=U0[y.method])==null?void 0:w.label}),e.jsx("span",{className:"font-semibold",children:oe(y.amount)})]},y.id)})}),s.changeAmount>0&&e.jsxs("div",{className:"flex justify-between mt-2 text-sm",children:[e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("span",{className:"text-success-500",children:oe(s.changeAmount)})]})]}),s.notes&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold mb-2",children:""}),e.jsx("p",{className:"text-gray-500 bg-gray-50 p-3 rounded-lg",children:s.notes})]}),f&&s.refundReason&&e.jsxs("div",{className:ke("border rounded-lg p-4",u?"bg-danger-50 border-danger-200":"bg-amber-50 border-amber-200"),children:[e.jsx("h3",{className:ke("font-semibold mb-2",u?"text-danger-700":"text-amber-700"),children:u?"  ":"  "}),e.jsxs("div",{className:ke("text-sm space-y-1",u?"text-danger-600":"text-amber-700"),children:[e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:":"})," ",s.refundReason]}),s.refundedAt&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:":"})," ",ws(s.refundedAt)]}),s.refundedByUserName&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:":"})," ",s.refundedByUserName]}),s.refundAmount>0&&e.jsxs("p",{children:[e.jsx("span",{className:"font-medium",children:" :"})," ",oe(s.refundAmount)]})]})]})]}),a&&e.jsx(i4,{order:s,onClose:()=>i(!1),onSuccess:n})]})})},c4=()=>{var B;const{todayOrders:s,isLoadingOrders:n,cancelOrder:a}=O0(),[i,c]=S.useState(""),[d,u]=S.useState(null),[x,f]=S.useState("today"),[p,g]=S.useState(""),[y,w]=S.useState({page:1,pageSize:20}),{data:v,isLoading:N}=M0(x==="today"?void 0:y,{skip:x==="today"}),j=x==="today"?s:((B=v==null?void 0:v.data)==null?void 0:B.items)||[],C=x==="today"?null:v==null?void 0:v.data,T=j.filter($=>{var q;return $.orderNumber.toLowerCase().includes(i.toLowerCase())||((q=$.customerName)==null?void 0:q.toLowerCase().includes(i.toLowerCase()))}),_=x==="today"?n:N,k=$=>{f($),$==="date"&&!p&&g(new Date().toISOString().split("T")[0]),$==="date"&&p?w({page:1,pageSize:20,fromDate:p,toDate:p}):$==="all"&&w({page:1,pageSize:20})},R=$=>{g($),f("date"),w({page:1,pageSize:20,fromDate:$,toDate:$})},b=$=>({Completed:"bg-success-50 text-success-500",Pending:"bg-warning-50 text-warning-500",Cancelled:"bg-danger-50 text-danger-500",Refunded:"bg-gray-100 text-gray-500",PartiallyRefunded:"bg-amber-50 text-amber-600",Draft:"bg-gray-100 text-gray-500"})[$]||"bg-gray-100 text-gray-500",E=$=>$.orderType==="Return",O=async $=>{window.confirm("      ")&&await a($,"  ")},L=($,q)=>{w(Z=>({...Z,[$]:q,page:$==="page"?q:1}))},M=()=>{w({page:1,pageSize:20})},A=y.status||y.fromDate||y.toDate;if(_)return e.jsx(et,{});const I=T.filter($=>($.status==="Completed"||$.status==="PartiallyRefunded")&&$.orderType!=="Return").length,F=T.filter($=>$.status==="Refunded"||$.orderType==="Return").length;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex items-start justify-between gap-6",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-100 flex items-center justify-center",children:e.jsx(zn,{className:"w-5 h-5 text-emerald-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),e.jsx("p",{className:"text-gray-600 text-sm",children:x==="today"?" ":x==="date"&&p?`  ${new Date(p).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})}`:"    "})]}),e.jsxs("div",{className:"flex flex-col gap-3 w-96",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:x==="today"?"primary":"outline",onClick:()=>k("today"),rightIcon:e.jsx(po,{className:"w-4 h-4"}),size:"sm",children:""}),e.jsx(ee,{variant:x==="all"?"primary":"outline",onClick:()=>k("all"),size:"sm",children:""})]}),e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("label",{className:"block text-xs text-gray-600 font-medium mb-1",children:" "}),e.jsx(Oe,{type:"date",value:p,onChange:$=>R($.target.value),className:ke("w-full",x==="date"&&"ring-2 ring-primary-500")})]}),x==="date"&&e.jsx(ee,{variant:"primary",size:"sm",leftIcon:e.jsx(po,{className:"w-4 h-4"}),children:""})]})]})]}),x==="all"&&e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:y.status||"",onChange:$=>L("status",$.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent text-sm",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"Completed",children:""}),e.jsx("option",{value:"Cancelled",children:""}),e.jsx("option",{value:"Pending",children:" "}),e.jsx("option",{value:"Refunded",children:""}),e.jsx("option",{value:"PartiallyRefunded",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx(Oe,{type:"date",value:y.fromDate||"",onChange:$=>L("fromDate",$.target.value||void 0)})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx(Oe,{type:"date",value:y.toDate||"",onChange:$=>L("toDate",$.target.value||void 0)})]}),e.jsx("div",{className:"flex items-end",children:A&&e.jsx(ee,{variant:"outline",onClick:M,rightIcon:e.jsx(Ye,{className:"w-4 h-4"}),className:"w-full",children:" "})})]})}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-4",children:[e.jsxs(ue,{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:x==="today"?T.length:(C==null?void 0:C.totalCount)||0})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-success-500",children:I})]}),e.jsxs(ue,{className:"border-red-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:""}),e.jsx("p",{className:"text-2xl font-bold text-danger-500",children:F})]}),e.jsxs(ue,{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-primary-600",children:oe(T.filter($=>($.status==="Completed"||$.status==="PartiallyRefunded"||$.status==="Refunded")&&$.orderType!=="Return").reduce(($,q)=>{const Z=q.total-(q.refundAmount||0);return $+Z},0))})]}),e.jsxs(ue,{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-2xl font-bold text-orange-600",children:oe(Math.abs(T.filter($=>$.orderType==="Return").reduce(($,q)=>$+q.total,0)))})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"relative",children:[e.jsx(en,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Oe,{placeholder:"     ...",value:i,onChange:$=>c($.target.value),className:"pl-10"})]})}),e.jsxs(ue,{padding:"none",className:"flex flex-col",children:[e.jsx("div",{className:"overflow-auto flex-1",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50 border-b",children:[e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-600 w-24",children:""})]})}),e.jsx("tbody",{children:T.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"text-center py-12",children:[e.jsx(zn,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-gray-400",children:"  "})]})}):T.map($=>{var q;return e.jsxs("tr",{className:ke("border-b hover:bg-gray-50",E($)&&"bg-orange-50/50"),children:[e.jsx("td",{className:"px-4 py-3 font-mono font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[E($)&&e.jsx(f2,{className:"w-4 h-4 text-orange-500"}),e.jsxs("span",{className:ke(E($)&&"text-orange-600"),children:["#",$.orderNumber]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:ws($.createdAt)}),e.jsx("td",{className:"px-4 py-3",children:$.customerName||"-"}),e.jsx("td",{className:ke("px-4 py-3 font-semibold",E($)?"text-orange-600":"text-primary-600"),children:oe($.total)}),e.jsx("td",{className:"px-4 py-3",children:E($)?e.jsxs("span",{className:"text-orange-500",children:[Hx.Return.icon," ",Hx.Return.label]}):$.payments.length>0?$.payments.map(Z=>{var ne;return(ne=U0[Z.method])==null?void 0:ne.label}).join(", "):"-"}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:ke("px-2.5 py-0.5 rounded-full text-xs font-medium",b($.status)),children:(q=q0[$.status])==null?void 0:q.label})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx("button",{onClick:()=>u($),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(gl,{className:"w-4 h-4 text-gray-500"})}),$.status==="Pending"&&e.jsx("button",{onClick:()=>O($.id),className:"p-2 hover:bg-danger-50 rounded-lg transition-colors",children:e.jsx(d0,{className:"w-4 h-4 text-danger-500"})})]})})]},$.id)})})]})}),x==="all"&&C&&C.totalPages>1&&e.jsxs("div",{className:"border-t px-4 py-3 flex items-center justify-between",children:[e.jsxs("div",{className:"text-sm text-gray-600",children:[" ",C.page,"  ",C.totalPages," (",C.totalCount," )"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>L("page",(y.page||1)-1),disabled:!C.hasPreviousPage,rightIcon:e.jsx(Lo,{className:"w-4 h-4"}),children:""}),e.jsx(ee,{variant:"outline",size:"sm",onClick:()=>L("page",(y.page||1)+1),disabled:!C.hasNextPage,leftIcon:e.jsx(Oo,{className:"w-4 h-4"}),children:""})]})]})]}),d&&e.jsx(o4,{order:d,onClose:()=>u(null)}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"          "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"        "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]})]})]})]})})},d4=()=>{const{data:s,isLoading:n,refetch:a,isFetching:i}=o0(void 0,{refetchOnMountOrArgChange:!0}),{data:c,isLoading:d}=_w(),[u,{isLoading:x}]=Mw(),[f,{isLoading:p}]=Ow(),g=(s==null?void 0:s.data)||null,y=(c==null?void 0:c.data)||[],w=g&&!g.isClosed;return{currentShift:g,shifts:y,hasActiveShift:w,isLoading:n,isLoadingShifts:d,isFetching:i,refetch:a,openShift:async j=>{var C;try{const T=await u(j).unwrap();return T.success&&T.data?(J.success("   "),a(),T.data):(J.error(T.message||"   "),null)}catch(T){return(C=T.data)!=null&&C.errorCode||J.error("   "),null}},closeShift:async j=>{var C;try{const T=await f(j).unwrap();return T.success&&T.data?(J.success("   "),a(),T.data):(J.error(T.message||"   "),null)}catch(T){return(C=T.data)!=null&&C.errorCode||J.error("   "),a(),null}},isOpening:x,isClosing:p}},u4=()=>{const[s,n]=S.useState(!1),[a,i]=S.useState(!1),[c,d]=S.useState(!1),[u,x]=S.useState(!1),[f,p]=S.useState(null),[g,y]=S.useState(""),[w,v]=S.useState(""),[N,j]=S.useState(""),{user:C}=Fo(),T=(C==null?void 0:C.role)==="Admin",{currentShift:_,hasActiveShift:k,isLoading:R,openShift:b,closeShift:E,isOpening:O,isClosing:L}=d4(),M=async()=>{await b({openingBalance:Number(g)}),n(!1),y("")},A=async()=>{await E({closingBalance:Number(w),notes:N}),Ks.clear(),i(!1),v(""),j("")},I=F=>{p(F),x(!0)};return R?e.jsx(et,{}):e.jsxs("div",{className:"h-full overflow-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),e.jsx("p",{className:"text-gray-500 mt-1",children:"    "})]}),e.jsx("div",{className:"flex gap-3",children:k?e.jsxs(e.Fragment,{children:[e.jsx(ee,{variant:"secondary",onClick:()=>d(!0),rightIcon:e.jsx(Tr,{className:"w-5 h-5"}),children:" "}),e.jsx(ee,{variant:"danger",onClick:()=>i(!0),rightIcon:e.jsx(o2,{className:"w-5 h-5"}),children:" "})]}):e.jsx(ee,{variant:"success",onClick:()=>n(!0),rightIcon:e.jsx(a2,{className:"w-5 h-5"}),children:"  "})})]}),e.jsxs(ue,{className:"text-center py-8",children:[e.jsx("div",{className:ke("w-20 h-20 rounded-full mx-auto mb-4 flex items-center justify-center",k?"bg-success-50":"bg-gray-100"),children:e.jsx(Vn,{className:ke("w-10 h-10",k?"text-success-500":"text-gray-400")})}),e.jsx("h2",{className:"text-xl font-bold mb-2",children:k?"  ":"    "}),_&&k&&e.jsxs("p",{className:"text-gray-500",children:[": ",ws(_.openedAt)]})]}),_&&k&&_.isHandedOver&&e.jsx(ue,{className:"bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Tr,{className:"w-5 h-5 text-blue-600"}),e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:" "}),"  ",_.handedOverFromUserName," "," ",ws(_.handedOverAt||"")]})]})}),_&&k&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:oe(_.openingBalance)})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-success-50 rounded-xl flex items-center justify-center",children:e.jsx(go,{className:"w-6 h-6 text-success-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:_.totalOrders})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-warning-50 rounded-xl flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-warning-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:oe(_.totalCash+_.totalCard)})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-xl flex items-center justify-center",children:e.jsx(xo,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:oe(_.totalCash)})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:e.jsx(Ja,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-xl font-bold text-gray-800",children:oe(_.totalCard)})]})]})})]})]}),T&&e.jsx(k0,{onForceClose:I,currentUserId:C==null?void 0:C.id,isAdmin:T}),_&&e.jsx(C2,{shift:_,isOpen:c,onClose:()=>d(!1),onSuccess:()=>{d(!1)},availableUsers:[{id:2,name:" ",email:"ahmed@kasserpro.com"},{id:3,name:" ",email:"fatima@kasserpro.com"}]}),f&&e.jsx(S0,{shift:f,isOpen:u,onClose:()=>{x(!1),p(null)},onSuccess:()=>{x(!1),p(null)}}),e.jsx(Wt,{isOpen:s,onClose:()=>n(!1),title:"  ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Oe,{label:" ",type:"number",value:g,onChange:F=>y(F.target.value),placeholder:"0.00",hint:"      "}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{variant:"secondary",onClick:()=>n(!1),className:"flex-1",children:""}),e.jsx(ee,{variant:"success",onClick:M,isLoading:O,className:"flex-1",children:" "})]})]})}),e.jsx(Wt,{isOpen:a,onClose:()=>i(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[_&&e.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:" :"}),e.jsx("span",{className:"font-medium",children:oe(_.openingBalance)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-500",children:" :"}),e.jsx("span",{className:"font-medium",children:oe(_.totalCash)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2",children:[e.jsx("span",{className:"text-gray-700 font-medium",children:" :"}),e.jsx("span",{className:"font-bold text-primary-600",children:oe(_.openingBalance+_.totalCash)})]})]}),e.jsx(Oe,{label:"   ",type:"number",value:w,onChange:F=>v(F.target.value),placeholder:"0.00"}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:" ()"}),e.jsx("textarea",{value:N,onChange:F=>j(F.target.value),placeholder:"   ...",rows:3,className:"w-full px-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{variant:"secondary",onClick:()=>i(!1),className:"flex-1",children:""}),e.jsx(ee,{variant:"danger",onClick:A,isLoading:L,className:"flex-1",children:" "})]})]})})]})},m4=()=>{const{user:s}=Fo(),n=(s==null?void 0:s.role)==="Admin",[a,i]=S.useState(null),[c,d]=S.useState(!1),u=x=>{i(x),d(!0)};return n?e.jsxs("div",{className:"h-full overflow-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),e.jsx("p",{className:"text-gray-500 mt-1",children:"      "})]}),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-lg",children:[e.jsx(Tr,{className:"w-5 h-5 text-blue-600"}),e.jsx("span",{className:"text-sm font-medium text-blue-800",children:" "})]})]}),e.jsx(ue,{className:"bg-blue-50 border-blue-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Vn,{className:"w-5 h-5 text-blue-600 mt-0.5"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-blue-900",children:" "}),e.jsxs("ul",{className:"text-sm text-blue-700 mt-2 space-y-1 list-disc list-inside",children:[e.jsx("li",{children:"       "}),e.jsx("li",{children:"       "}),e.jsx("li",{children:"        "}),e.jsx("li",{children:"         12   "})]})]})]})}),e.jsx(k0,{onForceClose:u,currentUserId:s==null?void 0:s.id,isAdmin:n}),a&&e.jsx(S0,{shift:a,isOpen:c,onClose:()=>{d(!1),i(null)},onSuccess:()=>{d(!1),i(null)}})]}):e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs(ue,{className:"max-w-md text-center p-8",children:[e.jsx(Fn,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),e.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"    "})]})})},B0=({customer:s,onClose:n,onSuccess:a})=>{const i=!!s,[c,d]=S.useState({phone:"",name:"",email:"",address:"",notes:"",creditLimit:""}),[u,x]=S.useState({}),[f,{isLoading:p}]=_0(),[g,{isLoading:y}]=nS(),w=p||y;S.useEffect(()=>{s&&d({phone:s.phone||"",name:s.name||"",email:s.email||"",address:s.address||"",notes:s.notes||"",creditLimit:s.creditLimit>0?s.creditLimit.toString():""})},[s]);const v=()=>{const j={};return c.phone.trim()?/^01[0125][0-9]{8}$/.test(c.phone.trim())||(j.phone="   "):j.phone="  ",c.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(c.email)&&(j.email="   "),x(j),Object.keys(j).length===0},N=async j=>{if(j.preventDefault(),!!v())try{if(i&&s){const C={name:c.name||void 0,email:c.email||void 0,address:c.address||void 0,notes:c.notes||void 0,creditLimit:c.creditLimit?parseFloat(c.creditLimit):0},T=await g({id:s.id,data:C}).unwrap();T.success?(J.success("    "),a==null||a(),n()):J.error(T.message||"  ")}else{const C={phone:c.phone.trim(),name:c.name||void 0,email:c.email||void 0,address:c.address||void 0,notes:c.notes||void 0},T=await f(C).unwrap();T.success?(J.success("   "),a==null||a(),n()):J.error(T.message||"  ")}}catch{J.error(i?"  ":"  ")}};return e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md animate-scale-in",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 flex items-center justify-center",children:i?e.jsx(tn,{className:"w-5 h-5 text-primary-600"}):e.jsx(j0,{className:"w-5 h-5 text-primary-600"})}),e.jsx("h2",{className:"text-lg font-bold",children:i?" ":"  "})]}),e.jsx("button",{onClick:n,className:"w-10 h-10 rounded-lg bg-gray-100 flex items-center justify-center hover:bg-danger-50 hover:text-danger-500 transition-colors",children:e.jsx(Ye,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:N,className:"p-6 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("span",{className:"text-danger-500",children:"*"})]}),e.jsx("input",{type:"tel",value:c.phone,onChange:j=>d({...c,phone:j.target.value}),placeholder:"01xxxxxxxxx",disabled:i,className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${i?"bg-gray-100 cursor-not-allowed":""} ${u.phone?"border-danger-500":"border-gray-200"}`,dir:"ltr"}),u.phone&&e.jsx("p",{className:"text-danger-500 text-sm mt-1",children:u.phone})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("input",{type:"text",value:c.name,onChange:j=>d({...c,name:j.target.value}),placeholder:" ",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"email",value:c.email,onChange:j=>d({...c,email:j.target.value}),placeholder:"email@example.com",className:`w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${u.email?"border-danger-500":"border-gray-200"}`,dir:"ltr"}),u.email&&e.jsx("p",{className:"text-danger-500 text-sm mt-1",children:u.email})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("input",{type:"text",value:c.address,onChange:j=>d({...c,address:j.target.value}),placeholder:" ",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("textarea",{value:c.notes,onChange:j=>d({...c,notes:j.target.value}),placeholder:" ...",rows:2,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 resize-none"})]}),i&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  (.)"}),e.jsx("input",{type:"number",value:c.creditLimit,onChange:j=>d({...c,creditLimit:j.target.value}),placeholder:"0 =  ",min:"0",step:"0.01",className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",dir:"ltr"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:" 0    "})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{type:"button",variant:"secondary",onClick:n,className:"flex-1",disabled:w,children:""}),e.jsx(ee,{type:"submit",variant:"primary",isLoading:w,className:"flex-1",children:i?" ":" "})]})]})]})})},f4=({customerId:s,customerName:n,currentPoints:a,mode:i,onClose:c,onSuccess:d})=>{const[u,x]=S.useState(""),[f,{isLoading:p}]=aS(),[g,{isLoading:y}]=lS(),w=p||y,v=async R=>{var E;R.preventDefault();const b=parseInt(u);if(!u||isNaN(b)||b<=0){Ae.error("    ");return}if(i==="redeem"&&b>a){Ae.error("      ");return}try{i==="add"?(await f({customerId:s,points:b}).unwrap()).success&&(Ae.success(`  ${b}  `),d(),c()):(await g({customerId:s,points:b}).unwrap()).success&&(Ae.success(`  ${b}  `),d(),c())}catch(O){const L=((E=O==null?void 0:O.data)==null?void 0:E.message)||(i==="add"?"   ":"   ");Ae.error(L)}},N=i==="add",j=N?"  ":"  ",C=N?e.jsx($t,{className:"w-5 h-5"}):e.jsx(Do,{className:"w-5 h-5"}),T=N?"bg-green-100":"bg-orange-100",_=N?"text-green-600":"text-orange-600",k=N?"primary":"secondary";return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[60]",onClick:c}),e.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-md",onClick:R=>R.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`w-10 h-10 ${T} rounded-full flex items-center justify-center`,children:e.jsx("span",{className:_,children:C})}),e.jsx("h2",{className:"text-lg font-bold text-gray-800",children:j})]}),e.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:v,className:"p-6 space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:""}),e.jsx("p",{className:"font-semibold text-gray-800",children:n||"  "}),e.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[" :"," ",e.jsxs("span",{className:"font-bold text-yellow-600",children:[a," "]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx(Oe,{type:"number",value:u,onChange:R=>x(R.target.value),placeholder:"  ",min:"1",max:i==="redeem"?a:void 0,required:!0,autoFocus:!0})]}),i==="redeem"&&a===0&&e.jsxs("div",{className:"flex items-start gap-2 bg-orange-50 border border-orange-200 rounded-lg p-3",children:[e.jsx(Fn,{className:"w-5 h-5 text-orange-600 flex-shrink-0 mt-0.5"}),e.jsx("p",{className:"text-sm text-orange-800",children:"      "})]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:c,disabled:w,className:"flex-1",children:""}),e.jsx(ee,{type:"submit",variant:k,disabled:w||i==="redeem"&&a===0,className:"flex-1",children:w?" ...":N?"":""})]})]})]})})]})},h4=({customer:s,onClose:n})=>{var O,L,M;const[a,i]=S.useState("orders"),[c,d]=S.useState(1),[u,x]=S.useState(!1),[f,p]=S.useState(!1),[g,y]=S.useState("add"),{data:w,refetch:v}=sS(s.id),N=(w==null?void 0:w.data)||s,j=5,{data:C,isLoading:T}=mS({customerId:N.id,page:c,pageSize:j}),_=((O=C==null?void 0:C.data)==null?void 0:O.items)||[],k=((L=C==null?void 0:C.data)==null?void 0:L.totalPages)||1,R=((M=C==null?void 0:C.data)==null?void 0:M.totalCount)||0,b=A=>{const I={Draft:{label:"",color:"bg-gray-100 text-gray-800"},Pending:{label:" ",color:"bg-yellow-100 text-yellow-800"},Completed:{label:"",color:"bg-green-100 text-green-800"},Cancelled:{label:"",color:"bg-red-100 text-red-800"},Refunded:{label:"",color:"bg-purple-100 text-purple-800"},PartiallyRefunded:{label:" ",color:"bg-orange-100 text-orange-800"}},{label:F,color:B}=I[A]||{label:A,color:"bg-gray-100 text-gray-800"};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${B}`,children:F})},E=A=>{const I={DineIn:{label:"",icon:""},Takeaway:{label:"",icon:""},Delivery:{label:"",icon:""},Return:{label:"",icon:""}},{label:F,icon:B}=I[A]||{label:" ",icon:""};return e.jsxs("span",{className:ke("text-xs",A==="Return"&&"text-orange-600"),children:[B," ",F]})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-3xl max-h-[85vh] flex flex-col",onClick:A=>A.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Ss,{className:"w-7 h-7 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:N.name||"  "}),e.jsxs("p",{className:"text-sm text-gray-500 flex items-center gap-1",children:[e.jsx(Zr,{className:"w-4 h-4"}),N.phone]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1 bg-yellow-100 text-yellow-700 px-3 py-1 rounded-full",children:[e.jsx(Ao,{className:"w-4 h-4 fill-yellow-500"}),e.jsx("span",{className:"font-semibold",children:N.loyaltyPoints}),e.jsx("span",{className:"text-xs",children:""})]}),e.jsx("button",{onClick:()=>{y("add"),p(!0)},className:"p-2 hover:bg-green-50 rounded-lg transition-colors group",title:" ",children:e.jsx($t,{className:"w-4 h-4 text-green-600 group-hover:text-green-700"})}),e.jsx("button",{onClick:()=>{y("redeem"),p(!0)},disabled:N.loyaltyPoints===0,className:"p-2 hover:bg-orange-50 rounded-lg transition-colors group disabled:opacity-50 disabled:cursor-not-allowed",title:" ",children:e.jsx(Do,{className:"w-4 h-4 text-orange-600 group-hover:text-orange-700"})}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-500"})})]})]}),e.jsxs("div",{className:"grid grid-cols-4 gap-4 p-4 bg-gray-50 border-b",children:[e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-500 text-sm mb-1",children:[e.jsx(go,{className:"w-4 h-4"})," "]}),e.jsx("p",{className:"font-bold text-lg text-gray-800",children:N.totalOrders})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-500 text-sm mb-1",children:[e.jsx(el,{className:"w-4 h-4"})," "]}),e.jsx("p",{className:"font-bold text-lg text-green-600",children:oe(N.totalSpent)})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-orange-500 text-sm mb-1",children:[e.jsx(el,{className:"w-4 h-4"})," "]}),e.jsx("p",{className:"font-bold text-lg text-orange-600",children:N.totalDue>0?oe(N.totalDue):""}),N.creditLimit>0&&e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" ",oe(N.creditLimit)]})]}),e.jsxs("div",{className:"text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1 text-gray-500 text-sm mb-1",children:[e.jsx(po,{className:"w-4 h-4"})," "]}),e.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:N.lastOrderAt?ws(N.lastOrderAt).split(",")[0]:""})]})]}),e.jsxs("div",{className:"flex border-b",children:[e.jsxs("button",{onClick:()=>i("orders"),className:ke("flex-1 py-3 text-sm font-medium transition-colors",a==="orders"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"),children:["  (",R,")"]}),e.jsx("button",{onClick:()=>i("details"),className:ke("flex-1 py-3 text-sm font-medium transition-colors",a==="details"?"text-primary-600 border-b-2 border-primary-600":"text-gray-500 hover:text-gray-700"),children:" "})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4",children:[a==="orders"&&e.jsx("div",{children:T?e.jsx("div",{className:"flex justify-center py-8",children:e.jsx(et,{})}):_.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500",children:[e.jsx(go,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),e.jsx("p",{children:"    "})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{className:"bg-gray-50 text-gray-600",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-right py-3 px-3 font-medium",children:" "}),e.jsx("th",{className:"text-right py-3 px-3 font-medium",children:""}),e.jsx("th",{className:"text-right py-3 px-3 font-medium",children:""}),e.jsx("th",{className:"text-right py-3 px-3 font-medium",children:""}),e.jsx("th",{className:"text-right py-3 px-3 font-medium",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:_.map(A=>e.jsxs("tr",{className:ke("hover:bg-gray-50 transition-colors",A.orderType==="Return"&&"bg-orange-50"),children:[e.jsx("td",{className:"py-3 px-3",children:e.jsx("span",{className:"font-mono text-xs bg-gray-100 px-2 py-1 rounded",children:A.orderNumber})}),e.jsx("td",{className:"py-3 px-3 text-gray-600",children:ws(A.createdAt)}),e.jsx("td",{className:"py-3 px-3",children:E(A.orderType)}),e.jsx("td",{className:"py-3 px-3",children:b(A.status)}),e.jsx("td",{className:ke("py-3 px-3 font-semibold",A.total<0?"text-orange-600":"text-gray-800"),children:oe(A.total)})]},A.id))})]})}),k>1&&e.jsxs("div",{className:"flex items-center justify-between mt-4 pt-4 border-t",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>d(A=>Math.max(1,A-1)),disabled:c===1,children:[e.jsx(Lo,{className:"w-4 h-4 ml-1"}),""]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[" ",c,"  ",k]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>d(A=>Math.min(k,A+1)),disabled:c===k,children:["",e.jsx(Oo,{className:"w-4 h-4 mr-1"})]})]})]})}),a==="details"&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:" "}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Zr,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"font-medium",children:N.phone})]})]}),N.email&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ku,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"font-medium",children:N.email})]})]}),N.address&&e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(m0,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"font-medium",children:N.address})]})]})]}),N.notes&&e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-2",children:""}),e.jsx("p",{className:"text-gray-600",children:N.notes})]}),e.jsxs("div",{className:"bg-gray-50 rounded-xl p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:" "}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:" "}),e.jsx("p",{className:"font-medium",children:ws(N.createdAt)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-gray-500",children:""}),e.jsx("p",{className:ke("font-medium",N.isActive?"text-green-600":"text-red-600"),children:N.isActive?"":" "})]})]})]}),(N.totalDue>0||N.creditLimit>0)&&e.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[e.jsx("h3",{className:"font-semibold text-gray-800 mb-3",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-bold text-orange-600 text-lg",children:oe(N.totalDue)})]}),N.creditLimit>0&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-semibold text-gray-800",children:oe(N.creditLimit)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-semibold text-green-600",children:oe(N.creditLimit-N.totalDue)})]}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-500 mb-1",children:[e.jsx("span",{children:" "}),e.jsxs("span",{children:[(N.totalDue/N.creditLimit*100).toFixed(0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:ke("h-2 rounded-full transition-all",N.totalDue/N.creditLimit>.8?"bg-red-500":N.totalDue/N.creditLimit>.5?"bg-orange-500":"bg-green-500"),style:{width:`${Math.min(N.totalDue/N.creditLimit*100,100)}%`}})})]})]})]})]}),e.jsxs(ee,{variant:"outline",className:"w-full",onClick:()=>x(!0),children:[e.jsx(gl,{className:"w-4 h-4 ml-2"}),"  "]})]})]})]})}),u&&e.jsx(B0,{customer:N,onClose:()=>x(!1)}),f&&e.jsx(f4,{customerId:N.id,customerName:N.name||N.phone,currentPoints:N.loyaltyPoints,mode:g,onClose:()=>p(!1),onSuccess:()=>{v()}})]})},x4=()=>{var q,Z,ne,Y,H;const[s,n]=S.useState(1),[a,i]=S.useState(""),[c,d]=S.useState(""),[u,x]=S.useState(!1),[f,p]=S.useState(null),[g,y]=S.useState(null),[w,v]=S.useState(null),N=10,{data:j,isLoading:C,isFetching:T}=tS({page:s,pageSize:N,search:a||void 0}),[_,{isLoading:k}]=iS(),R=((q=j==null?void 0:j.data)==null?void 0:q.items)||[],b=((Z=j==null?void 0:j.data)==null?void 0:Z.totalPages)||1,E=((ne=j==null?void 0:j.data)==null?void 0:ne.totalCount)||0,O=((Y=j==null?void 0:j.data)==null?void 0:Y.hasNextPage)||!1,L=((H=j==null?void 0:j.data)==null?void 0:H.hasPreviousPage)||!1,M=V=>{V.preventDefault(),i(c),n(1)},A=V=>{p(V),x(!0)},I=async()=>{if(g)try{const V=await _(g.id).unwrap();V.success?(J.success("   "),y(null)):J.error(V.message||"  ")}catch{J.error("  ")}},F=()=>{x(!1),p(null)};if(C)return e.jsx(et,{});const B=R.reduce((V,D)=>V+D.totalDue,0),$=R.reduce((V,D)=>V+D.totalSpent,0);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-cyan-100 flex items-center justify-center",children:e.jsx(Tr,{className:"w-5 h-5 text-cyan-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"     "})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(ee,{variant:"primary",onClick:()=>x(!0),children:[e.jsx(j0,{className:"w-5 h-5"}),"  "]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ue,{className:"border-cyan-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:E})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:oe($)})]}),e.jsxs(ue,{className:"border-amber-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:oe(B)})]})]}),e.jsx("form",{onSubmit:M,children:e.jsx(ue,{children:e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("div",{className:"relative flex-1 max-w-md",children:[e.jsx(en,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",value:c,onChange:V=>d(V.target.value),placeholder:"    ...",className:"w-full pr-10 pl-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsx(ee,{type:"submit",variant:"secondary",children:""}),a&&e.jsx(ee,{type:"button",variant:"ghost",onClick:()=>{i(""),d(""),n(1)},children:""})]})})}),e.jsxs(ue,{padding:"none",className:"flex-1 flex flex-col",children:[e.jsx("div",{className:"overflow-x-auto flex-1",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600",children:""}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600 hidden md:table-cell",children:""}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600 hidden lg:table-cell",children:" "}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600 hidden lg:table-cell",children:" "}),e.jsx("th",{className:"text-right px-6 py-4 text-sm font-semibold text-gray-600 hidden xl:table-cell",children:" "}),e.jsx("th",{className:"text-center px-6 py-4 text-sm font-semibold text-gray-600",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:R.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:8,className:"px-6 py-12 text-center text-gray-500",children:[e.jsx(Tr,{className:"w-12 h-12 mx-auto mb-4 text-gray-300"}),e.jsx("p",{className:"text-lg font-medium",children:"  "}),e.jsx("p",{className:"text-sm",children:"   "})]})}):R.map(V=>e.jsxs("tr",{className:ke("hover:bg-gray-50 transition-colors",T&&"opacity-50"),children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center shrink-0",children:e.jsx("span",{className:"text-primary-600 font-semibold",children:(V.name||V.phone)[0].toUpperCase()})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:V.name||""}),V.lastOrderAt&&e.jsxs("p",{className:"text-xs text-gray-400",children:[" : ",ws(V.lastOrderAt)]})]})]})}),e.jsx("td",{className:"px-6 py-4 font-mono text-gray-600",dir:"ltr",children:V.phone}),e.jsx("td",{className:"px-6 py-4 text-gray-600 hidden md:table-cell",children:V.address||""}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ao,{className:"w-4 h-4 text-amber-500"}),e.jsx("span",{className:"font-medium text-gray-800",children:V.loyaltyPoints})]})}),e.jsxs("td",{className:"px-6 py-4 text-gray-600 hidden lg:table-cell",children:[V.totalOrders," "]}),e.jsx("td",{className:"px-6 py-4 text-gray-600 hidden lg:table-cell",children:oe(V.totalSpent)}),e.jsx("td",{className:"px-6 py-4 hidden xl:table-cell",children:V.totalDue>0?e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsx("span",{className:"font-semibold text-orange-600",children:oe(V.totalDue)}),V.creditLimit>0&&e.jsxs("span",{className:"text-xs text-gray-500",children:[" ",oe(V.creditLimit)]})]}):e.jsx("span",{className:"text-gray-400",children:""})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>v(V),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:" ",children:e.jsx(gl,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>A(V),className:"p-2 text-gray-400 hover:text-primary-600 hover:bg-primary-50 rounded-lg transition-colors",title:"",children:e.jsx(tn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>y(V),className:"p-2 text-gray-400 hover:text-danger-600 hover:bg-danger-50 rounded-lg transition-colors",title:"",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},V.id))})]})}),b>1&&e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-t border-gray-200 bg-gray-50",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",s,"  ",b]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(V=>V-1),disabled:!L||T,children:[e.jsx(Lo,{className:"w-4 h-4"}),""]}),e.jsxs(ee,{variant:"outline",size:"sm",onClick:()=>n(V=>V+1),disabled:!O||T,children:["",e.jsx(Oo,{className:"w-4 h-4"})]})]})]})]}),u&&e.jsx(B0,{customer:f,onClose:F}),w&&e.jsx(h4,{customer:w,onClose:()=>v(null)}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-sm animate-scale-in p-6",children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 bg-danger-100 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(is,{className:"w-8 h-8 text-danger-600"})}),e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:" "}),e.jsxs("p",{className:"text-gray-500",children:['      "',g.name||g.phone,'"']}),e.jsx("p",{className:"text-sm text-danger-500 mt-2",children:"     "})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(ee,{variant:"secondary",onClick:()=>y(null),className:"flex-1",disabled:k,children:""}),e.jsx(ee,{variant:"danger",onClick:I,isLoading:k,className:"flex-1",children:""})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"        "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]})]})]})]})})},p4=tt.injectEndpoints({endpoints:s=>({getSuppliers:s.query({query:()=>"/suppliers",providesTags:n=>n!=null&&n.data?[...n.data.map(({id:a})=>({type:"Suppliers",id:a})),{type:"Suppliers",id:"LIST"}]:[{type:"Suppliers",id:"LIST"}]}),getSupplier:s.query({query:n=>`/suppliers/${n}`,providesTags:(n,a,i)=>[{type:"Suppliers",id:i}]}),createSupplier:s.mutation({query:n=>({url:"/suppliers",method:"POST",body:n}),invalidatesTags:[{type:"Suppliers",id:"LIST"}]}),updateSupplier:s.mutation({query:({id:n,data:a})=>({url:`/suppliers/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Suppliers",id:i},{type:"Suppliers",id:"LIST"}]}),deleteSupplier:s.mutation({query:n=>({url:`/suppliers/${n}`,method:"DELETE"}),invalidatesTags:[{type:"Suppliers",id:"LIST"}]})})}),{useGetSuppliersQuery:em,useCreateSupplierMutation:g4,useUpdateSupplierMutation:y4,useDeleteSupplierMutation:v4}=p4;function j4({supplier:s,onClose:n}){const a=!!s,[i,c]=S.useState({name:"",nameEn:"",phone:"",email:"",address:"",taxNumber:"",contactPerson:"",notes:"",isActive:!0}),[d,{isLoading:u}]=g4(),[x,{isLoading:f}]=y4();S.useEffect(()=>{s&&c({name:s.name,nameEn:s.nameEn||"",phone:s.phone||"",email:s.email||"",address:s.address||"",taxNumber:s.taxNumber||"",contactPerson:s.contactPerson||"",notes:s.notes||"",isActive:s.isActive})},[s]);const p=async y=>{var w;if(y.preventDefault(),!i.name.trim()){J.error(" ");return}try{if(a){const v=await x({id:s.id,data:i}).unwrap();v.success&&(J.success(v.message||"   "),n())}else{const v={name:i.name,nameEn:i.nameEn||void 0,phone:i.phone||void 0,email:i.email||void 0,address:i.address||void 0,taxNumber:i.taxNumber||void 0,contactPerson:i.contactPerson||void 0,notes:i.notes||void 0},N=await d(v).unwrap();N.success&&(J.success(N.message||"   "),n())}}catch(v){J.error(((w=v==null?void 0:v.data)==null?void 0:w.message)||" ")}},g=y=>{const{name:w,value:v,type:N}=y.target;c(j=>({...j,[w]:N==="checkbox"?y.target.checked:v}))};return e.jsx(Wt,{isOpen:!0,onClose:n,title:a?" ":" ",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Oe,{type:"text",name:"name",value:i.name,onChange:g,placeholder:"  ",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),e.jsx(Oe,{type:"text",name:"nameEn",value:i.nameEn,onChange:g,placeholder:"Supplier Name in English"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx(Oe,{type:"tel",name:"phone",value:i.phone,onChange:g,placeholder:"01xxxxxxxxx"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx(Oe,{type:"email",name:"email",value:i.email,onChange:g,placeholder:"supplier@example.com"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx(Oe,{type:"text",name:"address",value:i.address,onChange:g,placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx(Oe,{type:"text",name:"taxNumber",value:i.taxNumber,onChange:g,placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx(Oe,{type:"text",name:"contactPerson",value:i.contactPerson,onChange:g,placeholder:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("textarea",{name:"notes",value:i.notes,onChange:g,placeholder:" ",rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),a&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"isActive",name:"isActive",checked:i.isActive,onChange:g,className:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"}),e.jsx("label",{htmlFor:"isActive",className:"text-sm font-medium text-gray-700",children:" "})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(ee,{type:"submit",disabled:u||f,className:"flex-1",children:u||f?" ...":a?"":""}),e.jsx(ee,{type:"button",variant:"secondary",onClick:n,disabled:u||f,className:"flex-1",children:""})]})]})})}function b4(){const[s,n]=S.useState(""),[a,i]=S.useState(!1),[c,d]=S.useState(null),{data:u,isLoading:x}=em(),[f]=v4(),g=((u==null?void 0:u.data)||[]).filter(j=>{var C,T,_;return j.name.toLowerCase().includes(s.toLowerCase())||((C=j.nameEn)==null?void 0:C.toLowerCase().includes(s.toLowerCase()))||((T=j.phone)==null?void 0:T.includes(s))||((_=j.email)==null?void 0:_.toLowerCase().includes(s.toLowerCase()))}),y=()=>{d(null),i(!0)},w=j=>{d(j),i(!0)},v=async(j,C)=>{var T;if(confirm(`      "${C}"`))try{const _=await f(j).unwrap();_.success&&J.success(_.message||"   ")}catch(_){J.error(((T=_==null?void 0:_.data)==null?void 0:T.message)||"  ")}};if(x)return e.jsx(et,{});const N=g.filter(j=>j.isActive).length;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.jsx($t,{className:"w-5 h-5 text-indigo-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),e.jsx("p",{className:"text-gray-600",children:"   "})]}),e.jsxs(ee,{onClick:y,className:"flex items-center gap-2",children:[e.jsx($t,{className:"w-4 h-4"})," "]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(ue,{className:"border-indigo-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:g.length})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:N})]})]}),e.jsx(ue,{className:"mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx(en,{className:"absolute right-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(Oe,{type:"text",placeholder:"   (   ...)",value:s,onChange:j=>n(j.target.value),className:"pr-10"})]})}),e.jsx(ue,{padding:"none",children:g.length===0?e.jsx("div",{className:"text-center py-12",children:e.jsx("p",{className:"text-gray-500",children:s?"   ":"  "})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:g.map(j=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-gray-900",children:j.name}),j.nameEn&&e.jsx("div",{className:"text-sm text-gray-500",children:j.nameEn})]})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j.phone||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j.email||"-"}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900",children:j.contactPerson||"-"}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${j.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:j.isActive?"":" "})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>w(j),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"",children:e.jsx(tn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>v(j.id,j.name),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},j.id))})]})})}),a&&e.jsx(j4,{supplier:c,onClose:()=>{i(!1),d(null)}})]})})}const N4=({branch:s,onClose:n})=>{const a=!!s,[i,c]=S.useState({name:(s==null?void 0:s.name)||"",code:(s==null?void 0:s.code)||"",address:(s==null?void 0:s.address)||"",phone:(s==null?void 0:s.phone)||"",isActive:(s==null?void 0:s.isActive)??!0}),[d,{isLoading:u}]=y2(),[x,{isLoading:f}]=v2(),p=u||f,g=async w=>{var v;if(w.preventDefault(),!i.name.trim()){Ae.error("  ");return}if(!i.code.trim()){Ae.error("  ");return}try{a?(await x({id:s.id,data:i}).unwrap()).success&&(Ae.success("   "),n()):(await d({name:i.name,code:i.code,address:i.address||void 0,phone:i.phone||void 0}).unwrap()).success&&(Ae.success("   "),n())}catch(N){const j=((v=N==null?void 0:N.data)==null?void 0:v.message)||(a?"   ":"   ");Ae.error(j)}},y=(w,v)=>{c(N=>({...N,[w]:v}))};return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"fixed inset-0 bg-black/50 z-50",onClick:n}),e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",onClick:w=>w.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(yt,{className:"w-5 h-5 text-primary-600"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a?" ":"  "})]}),e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:g,className:"p-6 space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Oe,{type:"text",value:i.name,onChange:w=>y("name",w.target.value),placeholder:":  ",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(Oe,{type:"text",value:i.code,onChange:w=>y("code",w.target.value),placeholder:": BR001",required:!0,disabled:a}),a&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"     "})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-gray-800",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx(Oe,{type:"tel",value:i.phone,onChange:w=>y("phone",w.target.value),placeholder:": 01234567890"})]}),a&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("div",{className:"flex items-center gap-4 h-10",children:[e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isActive",checked:i.isActive,onChange:()=>y("isActive",!0),className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:""})]}),e.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[e.jsx("input",{type:"radio",name:"isActive",checked:!i.isActive,onChange:()=>y("isActive",!1),className:"w-4 h-4 text-primary-600"}),e.jsx("span",{className:"text-sm text-gray-700",children:" "})]})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("textarea",{value:i.address,onChange:w=>y("address",w.target.value),placeholder:": 123   ",rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none"})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:n,disabled:p,className:"flex-1",children:""}),e.jsx(ee,{type:"submit",variant:"primary",disabled:p,className:"flex-1",children:p?" ...":a?" ":" "})]})]})]})})]})},w4=()=>{const[s,n]=S.useState(!1),[a,i]=S.useState(),{data:c,isLoading:d}=N0(),[u,{isLoading:x}]=j2(),f=(c==null?void 0:c.data)||[],p=v=>{i(v),n(!0)},g=async v=>{var N;if(window.confirm(`      "${v.name}"

:       .`))try{(await u(v.id).unwrap()).success&&Ae.success("   ")}catch(j){Ae.error(((N=j==null?void 0:j.data)==null?void 0:N.message)||"   ")}},y=()=>{n(!1),i(void 0)};if(d)return e.jsx(et,{});const w=f.filter(v=>v.isActive).length;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(yt,{className:"w-5 h-5 text-blue-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"        "})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(ee,{variant:"primary",onClick:()=>n(!0),className:"gap-2",children:[e.jsx($t,{className:"w-4 h-4"}),"  "]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs(ue,{className:"border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:f.length})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:w})]})]}),f.length===0?e.jsxs(ue,{className:"p-12 text-center",children:[e.jsx(yt,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-500 mb-6",children:"    "}),e.jsxs(ee,{variant:"primary",onClick:()=>n(!0),className:"gap-2",children:[e.jsx($t,{className:"w-4 h-4"}),"  "]})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:" "}),e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:""}),e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:""}),e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:""}),e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:""}),e.jsx("th",{className:"text-right py-4 px-6 text-sm font-semibold text-gray-700",children:" "}),e.jsx("th",{className:"text-center py-4 px-6 text-sm font-semibold text-gray-700",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-100",children:f.map(v=>e.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(yt,{className:"w-5 h-5 text-primary-600"})}),e.jsx("div",{children:e.jsx("p",{className:"font-semibold text-gray-800",children:v.name})})]})}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:"font-mono text-sm bg-gray-100 px-2 py-1 rounded",children:v.code})}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:v.address||""}),e.jsx("td",{className:"py-4 px-6 text-gray-600",children:v.phone||""}),e.jsx("td",{className:"py-4 px-6",children:e.jsx("span",{className:ke("px-3 py-1 rounded-full text-xs font-medium",v.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:v.isActive?"":" "})}),e.jsx("td",{className:"py-4 px-6 text-sm text-gray-600",children:ws(v.createdAt)}),e.jsx("td",{className:"py-4 px-6",children:e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("button",{onClick:()=>p(v),className:"p-2 hover:bg-blue-50 rounded-lg transition-colors group",title:"",children:e.jsx(tn,{className:"w-4 h-4 text-blue-600 group-hover:text-blue-700"})}),e.jsx("button",{onClick:()=>g(v),disabled:x,className:"p-2 hover:bg-red-50 rounded-lg transition-colors group disabled:opacity-50",title:"",children:e.jsx(is,{className:"w-4 h-4 text-red-600 group-hover:text-red-700"})})]})})]},v.id))})]})})}),s&&e.jsx(N4,{branch:a,onClose:y}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"           "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       ( )"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]})]})]})]})})},S4=tt.injectEndpoints({endpoints:s=>({getDailyReport:s.query({query:n=>({url:"/reports/daily",params:n?{date:n}:void 0}),providesTags:["Reports"]}),getSalesReport:s.query({query:({fromDate:n,toDate:a})=>({url:"/reports/sales",params:{fromDate:n,toDate:a}}),providesTags:["Reports"]})})}),{useGetDailyReportQuery:k4}=S4,C4=()=>{var x,f,p;const[s,n]=S.useState(new Date().toISOString().split("T")[0]),{data:a,isLoading:i,isError:c,error:d}=k4(s),u=a==null?void 0:a.data;return i?e.jsxs("div",{className:"h-full flex items-center justify-center",children:[e.jsx(u0,{className:"w-8 h-8 animate-spin text-primary-500"}),e.jsx("span",{className:"mr-2 text-gray-600",children:"  ..."})]}):c?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Fn,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:"   "}),e.jsx("p",{className:"text-gray-500 text-sm mt-2",children:((x=d==null?void 0:d.data)==null?void 0:x.message)||"   "})]})}):e.jsxs("div",{className:"h-full overflow-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:" "}),e.jsx("p",{className:"text-gray-500 mt-1",children:(u==null?void 0:u.branchName)||"  "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(po,{className:"w-5 h-5 text-gray-400"}),e.jsx("input",{type:"date",value:s,onChange:g=>n(g.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Fn,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm text-blue-800 font-medium",children:"         "}),e.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"              . :   8  (15 )  4  (16 )    16 ."})]})]})}),(u==null?void 0:u.shifts)&&u.shifts.length>0&&e.jsxs(ue,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800",children:["  (",u.totalShifts,")"]}),e.jsx(Tr,{className:"w-5 h-5 text-gray-400"})]}),e.jsx("div",{className:"space-y-3",children:u.shifts.map(g=>e.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center",children:e.jsx(Tr,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-800",children:g.userName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[" #",g.shiftId]})]})]}),g.isForceClosed&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[e.jsx(zt,{className:"w-3 h-3 ml-1"})," "]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:" "}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:new Date(g.openedAt).toLocaleString("ar-EG",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:" "}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:new Date(g.closedAt).toLocaleString("ar-EG",{day:"2-digit",month:"2-digit",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:""}),e.jsx("p",{className:"text-sm font-medium text-gray-700",children:g.totalOrders})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500",children:""}),e.jsx("p",{className:"text-sm font-medium text-primary-600",children:oe(g.totalSales)})]})]}),e.jsxs("div",{className:"flex items-center gap-4 pt-3 border-t border-gray-100",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(xo,{className:"w-4 h-4 text-green-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("span",{className:"text-sm font-medium text-green-600",children:oe(g.totalCash)})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ja,{className:"w-4 h-4 text-blue-600"}),e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("span",{className:"text-sm font-medium text-blue-600",children:oe(g.totalCard)})]})]}),g.forceCloseReason&&e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[e.jsx("p",{className:"text-xs text-gray-500",children:"  :"}),e.jsx("p",{className:"text-sm text-orange-700 mt-1",children:g.forceCloseReason})]})]},g.shiftId))})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(go,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:(u==null?void 0:u.completedOrders)||0}),e.jsxs("p",{className:"text-xs text-gray-400",children:[" ",(u==null?void 0:u.totalOrders)||0," "]})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-success-50 rounded-xl flex items-center justify-center",children:e.jsx(Ns,{className:"w-6 h-6 text-success-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:oe((u==null?void 0:u.totalSales)||0)}),e.jsxs("p",{className:"text-xs text-gray-400",children:[": ",oe((u==null?void 0:u.netSales)||0)]})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-red-50 rounded-xl flex items-center justify-center",children:e.jsx(Za,{className:"w-6 h-6 text-red-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-2xl font-bold text-red-600",children:oe((u==null?void 0:u.totalRefunds)||0)}),e.jsx("p",{className:"text-xs text-gray-400",children:" "})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-warning-50 rounded-xl flex items-center justify-center",children:e.jsx($n,{className:"w-6 h-6 text-warning-500"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-2xl font-bold text-gray-800",children:oe((u==null?void 0:u.totalTax)||0)}),e.jsx("p",{className:"text-xs text-gray-400",children:"14% VAT"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(xo,{className:"w-8 h-8 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-xl font-bold text-green-600",children:oe((u==null?void 0:u.totalCash)||0)})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ja,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-xl font-bold text-blue-600",children:oe((u==null?void 0:u.totalCard)||0)})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($n,{className:"w-8 h-8 text-orange-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-xl font-bold text-orange-600",children:oe((u==null?void 0:u.totalFawry)||0)})]})]})}),e.jsx(ue,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Za,{className:"w-8 h-8 text-purple-600"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:""}),e.jsx("p",{className:"text-xl font-bold text-purple-600",children:oe((u==null?void 0:u.totalDiscount)||0)})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"   "}),e.jsx("div",{className:"space-y-4",children:[{label:"",value:(u==null?void 0:u.totalCash)||0,color:"bg-green-500"},{label:"",value:(u==null?void 0:u.totalCard)||0,color:"bg-blue-500"},{label:"",value:(u==null?void 0:u.totalFawry)||0,color:"bg-orange-500"}].map(g=>{const y=(u==null?void 0:u.totalSales)||1,w=g.value/y*100;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{className:"text-gray-600",children:g.label}),e.jsx("span",{className:"font-medium",children:oe(g.value)})]}),e.jsx("div",{className:"h-3 bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full ${g.color} rounded-full transition-all`,style:{width:`${Math.min(w,100)}%`}})})]},g.label)})})]}),e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:" "}),e.jsx("div",{className:"space-y-2 max-h-64 overflow-y-auto",children:(f=u==null?void 0:u.hourlySales)!=null&&f.length?u.hourlySales.map(g=>e.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-gray-100",children:[e.jsxs("span",{className:"text-gray-600",children:[g.hour.toString().padStart(2,"0"),":00"]}),e.jsxs("div",{className:"text-left",children:[e.jsx("span",{className:"font-medium text-gray-800",children:oe(g.sales)}),e.jsxs("span",{className:"text-gray-400 text-sm mr-2",children:["(",g.orderCount," )"]})]})]},g.hour)):e.jsx("p",{className:"text-gray-400 text-center py-4",children:"  "})})]})]}),e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"  "}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b",children:[e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:"#"}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-600",children:""})]})}),e.jsx("tbody",{children:(p=u==null?void 0:u.topProducts)!=null&&p.length?u.topProducts.map((g,y)=>e.jsxs("tr",{className:"border-b hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-gray-500",children:y+1}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(Ze,{className:"w-4 h-4 text-gray-400"})}),e.jsx("span",{className:"font-medium",children:g.productName})]})}),e.jsx("td",{className:"px-4 py-3 text-gray-600",children:g.quantitySold}),e.jsx("td",{className:"px-4 py-3 font-semibold text-primary-600",children:oe(g.totalSales)})]},g.productId)):e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-8 text-center text-gray-400",children:"   "})})})]})})]})]})},E4=tt.injectEndpoints({endpoints:s=>({getAuditLogs:s.query({query:n=>{const a={page:n.page||1,pageSize:n.pageSize||20};return n.entityType&&(a.entityType=n.entityType),n.action&&(a.action=n.action),n.userId&&(a.userId=n.userId),n.branchId&&(a.branchId=n.branchId),n.fromDate&&(a.fromDate=n.fromDate),n.toDate&&(a.toDate=n.toDate),{url:"/audit-logs",params:a}},providesTags:["AuditLogs"]})})}),{useGetAuditLogsQuery:P4}=E4,gu={Order:{icon:Yu,label:"",color:"bg-blue-100 text-blue-700"},Product:{icon:Ze,label:"",color:"bg-green-100 text-green-700"},Category:{icon:Ua,label:"",color:"bg-purple-100 text-purple-700"},User:{icon:Ss,label:"",color:"bg-orange-100 text-orange-700"},Branch:{icon:yt,label:"",color:"bg-cyan-100 text-cyan-700"},Shift:{icon:Vn,label:"",color:"bg-amber-100 text-amber-700"},Payment:{icon:Ja,label:"",color:"bg-pink-100 text-pink-700"}},Wx={Create:{icon:$t,color:"text-green-700",bgColor:"bg-green-100"},Update:{icon:tn,color:"text-blue-700",bgColor:"bg-blue-100"},Delete:{icon:is,color:"text-red-700",bgColor:"bg-red-100"}},tl=s=>{if(!s)return null;try{return JSON.parse(s)}catch{return null}},T4=s=>{var f;const{entityType:n,action:a,newValues:i,oldValues:c}=s,d=tl(i),u=tl(c);if(n==="Order"){if(a==="Create")return"  ";if(a==="Update"){const p=d==null?void 0:d.Status,g=u==null?void 0:u.Status;return p==="Completed"||p===2||p==="2"?"    ":p==="Cancelled"||p===3||p==="3"?" ":p!==g?"  ":"  "}if(a==="Delete")return" "}if(n==="Payment"){if(a==="Create"){const p=d==null?void 0:d.Method;return p==="Cash"||p===0||p==="0"?"  ":p==="Card"||p===1||p==="1"?"  ":p==="Fawry"||p===2||p==="2"?"  ":" "}if(a==="Update")return" ";if(a==="Delete")return" "}if(n==="Shift"){if(a==="Create")return" ";if(a==="Update"){const p=d==null?void 0:d.IsClosed;return p===!0||p==="True"||p==="true"?" ":" "}if(a==="Delete")return" "}if(n==="Product"){if(a==="Create")return" ";if(a==="Update")return(d==null?void 0:d.Price)!==(u==null?void 0:u.Price)?"  ":(d==null?void 0:d.Stock)!==(u==null?void 0:u.Stock)?"  ":" ";if(a==="Delete")return" "}if(n==="Category"){if(a==="Create")return" ";if(a==="Update")return" ";if(a==="Delete")return" "}if(n==="User"){if(a==="Create")return" ";if(a==="Update")return" ";if(a==="Delete")return" "}if(n==="Branch"){if(a==="Create")return" ";if(a==="Update")return" ";if(a==="Delete")return" "}return`${{Create:"",Update:"",Delete:""}[a]||a} ${((f=gu[n])==null?void 0:f.label)||n}`},R4=s=>{if(s.entityType!=="Order"||s.action!=="Update")return null;const n=tl(s.newValues),a=n==null?void 0:n.Status;return a==="Completed"||a===2||a==="2"?{text:" ",icon:Ww,color:"bg-green-100 text-green-700"}:a==="Cancelled"||a===3||a==="3"?{text:"",icon:d0,color:"bg-red-100 text-red-700"}:a==="Draft"||a===0||a==="0"?{text:"",icon:Xw,color:"bg-gray-100 text-gray-700"}:null},I4=s=>{const n=tl(s.newValues),a=tl(s.oldValues),i=n||a;return i?s.entityType==="Order"?i.OrderNumber||null:s.entityType==="Product"||s.entityType==="Category"?i.Name||i.NameEn||null:s.entityType==="User"?i.Name||i.Email||null:s.entityType==="Branch"?i.Name||null:s.entityType==="Shift"&&i.OpeningBalance?`: ${i.OpeningBalance} .`:null:null},_4=()=>{var w;const[s,n]=S.useState({page:1,pageSize:20}),{data:a,isLoading:i,isFetching:c,refetch:d}=P4(s),u=((w=a==null?void 0:a.data)==null?void 0:w.items)||[],x=a==null?void 0:a.data,f=(v,N)=>{n(j=>({...j,[v]:N||void 0,page:1}))},p=v=>{n(N=>({...N,page:v}))},g=()=>{n({page:1,pageSize:20})},y=S.useMemo(()=>!!(s.entityType||s.action||s.fromDate||s.toDate),[s]);return e.jsxs("div",{className:"h-full flex flex-col p-4 lg:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-lg flex items-center justify-center",children:e.jsx(zn,{className:"w-5 h-5 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:"    "})]})]}),e.jsxs("button",{onClick:()=>d(),className:"flex items-center gap-2 px-4 py-2 text-sm bg-white border rounded-lg hover:bg-gray-50",children:[e.jsx(yl,{className:`w-4 h-4 ${c?"animate-spin":""}`}),""]})]}),e.jsxs("div",{className:"bg-white rounded-xl border p-4 mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wu,{className:"w-4 h-4 text-gray-500"}),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:""})]}),y&&e.jsx("button",{onClick:g,className:"text-xs text-red-600 hover:text-red-700",children:" "})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsxs("select",{value:s.entityType||"",onChange:v=>f("entityType",v.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),Object.entries(gu).map(([v,{label:N}])=>e.jsx("option",{value:v,children:N},v))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsxs("select",{value:s.action||"",onChange:v=>f("action",v.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"Create",children:""}),e.jsx("option",{value:"Update",children:""}),e.jsx("option",{value:"Delete",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsx("input",{type:"date",value:s.fromDate||"",onChange:v=>f("fromDate",v.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsx("input",{type:"date",value:s.toDate||"",onChange:v=>f("toDate",v.target.value),className:"w-full px-3 py-2 border rounded-lg text-sm focus:ring-2 focus:ring-primary-500 focus:border-primary-500"})]})]})]}),e.jsxs("div",{className:"flex-1 bg-white rounded-xl border overflow-hidden flex flex-col",children:[e.jsx("div",{className:"overflow-x-auto flex-1",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase w-1/3",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y",children:i||c?Array.from({length:5}).map((v,N)=>e.jsxs("tr",{className:"animate-pulse",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-40"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-32"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24"})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("div",{className:"h-4 bg-gray-200 rounded w-28"})})]},N)):u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:4,className:"px-4 py-12 text-center text-gray-500",children:"  "})}):u.map(v=>{const N=gu[v.entityType],j=(N==null?void 0:N.icon)||zn,C=Wx[v.action]||Wx.Update,T=C.icon,_=I4(v),k=R4(v);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:`inline-flex items-center justify-center w-8 h-8 rounded-lg ${C.bgColor}`,children:e.jsx(T,{className:`w-4 h-4 ${C.color}`})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("span",{className:"text-sm font-medium text-gray-900",children:T4(v)}),k&&e.jsxs("span",{className:`inline-flex items-center gap-1 mt-1 px-2 py-0.5 rounded text-xs font-medium ${k.color} w-fit`,children:[e.jsx(k.icon,{className:"w-3 h-3"}),k.text]})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:`inline-flex items-center justify-center w-6 h-6 rounded ${(N==null?void 0:N.color)||"bg-gray-100"}`,children:e.jsx(j,{className:"w-3.5 h-3.5"})}),e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("span",{className:"text-sm text-gray-700",children:[(N==null?void 0:N.label)||v.entityType,v.entityId&&e.jsxs("span",{className:"text-gray-400 mr-1",children:["#",v.entityId]})]}),_&&e.jsx("span",{className:"text-xs text-gray-500",children:_})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:"text-sm text-gray-700",children:v.userName||"-"})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:ws(v.createdAt)})]},v.id)})})]})}),x&&x.totalPages>1&&e.jsxs("div",{className:"border-t px-4 py-3 flex items-center justify-between bg-gray-50",children:[e.jsxs("div",{className:"text-sm text-gray-500",children:[" ",(x.page-1)*x.pageSize+1," - ",Math.min(x.page*x.pageSize,x.totalCount),"  ",x.totalCount]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>p(x.page-1),disabled:!x.hasPreviousPage,className:"p-2 rounded-lg border hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Lo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm text-gray-600",children:[" ",x.page,"  ",x.totalPages]}),e.jsx("button",{onClick:()=>p(x.page+1),disabled:!x.hasNextPage,className:"p-2 rounded-lg border hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(Oo,{className:"w-4 h-4"})})]})]})]})]})},M4=()=>{const s=xl(),{data:n,isLoading:a,refetch:i}=w0(),[c,{isLoading:d}]=b2(),[u,{isLoading:x}]=N2(),f=n==null?void 0:n.data,[p,g]=S.useState(14),[y,w]=S.useState(!0),[v,N]=S.useState(""),[j,C]=S.useState(""),[T,_]=S.useState("EGP"),[k,R]=S.useState("Africa/Cairo"),[b,E]=S.useState(!1),[O,L]=S.useState("80mm"),[M,A]=S.useState(280),[I,F]=S.useState(12),[B,$]=S.useState(9),[q,Z]=S.useState(11),[ne,Y]=S.useState(!0),[H,V]=S.useState(!0),[D,W]=S.useState(!0),[se,ae]=S.useState(""),[ie,pe]=S.useState(""),[ce,fe]=S.useState(!0),[Ne,_e]=S.useState(!0),[Ce,Re]=S.useState("");S.useEffect(()=>{f&&(g(f.taxRate),w(f.isTaxEnabled),N(f.name),C(f.nameEn||""),_(f.currency),R(f.timezone),E(f.allowNegativeStock??!1),L(f.receiptPaperSize||"80mm"),A(f.receiptCustomWidth??280),F(f.receiptHeaderFontSize??12),$(f.receiptBodyFontSize??9),Z(f.receiptTotalFontSize??11),Y(f.receiptShowBranchName??!0),V(f.receiptShowCashier??!0),W(f.receiptShowThankYou??!0),ae(f.receiptFooterMessage||""),pe(f.receiptPhoneNumber||""),fe(f.receiptShowCustomerName??!0),_e(f.receiptShowLogo??!0),Re(f.logoUrl||""))},[f]);const ot=async()=>{if(p<0||p>100){J.error("      0  100");return}try{const ye=await c({name:v,nameEn:j||void 0,logoUrl:Ce||void 0,currency:T,timezone:k,taxRate:p,isTaxEnabled:y,allowNegativeStock:b,receiptPaperSize:O,receiptCustomWidth:M,receiptHeaderFontSize:I,receiptBodyFontSize:B,receiptTotalFontSize:q,receiptShowBranchName:ne,receiptShowCashier:H,receiptShowThankYou:D,receiptFooterMessage:se||void 0,receiptPhoneNumber:ie||void 0,receiptShowCustomerName:ce,receiptShowLogo:Ne}).unwrap();ye.success?(s(Fp({taxRate:p,isTaxEnabled:y,allowNegativeStock:b})),J.success("   "),i()):J.error(ye.message||"   ")}catch{J.error("    ")}};return a?e.jsx("div",{className:"h-full flex items-center justify-center",children:e.jsx(et,{})}):e.jsx("div",{className:"h-full overflow-y-auto p-6",children:e.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-primary-100 rounded-xl flex items-center justify-center",children:e.jsx(y0,{className:"w-6 h-6 text-primary-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:" "}),e.jsx("p",{className:"text-gray-500",children:"    "})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(yt,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),e.jsx("input",{type:"text",value:v,onChange:ye=>N(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:" "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"  ()"}),e.jsx("input",{type:"text",value:j,onChange:ye=>C(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"Company Name",dir:"ltr"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("select",{value:T,onChange:ye=>_(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"EGP",children:"  (EGP)"}),e.jsx("option",{value:"SAR",children:"  (SAR)"}),e.jsx("option",{value:"AED",children:"  (AED)"}),e.jsx("option",{value:"USD",children:"  (USD)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsxs("select",{value:k,onChange:ye=>R(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",children:[e.jsx("option",{value:"Africa/Cairo",children:" (Africa/Cairo)"}),e.jsx("option",{value:"Asia/Riyadh",children:" (Asia/Riyadh)"}),e.jsx("option",{value:"Asia/Dubai",children:" (Asia/Dubai)"})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Gu,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:" "}),e.jsx("p",{className:"text-sm text-gray-500",children:y?"  -      ":"  -     "})]}),e.jsx("button",{onClick:()=>w(!y),className:ke("p-2 rounded-lg transition-colors",y?"bg-success-100 text-success-600":"bg-gray-200 text-gray-500"),children:y?e.jsx(Hd,{className:"w-8 h-8"}):e.jsx(Qd,{className:"w-8 h-8"})})]}),e.jsxs("div",{className:ke(!y&&"opacity-50 pointer-events-none"),children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (%)"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:p,onChange:ye=>g(parseFloat(ye.target.value)||0),disabled:!y,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 text-lg",placeholder:"14"}),e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400",children:"%"})]}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"  : 14% (  )"})]}),y&&e.jsxs("div",{className:"p-4 bg-primary-50 rounded-lg border border-primary-200",children:[e.jsx("p",{className:"text-sm font-medium text-primary-800 mb-2",children:"  ( ):"}),e.jsxs("div",{className:"text-sm text-primary-700 space-y-1",children:[e.jsx("p",{children:"   (  ): 100 ."}),e.jsxs("p",{children:["   (",p,"%):"," ",(100*p/100).toFixed(2)," ."]}),e.jsxs("p",{children:["  ( ):"," ",(100+100*p/100).toFixed(2)," ."]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx(Ze,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:" "})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"   (Sale below 0)"}),e.jsx("p",{className:"text-sm text-gray-500",children:b?" -         ":"  -       "})]}),e.jsx("button",{onClick:()=>E(!b),className:ke("p-2 rounded-lg transition-colors",b?"bg-success-100 text-success-600":"bg-gray-200 text-gray-500"),children:b?e.jsx(Hd,{className:"w-8 h-8"}):e.jsx(Qd,{className:"w-8 h-8"})})]}),!b&&e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("p",{className:"text-sm text-amber-800",children:[e.jsx("strong",{children:":"}),"               ."]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-2 text-lg font-semibold",children:[e.jsx($n,{className:"w-5 h-5 text-gray-500"}),e.jsx("span",{children:"  "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(x0,{className:"w-4 h-4"})," "]})}),e.jsx("div",{className:"flex gap-3 mb-3",children:[{value:"80mm",label:"80mm ()"},{value:"58mm",label:"58mm ()"},{value:"custom",label:""}].map(ye=>e.jsx("button",{onClick:()=>L(ye.value),className:ke("flex-1 py-3 px-4 rounded-lg border-2 font-medium transition-all",O===ye.value?"border-primary-500 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-600"),children:ye.label},ye.value))}),O==="custom"&&e.jsxs("div",{className:"p-4 bg-primary-50 border border-primary-200 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"   (pixels)"}),e.jsx("input",{type:"number",min:"200",max:"400",value:M,onChange:ye=>A(parseInt(ye.target.value)||280),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"280"}),e.jsx("p",{className:"mt-2 text-xs text-gray-600",children:"  : 280px (   )"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(m2,{className:"w-4 h-4"})," "]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"8",max:"18",value:I,onChange:ye=>F(parseInt(ye.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-sm font-mono bg-gray-100 rounded px-2 py-1 min-w-[40px] text-center",children:I})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"6",max:"14",value:B,onChange:ye=>$(parseInt(ye.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-sm font-mono bg-gray-100 rounded px-2 py-1 min-w-[40px] text-center",children:B})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:" "}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:"8",max:"16",value:q,onChange:ye=>Z(parseInt(ye.target.value)),className:"flex-1"}),e.jsx("span",{className:"text-sm font-mono bg-gray-100 rounded px-2 py-1 min-w-[40px] text-center",children:q})]})]})]})]}),e.jsx("div",{className:"space-y-3",children:[{label:"  ",value:ne,setter:Y},{label:"  ",value:H,setter:V},{label:"  ",value:ce,setter:fe},{label:"  ",value:Ne,setter:_e},{label:"    ",value:D,setter:W}].map(ye=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsx("span",{className:"font-medium text-sm",children:ye.label}),e.jsx("button",{onClick:()=>ye.setter(!ye.value),className:ke("p-1 rounded-lg transition-colors",ye.value?"bg-success-100 text-success-600":"bg-gray-200 text-gray-500"),children:ye.value?e.jsx(Hd,{className:"w-7 h-7"}):e.jsx(Qd,{className:"w-7 h-7"})})]},ye.label))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Zw,{className:"w-4 h-4"})," "]})}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("label",{className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary-50 text-primary-700 border border-primary-200 rounded-lg hover:bg-primary-100 transition-colors",children:[e.jsx(v0,{className:"w-4 h-4"}),x?" ...":" ",e.jsx("input",{type:"file",accept:"image/png,image/jpeg,image/jpg,image/gif,image/webp,image/svg+xml",className:"hidden",disabled:x,onChange:async ye=>{var st;const St=(st=ye.target.files)==null?void 0:st[0];if(St){if(St.size>2*1024*1024){J.error("      2 ");return}try{const kt=new FormData;kt.append("file",St);const rt=await u(kt).unwrap();rt.success&&rt.data?(Re(rt.data.logoUrl),J.success("   "),i()):J.error(rt.message||"   ")}catch{J.error("    ")}ye.target.value=""}}})]}),Ce&&e.jsxs("button",{type:"button",onClick:()=>Re(""),className:"inline-flex items-center gap-1 px-3 py-2 text-red-600 bg-red-50 border border-red-200 rounded-lg hover:bg-red-100 transition-colors text-sm",children:[e.jsx(Ye,{className:"w-4 h-4"}),""]})]}),Ce&&e.jsxs("div",{className:"mt-3 flex items-center gap-3 p-3 bg-gray-50 rounded-lg border",children:[e.jsx("img",{src:Ce,alt:"Logo Preview",className:"h-12 object-contain rounded",onError:ye=>{ye.target.style.display="none"},onLoad:ye=>{ye.target.style.display="block"}}),e.jsx("span",{className:"text-xs text-gray-500",children:" "})]}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:"PNG, JPG, GIF, WebP, SVG    2 "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(r2,{className:"w-4 h-4"}),"  "]})}),e.jsx("input",{type:"text",value:se,onChange:ye=>ae(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:":   "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsx(Zr,{className:"w-4 h-4"}),"  "]})}),e.jsx("input",{type:"text",value:ie,onChange:ye=>pe(ye.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500",placeholder:"01xxxxxxxxx",dir:"ltr"})]})]}),e.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[e.jsx("p",{className:"text-xs text-gray-500 mb-3 font-medium",children:" :"}),e.jsxs("div",{className:"mx-auto bg-white border border-dashed border-gray-300 p-4 space-y-2",style:{maxWidth:O==="80mm"?"302px":O==="58mm"?"219px":`${M}px`,fontFamily:"Arial, sans-serif",direction:"rtl"},children:[Ne&&Ce&&e.jsx("div",{className:"text-center",children:e.jsx("img",{src:Ce,alt:"Logo",className:"h-10 mx-auto object-contain",onError:ye=>{ye.target.style.display="none"}})}),ne&&e.jsx("p",{className:"text-center font-bold",style:{fontSize:`${I}px`},children:v||" "}),e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:" "}),e.jsx("span",{children:"ORD-001"})]}),e.jsx("p",{className:"text-center",style:{fontSize:`${B}px`},children:new Date().toLocaleDateString("ar-EG")}),e.jsx("div",{className:"border-t border-dashed border-gray-400 my-1"}),H&&e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:": "}),e.jsx("span",{children:": "})]}),!H&&e.jsx("p",{style:{fontSize:`${B}px`},children:": "}),ce&&e.jsx("p",{style:{fontSize:`${B}px`},children:":  "}),e.jsx("div",{className:"border-t border-dashed border-gray-400 my-1"}),e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:"   2"}),e.jsx("span",{children:"100 ."})]}),e.jsx("div",{className:"border-t border-dashed border-gray-400 my-1"}),e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:""}),e.jsx("span",{children:"100.00 ."})]}),y&&e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsxs("span",{children:[" (",p,"%)"]}),e.jsxs("span",{children:[(100*p/100).toFixed(2)," ."]})]}),e.jsx("div",{className:"border-t border-dashed border-gray-400 my-1"}),e.jsxs("div",{className:"flex justify-between font-bold",style:{fontSize:`${q}px`},children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[y?(100+100*p/100).toFixed(2):"100.00"," ."]})]}),e.jsx("div",{className:"border-t border-dashed border-gray-400 my-1"}),e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:" "}),e.jsx("span",{children:"200.00 ."})]}),e.jsxs("div",{className:"flex justify-between",style:{fontSize:`${B}px`},children:[e.jsx("span",{children:""}),e.jsxs("span",{children:[y?(200-(100+100*p/100)).toFixed(2):"50.00"," ."]})]}),D&&e.jsx("p",{className:"text-center font-bold",style:{fontSize:`${B}px`},children:"  "}),se&&e.jsx("p",{className:"text-center",style:{fontSize:`${Math.max(B-1,7)}px`},children:se}),ie&&e.jsx("p",{className:"text-center",style:{fontSize:`${Math.max(B-1,7)}px`},children:ie})]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ee,{variant:"primary",size:"lg",onClick:ot,isLoading:d,disabled:d,rightIcon:e.jsx(g0,{className:"w-5 h-5"}),children:" "})})]})})},O4=tt.injectEndpoints({endpoints:s=>({getPurchaseInvoices:s.query({query:n=>{const a=new URLSearchParams;return n&&(n.supplierId&&a.append("supplierId",n.supplierId.toString()),n.status&&a.append("status",n.status),n.fromDate&&a.append("fromDate",n.fromDate),n.toDate&&a.append("toDate",n.toDate),n.pageNumber&&a.append("pageNumber",n.pageNumber.toString()),n.pageSize&&a.append("pageSize",n.pageSize.toString())),{url:`/purchaseinvoices?${a.toString()}`,method:"GET"}},providesTags:n=>{var a;return(a=n==null?void 0:n.data)!=null&&a.items?[...n.data.items.map(({id:i})=>({type:"PurchaseInvoice",id:i})),{type:"PurchaseInvoice",id:"LIST"}]:[{type:"PurchaseInvoice",id:"LIST"}]}}),getPurchaseInvoiceById:s.query({query:n=>({url:`/purchaseinvoices/${n}`,method:"GET"}),providesTags:(n,a,i)=>[{type:"PurchaseInvoice",id:i}]}),createPurchaseInvoice:s.mutation({query:n=>({url:"/purchaseinvoices",method:"POST",body:n}),invalidatesTags:[{type:"PurchaseInvoice",id:"LIST"}]}),updatePurchaseInvoice:s.mutation({query:({id:n,data:a})=>({url:`/purchaseinvoices/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"}]}),deletePurchaseInvoice:s.mutation({query:n=>({url:`/purchaseinvoices/${n}`,method:"DELETE"}),invalidatesTags:(n,a,i)=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"}]}),confirmPurchaseInvoice:s.mutation({query:n=>({url:`/purchaseinvoices/${n}/confirm`,method:"POST"}),invalidatesTags:(n,a,i)=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"},{type:"Products",id:"LIST"}]}),cancelPurchaseInvoice:s.mutation({query:({id:n,data:a})=>({url:`/purchaseinvoices/${n}/cancel`,method:"POST",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"},{type:"Products",id:"LIST"}]}),addPayment:s.mutation({query:({invoiceId:n,payment:a})=>({url:`/purchaseinvoices/${n}/payments`,method:"POST",body:a}),invalidatesTags:(n,a,{invoiceId:i})=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"}]}),deletePayment:s.mutation({query:({invoiceId:n,paymentId:a})=>({url:`/purchaseinvoices/${n}/payments/${a}`,method:"DELETE"}),invalidatesTags:(n,a,{invoiceId:i})=>[{type:"PurchaseInvoice",id:i},{type:"PurchaseInvoice",id:"LIST"}]})})}),{useGetPurchaseInvoicesQuery:L4,useGetPurchaseInvoiceByIdQuery:Q0,useCreatePurchaseInvoiceMutation:D4,useUpdatePurchaseInvoiceMutation:A4,useDeletePurchaseInvoiceMutation:H0,useConfirmPurchaseInvoiceMutation:F4,useCancelPurchaseInvoiceMutation:z4,useAddPaymentMutation:$4}=O4;function q4(){var E,O;const s=Ir(),[n,a]=S.useState(1),[i,c]=S.useState(),[d,u]=S.useState(),[x,f]=S.useState(""),[p,g]=S.useState(""),{data:y,isLoading:w}=L4({supplierId:i,status:d,fromDate:x||void 0,toDate:p||void 0,pageNumber:n,pageSize:20}),{data:v}=em(),[N]=H0(),j=((E=y==null?void 0:y.data)==null?void 0:E.items)||[],C=((O=y==null?void 0:y.data)==null?void 0:O.totalPages)||1,T=(v==null?void 0:v.data)||[],_=async(L,M)=>{if(confirm(`      ${M}`))try{(await N(L).unwrap()).success&&J.success("   ")}catch(A){console.error("Error deleting invoice:",A)}},k=L=>{const M={Draft:"bg-gray-100 text-gray-800",Confirmed:"bg-blue-100 text-blue-800",Paid:"bg-green-100 text-green-800",PartiallyPaid:"bg-yellow-100 text-yellow-800",Cancelled:"bg-red-100 text-red-800"},A={Draft:"",Confirmed:"",Paid:"",PartiallyPaid:" ",Cancelled:""};return e.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${M[L]||"bg-gray-100 text-gray-800"}`,children:A[L]||L})};if(w)return e.jsx(et,{});const R=j.reduce((L,M)=>L+M.total,0),b=j.filter(L=>L.status==="Paid").length;return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-violet-100 flex items-center justify-center",children:e.jsx(zn,{className:"w-5 h-5 text-violet-600"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"     "})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ee,{onClick:()=>s("/purchase-invoices/new"),children:"  "})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ue,{className:"border-violet-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:j.length})]}),e.jsxs(ue,{className:"border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-blue-700 mt-1",children:oe(R)})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:b})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsxs("select",{value:i||"",onChange:L=>c(L.target.value?Number(L.target.value):void 0),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:""}),T.map(L=>e.jsx("option",{value:L.id,children:L.name},L.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsxs("select",{value:d||"",onChange:L=>u(L.target.value||void 0),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"Draft",children:""}),e.jsx("option",{value:"Confirmed",children:""}),e.jsx("option",{value:"Paid",children:""}),e.jsx("option",{value:"PartiallyPaid",children:" "}),e.jsx("option",{value:"Cancelled",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),e.jsx("input",{type:"date",value:x,onChange:L=>f(L.target.value),className:"w-full px-3 py-2 border rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),e.jsx("input",{type:"date",value:p,onChange:L=>g(L.target.value),className:"w-full px-3 py-2 border rounded-lg"})]})]})}),e.jsxs(ue,{padding:"none",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 sticky top-0 z-10",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:j.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:8,className:"px-4 py-8 text-center text-gray-500",children:"  "})}):j.map(L=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:L.invoiceNumber}),e.jsxs("td",{className:"px-4 py-3 text-sm",children:[e.jsx("div",{children:L.supplierName}),L.supplierPhone&&e.jsx("div",{className:"text-xs text-gray-500",children:L.supplierPhone})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:fu(L.invoiceDate)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:k(L.status)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:oe(L.total)}),e.jsx("td",{className:"px-4 py-3 text-sm text-green-600",children:oe(L.amountPaid)}),e.jsx("td",{className:"px-4 py-3 text-sm text-red-600",children:oe(L.amountDue)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>s(`/purchase-invoices/${L.id}`),className:"text-blue-600 hover:text-blue-800",children:""}),L.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>s(`/purchase-invoices/${L.id}/edit`),className:"text-green-600 hover:text-green-800",children:""}),e.jsx("button",{onClick:()=>_(L.id,L.invoiceNumber),className:"text-red-600 hover:text-red-800",children:""})]})]})})]},L.id))})]})}),C>1&&e.jsxs("div",{className:"flex justify-center items-center gap-2 p-4 border-t bg-gray-50",children:[e.jsx(ee,{variant:"outline",onClick:()=>a(L=>Math.max(1,L-1)),disabled:n===1,children:""}),e.jsxs("span",{className:"text-sm",children:[" ",n,"  ",C]}),e.jsx(ee,{variant:"outline",onClick:()=>a(L=>Math.min(C,L+1)),disabled:n===C,children:""})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"    "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"        "]})]})]})]})]})})}function U4({isOpen:s,onClose:n,onProductCreated:a}){const[i,c]=S.useState(""),[d,u]=S.useState(""),[x,f]=S.useState(""),[p,g]=S.useState(0),[y,w]=S.useState(0),{data:v}=Xu(),[N,{isLoading:j}]=C0(),C=(v==null?void 0:v.data)||[],T=async k=>{if(k.preventDefault(),!i.trim()){J.error("   ");return}if(!p){J.error("  ");return}if(y<=0){J.error("   ");return}try{const R=await N({name:i.trim(),sku:d.trim()||void 0,barcode:x.trim()||void 0,categoryId:p,price:y,cost:0,trackInventory:!0,stockQuantity:0,lowStockThreshold:5}).unwrap();R.success&&R.data&&(J.success("   "),a(R.data.id),_())}catch(R){console.error("Error creating product:",R),J.error("  ")}},_=()=>{c(""),u(""),f(""),g(0),w(0),n()};return e.jsx(Wt,{isOpen:s,onClose:_,title:"  ",children:e.jsxs("form",{onSubmit:T,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:i,onChange:k=>c(k.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:":  ",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"  (SKU)"}),e.jsx("input",{type:"text",value:d,onChange:k=>u(k.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"ELEC001"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsx("input",{type:"text",value:x,onChange:k=>f(k.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"6291041500213"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:p,onChange:k=>g(Number(k.target.value)),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[e.jsx("option",{value:0,children:" "}),C.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:y,onChange:k=>w(Number(k.target.value)),className:"w-full px-3 py-2 border rounded-lg",placeholder:"0.00",min:"0",step:"0.01",required:!0}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"       "})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:_,children:""}),e.jsx(ee,{type:"submit",disabled:j,children:j?" ...":" "})]})]})})}function Kx(){const s=Ir(),{id:n}=_o(),a=!!n,[i,c]=S.useState(0),[d,u]=S.useState(new Date().toISOString().split("T")[0]),[x,f]=S.useState(""),[p,g]=S.useState([]),[y,w]=S.useState(0),[v,N]=S.useState(1),[j,C]=S.useState(0),[T,_]=S.useState(""),[k,R]=S.useState(!1),{data:b}=em(),{data:E}=vl(),{data:O,isLoading:L}=Q0(Number(n),{skip:!a}),[M,{isLoading:A}]=D4(),[I,{isLoading:F}]=A4(),B=(b==null?void 0:b.data)||[],$=(E==null?void 0:E.data)||[],q=O==null?void 0:O.data;S.useEffect(()=>{q&&a&&(c(q.supplierId),u(q.invoiceDate.split("T")[0]),f(q.notes||""),g(q.items.map(D=>({tempId:`item-${D.id}`,productId:D.productId,productName:D.productName,quantity:D.quantity,purchasePrice:D.purchasePrice,notes:D.notes}))))},[q,a]);const Z=()=>{if(!y||v<=0||j<=0){J.error("    ");return}const D=$.find(se=>se.id===y);if(!D)return;const W={tempId:`temp-${Date.now()}`,productId:y,productName:D.name,quantity:v,purchasePrice:j,notes:T};g([...p,W]),w(0),N(1),C(0),_("")},ne=D=>{w(D),J.success("  .    ")},Y=D=>{g(p.filter(W=>W.tempId!==D))},H=()=>p.reduce((D,W)=>D+W.quantity*W.purchasePrice,0),V=async D=>{var se,ae;if(D.preventDefault(),!i){J.error("  ");return}if(p.length===0){J.error("     ");return}const W={supplierId:i,invoiceDate:new Date(d).toISOString(),items:p.map(ie=>({productId:ie.productId,quantity:ie.quantity,purchasePrice:ie.purchasePrice,notes:ie.notes})),notes:x};try{if(a){const ie=await I({id:Number(n),data:W}).unwrap();ie.success?(J.success("   "),s(`/purchase-invoices/${n}`)):J.error(ie.message||"  ")}else{const ie=await M(W).unwrap();ie.success?(J.success("   "),s(`/purchase-invoices/${(se=ie.data)==null?void 0:se.id}`)):J.error(ie.message||"  ")}}catch(ie){console.error("Error saving invoice:",ie),(ae=ie==null?void 0:ie.data)!=null&&ae.message?J.error(ie.data.message):ie!=null&&ie.message?J.error(ie.message):J.error("    ")}};return a&&L?e.jsx(et,{}):e.jsxs("div",{className:"p-6 pb-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:a?"  ":"   "}),e.jsx(ee,{variant:"outline",onClick:()=>s("/purchase-invoices"),children:""})]}),e.jsxs("form",{onSubmit:V,children:[e.jsxs(ue,{className:"mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:" "}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:i,onChange:D=>c(Number(D.target.value)),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[e.jsx("option",{value:0,children:" "}),B.map(D=>e.jsx("option",{value:D.id,children:D.name},D.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:d,onChange:D=>u(D.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsx("input",{type:"text",value:x,onChange:D=>f(D.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:" "})]})]})]}),e.jsxs(ue,{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:" "}),e.jsx(ee,{type:"button",variant:"outline",onClick:()=>R(!0),children:"+  "})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsxs("select",{value:y,onChange:D=>w(Number(D.target.value)),className:"w-full px-3 py-2 border rounded-lg",children:[e.jsx("option",{value:0,children:" "}),$.map(D=>e.jsxs("option",{value:D.id,children:[D.name," ",D.sku&&`(${D.sku})`]},D.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsx("input",{type:"number",value:v,onChange:D=>N(Number(D.target.value)),className:"w-full px-3 py-2 border rounded-lg",min:"1"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),e.jsx("input",{type:"number",value:j,onChange:D=>C(Number(D.target.value)),className:"w-full px-3 py-2 border rounded-lg",min:"0",step:"0.01"})]}),e.jsx("div",{className:"flex items-end",children:e.jsx(ee,{type:"button",onClick:Z,className:"w-full",children:""})})]}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{type:"text",value:T,onChange:D=>_(D.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:"  ()"})})]}),e.jsxs(ue,{padding:"none",className:"mb-6",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold",children:""})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:p.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-gray-500",children:"    "})}):p.map(D=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:D.productName}),e.jsx("td",{className:"px-4 py-3 text-sm",children:D.quantity}),e.jsx("td",{className:"px-4 py-3 text-sm",children:oe(D.purchasePrice)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:oe(D.quantity*D.purchasePrice)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:D.notes||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:e.jsx("button",{type:"button",onClick:()=>Y(D.tempId),className:"text-red-600 hover:text-red-800",children:""})})]},D.tempId))})]})}),p.length>0&&e.jsx("div",{className:"p-4 border-t bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsx("div",{className:"w-64",children:e.jsxs("div",{className:"flex justify-between mb-2",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"text-sm font-medium",children:oe(H())})]})})})})]}),e.jsxs("div",{className:"flex justify-end gap-4 mb-6",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:()=>s("/purchase-invoices"),children:""}),e.jsx(ee,{type:"submit",disabled:A||F,children:A||F?" ...":a?"":""})]})]}),e.jsx(U4,{isOpen:k,onClose:()=>R(!1),onProductCreated:ne})]})}function B4({invoiceId:s,amountDue:n,onClose:a}){const[i,c]=S.useState(n),[d,u]=S.useState(new Date().toISOString().split("T")[0]),[x,f]=S.useState("Cash"),[p,g]=S.useState(""),[y,w]=S.useState(""),[v,{isLoading:N}]=$4(),j=async C=>{var T,_,k;if(C.preventDefault(),i<=0){J.error("      ");return}if(i>n){J.error(`    (${oe(n)})`);return}try{const R={amount:i,paymentDate:new Date(d).toISOString(),method:x,referenceNumber:p.trim()||void 0,notes:y.trim()||void 0};console.log("Sending payment data:",R),console.log("Payment data JSON:",JSON.stringify(R,null,2));const b=await v({invoiceId:s,payment:R}).unwrap();b.success?(J.success("   "),a()):J.error(b.message||"  ")}catch(R){if(console.error("Error adding payment:",R),console.error("Validation errors:",(T=R==null?void 0:R.data)==null?void 0:T.errors),(_=R==null?void 0:R.data)!=null&&_.errors){const b=Object.entries(R.data.errors).map(([E,O])=>`${E}: ${O.join(", ")}`).join(`
`);J.error(`  :
${b}`)}else(k=R==null?void 0:R.data)!=null&&k.message?J.error(R.data.message):J.error("    ")}};return e.jsx(Wt,{isOpen:!0,onClose:a,title:" ",children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",value:i,onChange:C=>c(Number(C.target.value)),className:"w-full px-3 py-2 border rounded-lg",min:"0.01",max:n,step:"0.01",required:!0}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[" : ",oe(n)]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:d,onChange:C=>u(C.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:x,onChange:C=>f(C.target.value),className:"w-full px-3 py-2 border rounded-lg",required:!0,children:[e.jsx("option",{value:"Cash",children:""}),e.jsx("option",{value:"Card",children:""}),e.jsx("option",{value:"Fawry",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:" "}),e.jsx("input",{type:"text",value:p,onChange:C=>g(C.target.value),className:"w-full px-3 py-2 border rounded-lg",placeholder:""})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:""}),e.jsx("textarea",{value:y,onChange:C=>w(C.target.value),className:"w-full px-3 py-2 border rounded-lg",rows:3,placeholder:" "})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:a,children:""}),e.jsx(ee,{type:"submit",disabled:N,children:N?" ...":""})]})]})})}function Q4({invoiceId:s,isConfirmed:n,onClose:a}){const[i,c]=S.useState(""),[d,u]=S.useState(!0),[x,{isLoading:f}]=z4(),p=async g=>{var y;if(g.preventDefault(),!i.trim()){J.error("   ");return}try{const w=await x({id:s,data:{reason:i.trim(),adjustInventory:n?d:!1}}).unwrap();w.success?(J.success("   "),a()):J.error(w.message||"  ")}catch(w){console.error("Error cancelling invoice:",w),(y=w==null?void 0:w.data)!=null&&y.message?J.error(w.data.message):J.error("    ")}};return e.jsx(Wt,{isOpen:!0,onClose:a,title:" ",children:e.jsxs("form",{onSubmit:p,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:i,onChange:g=>c(g.target.value),className:"w-full px-3 py-2 border rounded-lg",rows:4,placeholder:"    ",required:!0})]}),n&&e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"adjustInventory",checked:d,onChange:g=>u(g.target.checked),className:"mt-1"}),e.jsxs("label",{htmlFor:"adjustInventory",className:"text-sm",children:[e.jsx("div",{className:"font-medium",children:" "}),e.jsx("div",{className:"text-gray-500",children:"        "})]})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:":"}),"      "]})}),e.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[e.jsx(ee,{type:"button",variant:"outline",onClick:a,children:""}),e.jsx(ee,{type:"submit",disabled:f,className:"bg-red-600 hover:bg-red-700",children:f?" ...":" "})]})]})})}function H4(){const s=Ir(),{id:n}=_o(),[a,i]=S.useState(!1),[c,d]=S.useState(!1),{data:u,isLoading:x}=Q0(Number(n)),[f,{isLoading:p}]=F4(),[g]=H0(),y=u==null?void 0:u.data,w=async()=>{if(confirm("        ."))try{(await f(Number(n)).unwrap()).success&&J.success("   ")}catch(j){console.error("Error confirming invoice:",j)}},v=async()=>{if(confirm("     "))try{(await g(Number(n)).unwrap()).success&&(J.success("   "),s("/purchase-invoices"))}catch(j){console.error("Error deleting invoice:",j)}},N=j=>{const C={Draft:"bg-gray-100 text-gray-800",Confirmed:"bg-blue-100 text-blue-800",Paid:"bg-green-100 text-green-800",PartiallyPaid:"bg-yellow-100 text-yellow-800",Cancelled:"bg-red-100 text-red-800"},T={Draft:"",Confirmed:"",Paid:"",PartiallyPaid:" ",Cancelled:""};return e.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${C[j]||"bg-gray-100 text-gray-800"}`,children:T[j]||j})};return x?e.jsx(et,{}):y?e.jsxs("div",{className:"p-6 pb-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-bold",children:["  ",y.invoiceNumber]}),e.jsx("div",{className:"mt-2",children:N(y.status)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",onClick:()=>s("/purchase-invoices"),children:""}),y.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx(ee,{variant:"outline",onClick:()=>s(`/purchase-invoices/${n}/edit`),children:""}),e.jsx(ee,{onClick:w,disabled:p,children:p?" ...":" "})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[e.jsxs(ue,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:y.supplierName})]}),y.supplierPhone&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:y.supplierPhone})]})]})]}),e.jsxs(ue,{children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:" "}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:fu(y.invoiceDate)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:y.createdByUserName})]}),y.confirmedByUserName&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:" :"}),e.jsx("span",{className:"font-medium",children:y.confirmedByUserName})]}),y.notes&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600",children:":"}),e.jsx("span",{className:"font-medium",children:y.notes})]})]})]})]}),e.jsxs(ue,{padding:"none",className:"mb-6",children:[e.jsx("div",{className:"p-4 border-b",children:e.jsx("h2",{className:"text-lg font-semibold",children:""})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:y.items.map(j=>e.jsxs("tr",{children:[e.jsxs("td",{className:"px-4 py-3 text-sm",children:[e.jsx("div",{children:j.productName}),j.productSku&&e.jsx("div",{className:"text-xs text-gray-500",children:j.productSku})]}),e.jsx("td",{className:"px-4 py-3 text-sm",children:j.quantity}),e.jsx("td",{className:"px-4 py-3 text-sm",children:oe(j.purchasePrice)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:oe(j.total)}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-500",children:j.notes||"-"})]},j.id))})]})}),e.jsx("div",{className:"p-4 border-t bg-gray-50",children:e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:"w-64 space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:" :"}),e.jsx("span",{className:"text-sm font-medium",children:oe(y.subtotal)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-sm",children:[" (",y.taxRate,"%):"]}),e.jsx("span",{className:"text-sm font-medium",children:oe(y.taxAmount)})]}),e.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2",children:[e.jsx("span",{children:":"}),e.jsx("span",{children:oe(y.total)})]}),e.jsxs("div",{className:"flex justify-between text-green-600",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium",children:oe(y.amountPaid)})]}),e.jsxs("div",{className:"flex justify-between text-red-600",children:[e.jsx("span",{children:":"}),e.jsx("span",{className:"font-medium",children:oe(y.amountDue)})]})]})})})]}),e.jsxs(ue,{padding:"none",className:"mb-6",children:[e.jsxs("div",{className:"p-4 border-b flex justify-between items-center",children:[e.jsx("h2",{className:"text-lg font-semibold",children:""}),y.amountDue>0&&y.status!=="Cancelled"&&y.status!=="Draft"&&e.jsx(ee,{onClick:()=>i(!0),children:" "})]}),y.payments.length===0?e.jsx("div",{className:"text-center py-8 text-gray-500",children:"  "}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200",children:y.payments.map(j=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm",children:fu(j.paymentDate)}),e.jsx("td",{className:"px-4 py-3 text-sm font-medium",children:oe(j.amount)}),e.jsx("td",{className:"px-4 py-3 text-sm",children:j.method}),e.jsx("td",{className:"px-4 py-3 text-sm",children:j.referenceNumber||"-"}),e.jsx("td",{className:"px-4 py-3 text-sm",children:j.createdByUserName})]},j.id))})]})})]}),e.jsxs("div",{className:"flex justify-end gap-4 mb-6",children:[y.status==="Draft"&&e.jsx(ee,{variant:"outline",onClick:v,className:"text-red-600 border-red-600 hover:bg-red-50",children:" "}),(y.status==="Confirmed"||y.status==="PartiallyPaid")&&e.jsx(ee,{variant:"outline",onClick:()=>d(!0),className:"text-red-600 border-red-600 hover:bg-red-50",children:" "})]}),a&&e.jsx(B4,{invoiceId:Number(n),amountDue:y.amountDue,onClose:()=>i(!1)}),c&&e.jsx(Q4,{invoiceId:Number(n),isConfirmed:y.status==="Confirmed"||y.status==="PartiallyPaid",onClose:()=>d(!1)})]}):e.jsx("div",{className:"p-6",children:"  "})}const V4=tt.injectEndpoints({endpoints:s=>({getExpenses:s.query({query:n=>({url:"/expenses",params:{categoryId:n.categoryId,status:n.status,fromDate:n.fromDate,toDate:n.toDate,branchId:n.branchId,pageNumber:n.pageNumber||1,pageSize:n.pageSize||20}}),providesTags:["Expenses"]}),getExpenseById:s.query({query:n=>`/expenses/${n}`,providesTags:(n,a,i)=>[{type:"Expense",id:i}]}),createExpense:s.mutation({query:n=>({url:"/expenses",method:"POST",body:n}),invalidatesTags:["Expenses"]}),updateExpense:s.mutation({query:({id:n,expense:a})=>({url:`/expenses/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Expense",id:i},"Expenses"]}),deleteExpense:s.mutation({query:n=>({url:`/expenses/${n}`,method:"DELETE"}),invalidatesTags:["Expenses"]}),approveExpense:s.mutation({query:({id:n,request:a})=>({url:`/expenses/${n}/approve`,method:"POST",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Expense",id:i},"Expenses"]}),rejectExpense:s.mutation({query:({id:n,request:a})=>({url:`/expenses/${n}/reject`,method:"POST",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Expense",id:i},"Expenses"]}),payExpense:s.mutation({query:({id:n,request:a})=>({url:`/expenses/${n}/pay`,method:"POST",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"Expense",id:i},"Expenses"]}),uploadAttachment:s.mutation({query:({id:n,file:a})=>{const i=new FormData;return i.append("file",a),{url:`/expenses/${n}/attachments`,method:"POST",body:i}},invalidatesTags:(n,a,{id:i})=>[{type:"Expense",id:i}]}),deleteAttachment:s.mutation({query:({expenseId:n,attachmentId:a})=>({url:`/expenses/${n}/attachments/${a}`,method:"DELETE"}),invalidatesTags:(n,a,{expenseId:i})=>[{type:"Expense",id:i}]})}),overrideExisting:!1}),{useGetExpensesQuery:W4,useGetExpenseByIdQuery:V0,useCreateExpenseMutation:K4,useUpdateExpenseMutation:G4,useDeleteExpenseMutation:Y4,useApproveExpenseMutation:X4,useRejectExpenseMutation:J4,usePayExpenseMutation:Z4,useUploadAttachmentMutation:e5,useDeleteAttachmentMutation:t5}=V4,s5=tt.injectEndpoints({endpoints:s=>({getExpenseCategories:s.query({query:()=>"/expense-categories",providesTags:["ExpenseCategories"]}),getExpenseCategoryById:s.query({query:n=>`/expense-categories/${n}`,providesTags:(n,a,i)=>[{type:"ExpenseCategory",id:i}]}),createExpenseCategory:s.mutation({query:n=>({url:"/expense-categories",method:"POST",body:n}),invalidatesTags:["ExpenseCategories"]}),updateExpenseCategory:s.mutation({query:({id:n,category:a})=>({url:`/expense-categories/${n}`,method:"PUT",body:a}),invalidatesTags:(n,a,{id:i})=>[{type:"ExpenseCategory",id:i},"ExpenseCategories"]}),deleteExpenseCategory:s.mutation({query:n=>({url:`/expense-categories/${n}`,method:"DELETE"}),invalidatesTags:["ExpenseCategories"]})}),overrideExisting:!1}),{useGetExpenseCategoriesQuery:W0}=s5;function r5(){var k,R,b;const[s,n]=S.useState({pageNumber:1,pageSize:20}),{data:a,isLoading:i,error:c}=W4(s),{data:d}=W0(),[u,{isLoading:x}]=Y4(),f=((k=a==null?void 0:a.data)==null?void 0:k.items)||[],p=((R=a==null?void 0:a.data)==null?void 0:R.totalCount)||0,g=((b=a==null?void 0:a.data)==null?void 0:b.totalPages)||1,y=(d==null?void 0:d.data)||[],w=f.reduce((E,O)=>E+O.amount,0),v=f.filter(E=>E.status==="Paid").length,N=f.filter(E=>E.status==="Draft").length,j=(E,O)=>{n(L=>({...L,[E]:O,pageNumber:1}))},C=E=>{n(O=>({...O,pageNumber:E}))},T=async E=>{if(window.confirm("      "))try{await u(E).unwrap(),J.success("   ")}catch(O){console.error("Failed to delete expense:",O),J.error("   ")}},_=E=>{const O={Draft:"bg-gray-100 text-gray-700",Approved:"bg-blue-100 text-blue-800",Paid:"bg-green-100 text-green-800",Rejected:"bg-red-100 text-red-800"},L={Draft:"",Approved:"",Paid:"",Rejected:""};return e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${O[E]}`,children:L[E]})};return i?e.jsx(et,{}):c?e.jsx("div",{className:"text-red-600",children:"    "}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(el,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),e.jsx("p",{className:"text-gray-600",children:"       "})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(bs,{to:"/expenses/new",children:e.jsxs(ee,{children:[e.jsx($t,{className:"w-4 h-4"})," "]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ue,{className:"border-blue-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"  ( )"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:oe(w)})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(el,{className:"w-5 h-5 text-blue-600"})})]})}),e.jsx(ue,{className:"border-green-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:v})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx($n,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx(ue,{className:"border-amber-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-amber-700 mt-1",children:N})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-100 flex items-center justify-center",children:e.jsx($n,{className:"w-5 h-5 text-amber-600"})})]})})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("select",{value:s.categoryId||"",onChange:E=>j("categoryId",E.target.value?Number(E.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),y.map(E=>e.jsx("option",{value:E.id,children:E.name},E.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("select",{value:s.status||"",onChange:E=>j("status",E.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"Draft",children:""}),e.jsx("option",{value:"Approved",children:""}),e.jsx("option",{value:"Paid",children:""}),e.jsx("option",{value:"Rejected",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"date",value:s.fromDate||"",onChange:E=>j("fromDate",E.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"date",value:s.toDate||"",onChange:E=>j("toDate",E.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})}),e.jsxs(ue,{padding:"none",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"     ."})}):f.map(E=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:E.expenseNumber}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:E.categoryName}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-sm truncate",children:E.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:oe(E.amount)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(E.expenseDate).toLocaleDateString("ar-EG")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:_(E.status)}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(bs,{to:`/expenses/${E.id}`,className:"text-blue-600 hover:text-blue-900",title:"",children:e.jsx(gl,{className:"w-4 h-4"})}),E.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsx(bs,{to:`/expenses/${E.id}/edit`,className:"text-green-600 hover:text-green-900",title:"",children:e.jsx(tn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>T(E.id),disabled:x,className:"text-red-600 hover:text-red-900 disabled:opacity-50",title:"",children:e.jsx(is,{className:"w-4 h-4"})})]})]})})]},E.id))})]})}),g>1&&e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between px-6 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[" ",f.length,"  ",p," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",onClick:()=>C((s.pageNumber||1)-1),disabled:s.pageNumber===1,children:""}),e.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:[" ",s.pageNumber,"  ",g]}),e.jsx(ee,{variant:"outline",onClick:()=>C((s.pageNumber||1)+1),disabled:s.pageNumber===g,children:""})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]})]})]})]})})}function Gx(){const{id:s}=_o(),n=Ir(),a=!!s,{data:i,isLoading:c}=V0(Number(s),{skip:!a}),{data:d,isLoading:u}=W0(),[x,{isLoading:f}]=K4(),[p,{isLoading:g}]=G4(),[y]=e5(),w=i==null?void 0:i.data,v=(d==null?void 0:d.data)||[],[N,j]=S.useState({categoryId:0,amount:0,description:"",expenseDate:new Date().toISOString().split("T")[0],notes:"",referenceNumber:"",beneficiary:""}),[C,T]=S.useState([]);S.useEffect(()=>{w&&a&&j({categoryId:w.categoryId,amount:w.amount,description:w.description,expenseDate:w.expenseDate.split("T")[0],notes:w.notes||"",referenceNumber:w.referenceNumber||"",beneficiary:w.beneficiary||""})},[w,a]);const _=(b,E)=>{j(O=>({...O,[b]:E}))},k=b=>{b.target.files&&T(Array.from(b.target.files))},R=async b=>{if(b.preventDefault(),!N.categoryId){alert("  ");return}if(N.amount<=0){alert("   ");return}if(!N.description.trim()){alert("  ");return}try{let E;if(a)E=(await p({id:Number(s),expense:N}).unwrap()).data.id;else if(E=(await x(N).unwrap()).data.id,C.length>0)for(const L of C)await y({id:E,file:L}).unwrap();n(`/expenses/${E}`)}catch(E){console.error("Failed to save expense:",E),alert("    ")}};return c||u?e.jsx(et,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(bs,{to:a?`/expenses/${s}`:"/expenses",children:e.jsxs(ee,{variant:"outline",children:[e.jsx(pl,{className:"w-4 h-4 ml-2"}),""]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:a?" ":" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:a?"  ":"   "})]})]}),e.jsx("form",{onSubmit:R,children:e.jsxs(ue,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:N.categoryId,onChange:b=>_("categoryId",Number(b.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[e.jsx("option",{value:0,children:" "}),v.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:N.amount,onChange:b=>_("amount",Number(b.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"date",value:N.expenseDate,onChange:b=>_("expenseDate",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("input",{type:"text",value:N.beneficiary,onChange:b=>_("beneficiary",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   "})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"text",value:N.referenceNumber,onChange:b=>_("referenceNumber",b.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   "})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:N.description,onChange:b=>_("description",b.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"  ...",required:!0})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsx("textarea",{value:N.notes,onChange:b=>_("notes",b.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ..."})]}),!a&&e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:""}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"file",multiple:!0,onChange:k,className:"hidden",id:"file-upload",accept:"image/*,.pdf,.doc,.docx"}),e.jsxs("label",{htmlFor:"file-upload",className:"flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md cursor-pointer hover:bg-gray-50",children:[e.jsx(v0,{className:"w-4 h-4"})," "]}),C.length>0&&e.jsxs("span",{className:"text-sm text-gray-600",children:["  ",C.length," "]})]}),C.length>0&&e.jsx("div",{className:"mt-2 space-y-1",children:C.map((b,E)=>e.jsxs("div",{className:"text-sm text-gray-600",children:[" ",b.name," (",(b.size/1024).toFixed(2)," KB)"]},E))})]})]}),e.jsxs("div",{className:"flex gap-2 justify-end mt-6 pt-6 border-t border-gray-200",children:[e.jsx(bs,{to:a?`/expenses/${s}`:"/expenses",children:e.jsx(ee,{variant:"outline",children:""})}),e.jsxs(ee,{type:"submit",disabled:f||g,children:[e.jsx(g0,{className:"w-4 h-4 ml-2"}),f||g?" ...":""]})]})]})})]})}function n5(){const{id:s}=_o();Ir();const[n,a]=S.useState(!1),[i,c]=S.useState(!1),[d,u]=S.useState(!1),[x,f]=S.useState(""),[p,g]=S.useState("Cash"),[y,w]=S.useState(""),[v,N]=S.useState(""),{data:j,isLoading:C,error:T}=V0(Number(s)),[_,{isLoading:k}]=X4(),[R,{isLoading:b}]=J4(),[E,{isLoading:O}]=Z4(),[L]=t5(),M=j==null?void 0:j.data,A=async()=>{try{await _({id:Number(s),request:{notes:v||void 0}}).unwrap(),a(!1),N("")}catch(q){console.error("Failed to approve expense:",q)}},I=async()=>{if(!x.trim()){alert("   ");return}try{await R({id:Number(s),request:{reason:x}}).unwrap(),c(!1),f("")}catch(q){console.error("Failed to reject expense:",q)}},F=async()=>{try{await E({id:Number(s),request:{paymentMethod:p,notes:y||void 0}}).unwrap(),u(!1),w("")}catch(q){console.error("Failed to pay expense:",q)}},B=async q=>{if(window.confirm("      "))try{await L({expenseId:Number(s),attachmentId:q}).unwrap()}catch(Z){console.error("Failed to delete attachment:",Z)}},$=q=>{const Z={Draft:"bg-gray-100 text-gray-800",Approved:"bg-blue-100 text-blue-800",Paid:"bg-green-100 text-green-800",Rejected:"bg-red-100 text-red-800"},ne={Draft:"",Approved:"",Paid:"",Rejected:""};return e.jsx("span",{className:`px-3 py-1 text-sm font-semibold rounded-full ${Z[q]}`,children:ne[q]})};return C?e.jsx(et,{}):T||!M?e.jsx("div",{className:"text-red-600",children:"    "}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(bs,{to:"/expenses",children:e.jsxs(ee,{variant:"outline",children:[e.jsx(pl,{className:"w-4 h-4 ml-2"}),""]})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-gray-600 mt-1",children:M.expenseNumber})]})]}),e.jsxs("div",{className:"flex gap-2",children:[M.status==="Draft"&&e.jsxs(e.Fragment,{children:[e.jsxs(ee,{variant:"success",onClick:()=>a(!0),children:[e.jsx(Xa,{className:"w-4 h-4 ml-2"}),""]}),e.jsxs(ee,{variant:"danger",onClick:()=>c(!0),children:[e.jsx(Ye,{className:"w-4 h-4 ml-2"}),""]})]}),M.status==="Approved"&&e.jsxs(ee,{onClick:()=>u(!0),children:[e.jsx(Ns,{className:"w-4 h-4 ml-2"}),""]})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.expenseNumber})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:M.categoryName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsxs("p",{className:"text-xl font-bold text-gray-900",children:[M.amount.toFixed(2)," "]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:new Date(M.expenseDate).toLocaleDateString("ar-EG")})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("div",{className:"mt-1",children:$(M.status)})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:M.description})]}),M.vendorName&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.vendorName})]}),M.receiptNumber&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.receiptNumber})]}),M.notes&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:M.notes})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:":"}),e.jsx("p",{className:"font-medium",children:M.branchName})]})]})]})]})}),(M.status==="Approved"||M.status==="Paid"||M.status==="Rejected")&&e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:M.status==="Rejected"?" ":" "}),e.jsx("div",{className:"space-y-3",children:M.status==="Rejected"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium text-red-600",children:M.rejectionReason})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"  :"}),e.jsx("p",{className:"font-medium",children:M.rejectedByUserName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.rejectedAt&&new Date(M.rejectedAt).toLocaleString("ar-EG")})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"  :"}),e.jsx("p",{className:"font-medium",children:M.approvedByUserName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.approvedAt&&new Date(M.approvedAt).toLocaleString("ar-EG")})]})]})})]}),M.status==="Paid"&&e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.paymentMethod})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:"  :"}),e.jsx("p",{className:"font-medium",children:M.paidByUserName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm text-gray-600",children:" :"}),e.jsx("p",{className:"font-medium",children:M.paidAt&&new Date(M.paidAt).toLocaleString("ar-EG")})]})]})]}),M.attachments&&M.attachments.length>0&&e.jsxs(ue,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:""}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:M.attachments.map(q=>e.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(uu,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:q.fileName}),e.jsxs("p",{className:"text-xs text-gray-500",children:[(q.fileSize/1024).toFixed(2)," KB"]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("a",{href:q.fileUrl,download:!0,target:"_blank",rel:"noopener noreferrer",children:e.jsx("button",{className:"text-blue-600 hover:text-blue-900",children:e.jsx(Gw,{className:"w-4 h-4"})})}),M.status==="Draft"&&e.jsx("button",{onClick:()=>B(q.id),className:"text-red-600 hover:text-red-900",children:e.jsx(is,{className:"w-4 h-4"})})]})]})},q.id))})]}),e.jsx(Wt,{isOpen:n,onClose:()=>a(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-gray-600",children:"      "}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),e.jsx("textarea",{value:v,onChange:q=>N(q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(ee,{variant:"outline",onClick:()=>a(!1),children:""}),e.jsx(ee,{variant:"success",onClick:A,disabled:k,children:k?" ...":""})]})]})}),e.jsx(Wt,{isOpen:i,onClose:()=>c(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:x,onChange:q=>f(q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ...",required:!0})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(ee,{variant:"outline",onClick:()=>c(!1),children:""}),e.jsx(ee,{variant:"danger",onClick:I,disabled:b,children:b?" ...":""})]})]})}),e.jsx(Wt,{isOpen:d,onClose:()=>u(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{value:p,onChange:q=>g(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"Cash",children:""}),e.jsx("option",{value:"Card",children:""}),e.jsx("option",{value:"BankTransfer",children:" "})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" ()"}),e.jsx("textarea",{value:y,onChange:q=>w(q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"   ..."})]}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-md p-3",children:e.jsxs("p",{className:"text-sm text-blue-800",children:[e.jsx("strong",{children:"  :"})," ",M.amount.toFixed(2)," "]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(ee,{variant:"outline",onClick:()=>u(!1),children:""}),e.jsx(ee,{onClick:F,disabled:O,children:O?" ...":" "})]})]})})]})}const a5=tt.injectEndpoints({endpoints:s=>({getCurrentBalance:s.query({query:n=>({url:"/cash-register/balance",params:n?{branchId:n}:void 0}),providesTags:["CashRegisterBalance"]}),getTransactions:s.query({query:n=>({url:"/cash-register/transactions",params:{branchId:n.branchId,type:n.type,fromDate:n.fromDate,toDate:n.toDate,shiftId:n.shiftId,pageNumber:n.pageNumber||1,pageSize:n.pageSize||20}}),providesTags:["CashRegisterTransactions"]}),createTransaction:s.mutation({query:n=>({url:"/cash-register/transactions",method:"POST",body:n}),invalidatesTags:["CashRegisterBalance","CashRegisterTransactions"]}),deposit:s.mutation({query:n=>({url:"/cash-register/deposit",method:"POST",body:n}),invalidatesTags:["CashRegisterBalance","CashRegisterTransactions"]}),withdraw:s.mutation({query:n=>({url:"/cash-register/withdraw",method:"POST",body:n}),invalidatesTags:["CashRegisterBalance","CashRegisterTransactions"]}),reconcile:s.mutation({query:({shiftId:n,request:a})=>({url:"/cash-register/reconcile",method:"POST",params:{shiftId:n},body:a}),invalidatesTags:["CashRegisterBalance","CashRegisterTransactions"]}),transferCash:s.mutation({query:n=>({url:"/cash-register/transfer",method:"POST",body:n}),invalidatesTags:["CashRegisterBalance","CashRegisterTransactions"]}),getSummary:s.query({query:({branchId:n,fromDate:a,toDate:i})=>({url:"/cash-register/summary",params:{branchId:n,fromDate:a,toDate:i}})})}),overrideExisting:!1}),{useGetCurrentBalanceQuery:l5,useGetTransactionsQuery:K0,useDepositMutation:i5,useWithdrawMutation:o5}=a5;function c5(){var $;const s=Te(Rr),[n,a]=S.useState(!1),[i,c]=S.useState(!1),[d,u]=S.useState(""),[x,f]=S.useState(""),[p,g]=S.useState(""),[y,w]=S.useState(""),{data:v,isLoading:N,refetch:j}=l5(s==null?void 0:s.id,{skip:!(s!=null&&s.id)}),{data:C,isLoading:T}=K0({branchId:s==null?void 0:s.id,pageNumber:1,pageSize:10},{skip:!(s!=null&&s.id)}),[_,{isLoading:k}]=i5(),[R,{isLoading:b}]=o5(),E=v==null?void 0:v.data,O=(($=C==null?void 0:C.data)==null?void 0:$.items)||[],L=O.filter(q=>q.amount>=0).reduce((q,Z)=>q+Z.amount,0),M=O.filter(q=>q.amount<0).reduce((q,Z)=>q+Math.abs(Z.amount),0),A=async()=>{const q=parseFloat(d);if(isNaN(q)||q<=0){alert("   ");return}if(!x.trim()){alert("   ");return}try{await _({amount:q,description:x}).unwrap(),a(!1),u(""),f(""),j()}catch(Z){console.error("Failed to deposit:",Z),alert("   ")}},I=async()=>{const q=parseFloat(p);if(isNaN(q)||q<=0){alert("   ");return}if(!y.trim()){alert("   ");return}try{await R({amount:q,description:y}).unwrap(),c(!1),g(""),w(""),j()}catch(Z){console.error("Failed to withdraw:",Z),alert("   ")}},F=q=>({Opening:" ",Deposit:"",Withdrawal:"",Sale:"",Refund:"",Expense:"",SupplierPayment:" ",Adjustment:"",Transfer:""})[q],B=q=>({Opening:"text-blue-600",Deposit:"text-green-600",Withdrawal:"text-red-600",Sale:"text-green-600",Refund:"text-red-600",Expense:"text-red-600",SupplierPayment:"text-red-600",Adjustment:"text-yellow-600",Transfer:"text-purple-600"})[q];return s!=null&&s.id?N?e.jsx(et,{}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(Ns,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:""})]}),e.jsx("p",{className:"text-gray-600",children:"    "}),s&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(Ns,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[" : ",s.name]})]})]}),e.jsxs("div",{className:"flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between",children:[e.jsx("div",{}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(ee,{variant:"success",onClick:()=>a(!0),children:[e.jsx(Vw,{className:"w-4 h-4"}),""]}),e.jsxs(ee,{variant:"danger",onClick:()=>c(!0),children:[e.jsx(Hw,{className:"w-4 h-4"}),""]}),e.jsxs(ee,{variant:"outline",onClick:()=>j(),children:[e.jsx(yl,{className:"w-4 h-4"}),""]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(ue,{className:"border-blue-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:[E==null?void 0:E.currentBalance.toFixed(2)," "]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center",children:e.jsx(Ns,{className:"w-5 h-5 text-blue-600"})})]})}),e.jsx(ue,{className:"border-green-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"  ( 10)"}),e.jsxs("p",{className:"text-2xl font-bold text-green-700 mt-1",children:[L.toFixed(2)," "]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-green-100 flex items-center justify-center",children:e.jsx(Za,{className:"w-5 h-5 text-green-600"})})]})}),e.jsx(ue,{className:"border-red-100",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:"  ( 10)"}),e.jsxs("p",{className:"text-2xl font-bold text-red-700 mt-1",children:[M.toFixed(2)," "]})]}),e.jsx("div",{className:"w-10 h-10 rounded-full bg-red-100 flex items-center justify-center",children:e.jsx(mu,{className:"w-5 h-5 text-red-600"})})]})})]}),e.jsxs(ue,{padding:"none",children:[e.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:" "}),(E==null?void 0:E.lastTransactionDate)&&e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[" :"," ",new Date(E.lastTransactionDate).toLocaleString("ar-EG")]})]}),e.jsx(bs,{to:"/cash-register/transactions",className:"text-sm font-medium text-blue-600 hover:text-blue-800",children:" "})]}),e.jsx("div",{className:"p-4",children:T?e.jsx(et,{}):O.length===0?e.jsx("p",{className:"text-center text-gray-500 py-8",children:"  "}):e.jsx("div",{className:"space-y-3",children:O.map(q=>e.jsxs("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${q.amount>=0?"bg-green-100":"bg-red-100"}`,children:q.amount>=0?e.jsx(Za,{className:"w-5 h-5 text-green-600"}):e.jsx(mu,{className:"w-5 h-5 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:`font-medium ${B(q.type)}`,children:F(q.type)}),e.jsx("p",{className:"text-sm text-gray-600",children:q.description}),e.jsx("p",{className:"text-xs text-gray-500",children:new Date(q.createdAt).toLocaleString("ar-EG")})]})]}),e.jsxs("div",{className:"text-left",children:[e.jsxs("p",{className:`text-lg font-bold ${q.amount>=0?"text-green-600":"text-red-600"}`,children:[q.amount>=0?"+":"",q.amount.toFixed(2)," "]}),e.jsxs("p",{className:"text-xs text-gray-500",children:[": ",q.balanceAfter.toFixed(2)," "]})]})]},q.id))})})]}),e.jsx(Wt,{isOpen:n,onClose:()=>a(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:d,onChange:q=>u(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:x,onChange:q=>f(q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ...",required:!0})]}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(ee,{variant:"outline",onClick:()=>a(!1),children:""}),e.jsx(ee,{variant:"success",onClick:A,disabled:k,children:k?" ...":" "})]})]})}),e.jsx(Wt,{isOpen:i,onClose:()=>c(!1),title:" ",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" () ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:p,onChange:q=>g(q.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"0.00",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[" ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("textarea",{value:y,onChange:q=>w(q.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" ...",required:!0})]}),e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-3",children:e.jsxs("p",{className:"text-sm text-yellow-800",children:[e.jsx("strong",{children:" :"})," ",E==null?void 0:E.currentBalance.toFixed(2)," "]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(ee,{variant:"outline",onClick:()=>c(!1),children:""}),e.jsx(ee,{variant:"danger",onClick:I,disabled:b,children:b?" ...":" "})]})]})}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"   "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"       "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      (  )"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"     (   )"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"   10    "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"      "]})]})]})]}),"      "]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(et,{})})}function d5(){var j,C,T;const s=Te(Rr),[n,a]=S.useState({pageNumber:1,pageSize:20}),{data:i,isLoading:c,error:d}=K0({...n,branchId:s==null?void 0:s.id},{skip:!(s!=null&&s.id)}),u=((j=i==null?void 0:i.data)==null?void 0:j.items)||[],x=((C=i==null?void 0:i.data)==null?void 0:C.totalCount)||0,f=((T=i==null?void 0:i.data)==null?void 0:T.totalPages)||1,p=u.filter(_=>_.amount>=0).length,g=u.filter(_=>_.amount<0).length,y=(_,k)=>{a(R=>({...R,[_]:k,pageNumber:1}))},w=_=>{a(k=>({...k,pageNumber:_}))},v=_=>({Opening:" ",Deposit:"",Withdrawal:"",Sale:"",Refund:"",Expense:"",SupplierPayment:" ",Adjustment:"",Transfer:""})[_],N=_=>({Opening:"bg-blue-100 text-blue-800",Deposit:"bg-green-100 text-green-800",Withdrawal:"bg-red-100 text-red-800",Sale:"bg-green-100 text-green-800",Refund:"bg-red-100 text-red-800",Expense:"bg-red-100 text-red-800",SupplierPayment:"bg-red-100 text-red-800",Adjustment:"bg-yellow-100 text-yellow-800",Transfer:"bg-purple-100 text-purple-800"})[_];return s!=null&&s.id?c?e.jsx(et,{}):d?e.jsx("div",{className:"text-red-600",children:"    "}):e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(e2,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"    "}),s&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(yt,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[" : ",s.name]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(bs,{to:"/cash-register",children:e.jsxs(ee,{variant:"outline",children:[e.jsx(pl,{className:"w-4 h-4"})," "]})})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(ue,{className:"border-blue-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:u.length})]}),e.jsxs(ue,{className:"border-green-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-green-700 mt-1",children:p})]}),e.jsxs(ue,{className:"border-red-100",children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-red-700 mt-1",children:g})]})]}),e.jsx(ue,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsxs("select",{value:n.type||"",onChange:_=>y("type",_.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:""}),e.jsx("option",{value:"Opening",children:" "}),e.jsx("option",{value:"Deposit",children:""}),e.jsx("option",{value:"Withdrawal",children:""}),e.jsx("option",{value:"Sale",children:""}),e.jsx("option",{value:"Refund",children:""}),e.jsx("option",{value:"Expense",children:""}),e.jsx("option",{value:"SupplierPayment",children:" "}),e.jsx("option",{value:"Adjustment",children:""}),e.jsx("option",{value:"Transfer",children:""})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"date",value:n.fromDate||"",onChange:_=>y("fromDate",_.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"date",value:n.toDate||"",onChange:_=>y("toDate",_.target.value||void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:" "}),e.jsx("input",{type:"number",value:n.shiftId||"",onChange:_=>y("shiftId",_.target.value?Number(_.target.value):void 0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:" "})]})]})}),e.jsxs(ue,{padding:"none",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:7,className:"px-6 py-10 text-center text-sm text-gray-500",children:"     ."})}):u.map(_=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:new Date(_.createdAt).toLocaleString("ar-EG")}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("span",{className:`px-2 py-1 text-xs font-semibold rounded-full ${N(_.type)}`,children:v(_.type)})}),e.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 max-w-sm truncate",children:_.description}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex items-center gap-1",children:[_.amount>=0?e.jsx(Za,{className:"w-4 h-4 text-green-600"}):e.jsx(mu,{className:"w-4 h-4 text-red-600"}),e.jsxs("span",{className:`text-sm font-bold ${_.amount>=0?"text-green-600":"text-red-600"}`,children:[_.amount>=0?"+":"",_.amount.toFixed(2)," "]})]})}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:[_.balanceBefore.toFixed(2)," "]}),e.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:[_.balanceAfter.toFixed(2)," "]}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:_.createdByUserName})]},_.id))})]})}),f>1&&e.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between px-6 py-4 border-t border-gray-200",children:[e.jsxs("div",{className:"text-sm text-gray-700",children:[" ",u.length,"  ",x," "]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(ee,{variant:"outline",onClick:()=>w(n.pageNumber-1),disabled:n.pageNumber===1,children:""}),e.jsxs("span",{className:"px-4 py-2 text-sm text-gray-700",children:[" ",n.pageNumber,"  ",f]}),e.jsx(ee,{variant:"outline",onClick:()=>w(n.pageNumber+1),disabled:n.pageNumber===f,children:""})]})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"    "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"        "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"         "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"    (   )"]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"        "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"         "]})]})]})]})]})}):e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsx(et,{})})}function u5(){const s=Te(Rr),[n,a]=S.useState(""),{data:i,isLoading:c,error:d,refetch:u}=F2((s==null?void 0:s.id)||0,{skip:!s}),x=()=>{u(),J.success("  ")},f=i==null?void 0:i.filter(p=>{var g,y;return p.productName.toLowerCase().includes(n.toLowerCase())||((g=p.productSku)==null?void 0:g.toLowerCase().includes(n.toLowerCase()))||((y=p.productBarcode)==null?void 0:y.toLowerCase().includes(n.toLowerCase()))});return s?c?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:"    "}),e.jsx("button",{onClick:x,className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:" "})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[": ",e.jsx("span",{className:"font-semibold",children:s.name})]})]}),e.jsxs("button",{onClick:x,className:"flex items-center gap-2 px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:[e.jsx(yl,{className:"w-4 h-4"}),""]})]}),e.jsxs("div",{className:"relative",children:[e.jsx(en,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),e.jsx("input",{type:"text",placeholder:"   (  )...",value:n,onChange:p=>a(p.target.value),className:"w-full pr-10 pl-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:e.jsx(Ze,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.length)||0})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:e.jsx(Ze,{className:"w-6 h-6 text-green-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.reduce((p,g)=>p+g.quantity,0))||0})]})]})}),e.jsx("div",{className:"bg-white p-4 rounded-lg border border-gray-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:e.jsx(zt,{className:"w-6 h-6 text-red-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-600",children:" "}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(f==null?void 0:f.filter(p=>p.isLowStock).length)||0})]})]})})]}),e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"  "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:" "})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:f&&f.length>0?f.map(p=>e.jsxs("tr",{className:`hover:bg-gray-50 ${p.isLowStock?"bg-red-50":""}`,children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"flex items-center",children:e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:p.productName}),p.productBarcode&&e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",p.productBarcode]})]})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:p.productSku||"-"})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm font-semibold text-gray-900",children:p.quantity})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsx("div",{className:"text-sm text-gray-900",children:p.reorderLevel})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:p.isLowStock?e.jsxs("span",{className:"inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[e.jsx(zt,{className:"w-3 h-3"}),""]}):e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:""})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(p.lastUpdatedAt).toLocaleDateString("ar-EG",{year:"numeric",month:"short",day:"numeric"})})]},p.id)):e.jsx("tr",{children:e.jsxs("td",{colSpan:6,className:"px-6 py-12 text-center",children:[e.jsx(Ze,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:n?"    ":"    "})]})})})]})})})]}):e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zt,{className:"w-12 h-12 text-yellow-500 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"   "})]})})}function m5(){const s=Te(Rr),n=Te(ml),[a,i]=S.useState(s==null?void 0:s.id),{data:c,isLoading:d,error:u}=I0(a),x=c==null?void 0:c.reduce((f,p)=>(f[p.branchId]||(f[p.branchId]={branchName:p.branchName,items:[]}),f[p.branchId].items.push(p),f),{});return d?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):u?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center",children:[e.jsx(zt,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),e.jsx("p",{className:"text-red-600",children:"    "})]})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"      "})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Wu,{className:"w-5 h-5 text-gray-400"}),e.jsxs("select",{value:a||"all",onChange:f=>i(f.target.value==="all"?void 0:Number(f.target.value)),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[e.jsx("option",{value:"all",children:" "}),n.map(f=>e.jsx("option",{value:f.id,children:f.name},f.id))]})]})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{className:"w-8 h-8 text-red-600"}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-lg font-semibold text-red-900",children:[(c==null?void 0:c.length)||0,"    "]}),e.jsx("p",{className:"text-sm text-red-700",children:a?`  ${s==null?void 0:s.name}`:` ${Object.keys(x||{}).length} `})]})]})}),c&&c.length>0?e.jsx("div",{className:"space-y-4",children:a?e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"  "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map(f=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:f.productName}),f.productSku&&e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",f.productSku]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-red-600",children:f.quantity})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:f.reorderLevel})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:Math.max(0,f.reorderLevel-f.quantity)})})]},f.id))})]})})}):e.jsx("div",{className:"space-y-4",children:Object.entries(x||{}).map(([f,p])=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"bg-gray-50 px-6 py-3 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:p.branchName}),e.jsxs("p",{className:"text-sm text-gray-600",children:[p.items.length,"  "]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"  "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:p.items.map(g=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:"text-sm font-medium text-gray-900",children:g.productName}),g.productSku&&e.jsxs("div",{className:"text-xs text-gray-500",children:[": ",g.productSku]})]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-red-600",children:g.quantity})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm text-gray-900",children:g.reorderLevel})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"text-sm font-semibold text-orange-600",children:Math.max(0,g.reorderLevel-g.quantity)})})]},g.id))})]})})]},f))})}):e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-12",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"     "})]})})]})}function f5({onSuccess:s,onCancel:n}){var v,N;const a=Te(qn),i=Te(ml),c=Te(Rr),[d,u]=S.useState({fromBranchId:(c==null?void 0:c.id)||0,toBranchId:0,productId:0,quantity:1,reason:"",notes:""}),[x,{isLoading:f}]=$2(),{data:p}=vl({}),g=(p==null?void 0:p.data)??[];S.useEffect(()=>{c&&u(j=>({...j,fromBranchId:c.id}))},[c]);const y=i.filter(j=>j.id!==d.fromBranchId),w=async j=>{var C;if(j.preventDefault(),!d.fromBranchId){J.error("   ");return}if(!d.toBranchId){J.error("   ");return}if(!d.productId){J.error("  ");return}if(d.quantity<=0){J.error("      ");return}if(!d.reason.trim()){J.error("   ");return}try{await x(d).unwrap(),J.success("    "),u({fromBranchId:(c==null?void 0:c.id)||0,toBranchId:0,productId:0,quantity:1,reason:"",notes:""}),s==null||s()}catch(T){J.error(((C=T==null?void 0:T.data)==null?void 0:C.message)||"     ")}};return a?e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"   "}),n&&e.jsx("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:d.fromBranchId,onChange:j=>u({...d,fromBranchId:Number(j.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:0,children:"  "}),i.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:d.toBranchId,onChange:j=>u({...d,toBranchId:Number(j.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,disabled:!d.fromBranchId,children:[e.jsx("option",{value:0,children:"  "}),y.map(j=>e.jsx("option",{value:j.id,children:j.name},j.id))]})]})]}),d.fromBranchId>0&&d.toBranchId>0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center justify-center gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:(v=i.find(j=>j.id===d.fromBranchId))==null?void 0:v.name})]}),e.jsx(pl,{className:"w-8 h-8 text-blue-600"}),e.jsxs("div",{className:"text-center",children:[e.jsx(Ze,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),e.jsx("p",{className:"text-sm font-semibold text-blue-900",children:(N=i.find(j=>j.id===d.toBranchId))==null?void 0:N.name})]})]})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:d.productId,onChange:j=>u({...d,productId:Number(j.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[e.jsx("option",{value:0,children:" "}),g.map(j=>e.jsxs("option",{value:j.id,children:[j.name," ",j.sku&&`(${j.sku})`]},j.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsx("input",{type:"number",min:"1",value:d.quantity,onChange:j=>u({...d,quantity:Number(j.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["  ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("input",{type:"text",value:d.reason,onChange:j=>u({...d,reason:j.target.value}),placeholder:":     ...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" ()"}),e.jsx("textarea",{value:d.notes,onChange:j=>u({...d,notes:j.target.value}),rows:3,placeholder:"  ...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{type:"submit",disabled:f,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed font-semibold",children:f?" ...":"  "}),n&&e.jsx("button",{type:"button",onClick:n,className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""})]})]})]}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"  "}),e.jsx("p",{className:"text-sm text-yellow-700",children:"    "})]})]})})}function h5(){const s=Te(qn),n=Te(ml),[a,i]=S.useState({fromBranchId:void 0,toBranchId:void 0,status:void 0}),[c,d]=S.useState(1),[u,x]=S.useState(""),[f,p]=S.useState(null),{data:g,isLoading:y}=q2({...a,pageNumber:c,pageSize:20}),[w]=U2(),[v]=B2(),[N]=Q2(),j=async k=>{var R;if(confirm("     "))try{await w(k).unwrap(),J.success("    ")}catch(b){J.error(((R=b==null?void 0:b.data)==null?void 0:R.message)||"   ")}},C=async k=>{var R;if(confirm("       "))try{await v(k).unwrap(),J.success("   ")}catch(b){J.error(((R=b==null?void 0:b.data)==null?void 0:R.message)||"   ")}},T=async k=>{var R;if(!u.trim()){J.error("   ");return}try{await N({id:k,request:{reason:u}}).unwrap(),J.success("   "),p(null),x("")}catch(b){J.error(((R=b==null?void 0:b.data)==null?void 0:R.message)||"   ")}},_=k=>{const b={Pending:{bg:"bg-yellow-100",text:"text-yellow-800",icon:Vn,label:" "},Approved:{bg:"bg-blue-100",text:"text-blue-800",icon:Xa,label:" "},Received:{bg:"bg-green-100",text:"text-green-800",icon:Ze,label:" "},Cancelled:{bg:"bg-red-100",text:"text-red-800",icon:Ye,label:""}}[k];if(!b)return null;const E=b.icon;return e.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-0.5 rounded-full text-xs font-medium ${b.bg} ${b.text}`,children:[e.jsx(E,{className:"w-3 h-3"}),b.label]})};return y?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"  "}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"    "})]})}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Wu,{className:"w-5 h-5 text-gray-400"}),e.jsx("h3",{className:"font-semibold text-gray-900",children:""})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:a.fromBranchId||"",onChange:k=>i({...a,fromBranchId:k.target.value?Number(k.target.value):void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:a.toBranchId||"",onChange:k=>i({...a,toBranchId:k.target.value?Number(k.target.value):void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),n.map(k=>e.jsx("option",{value:k.id,children:k.name},k.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:a.status||"",onChange:k=>i({...a,status:k.target.value?k.target.value:void 0}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:" "}),e.jsx("option",{value:"Pending",children:" "}),e.jsx("option",{value:"Approved",children:" "}),e.jsx("option",{value:"Received",children:" "}),e.jsx("option",{value:"Cancelled",children:""})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[g&&g.items.length>0?e.jsx("div",{className:"divide-y divide-gray-200",children:g.items.map(k=>e.jsxs("div",{className:"p-6 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:k.transferNumber}),_(k.status)]}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:k.fromBranchName})]}),e.jsx(pl,{className:"w-5 h-5 text-gray-400"}),e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4 text-gray-400"}),e.jsx("span",{className:"font-medium text-gray-900",children:k.toBranchName})]})]}),e.jsx("div",{className:"bg-gray-50 rounded-lg p-3 mb-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900",children:k.productName}),k.productSku&&e.jsxs("p",{className:"text-xs text-gray-500",children:[": ",k.productSku]})]}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm text-gray-600",children:""}),e.jsx("p",{className:"text-lg font-bold text-blue-600",children:k.quantity})]})]})}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[e.jsx("span",{className:"font-medium",children:":"})," ",k.reason]}),k.notes&&e.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[e.jsx("span",{className:"font-medium",children:":"})," ",k.notes]})]}),e.jsxs("div",{className:"text-xs text-gray-500 space-y-1",children:[e.jsxs("p",{children:["  ",k.createdByUserName," "," ",new Date(k.createdAt).toLocaleString("ar-EG")]}),k.approvedByUserName&&e.jsxs("p",{children:["  ",k.approvedByUserName," "," ",new Date(k.approvedAt).toLocaleString("ar-EG")]}),k.receivedByUserName&&e.jsxs("p",{children:[" ",k.receivedByUserName," "," ",new Date(k.receivedAt).toLocaleString("ar-EG")]}),k.cancelledByUserName&&e.jsxs("p",{className:"text-red-600",children:[" ",k.cancelledByUserName," "," ",new Date(k.cancelledAt).toLocaleString("ar-EG"),k.cancellationReason&&` - ${k.cancellationReason}`]})]})]}),s&&e.jsxs("div",{className:"flex flex-col gap-2 mr-4",children:[k.status==="Pending"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>j(k.id),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm",children:[e.jsx(Xa,{className:"w-4 h-4"}),""]}),e.jsxs("button",{onClick:()=>p(k.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:[e.jsx(Ye,{className:"w-4 h-4"}),""]})]}),k.status==="Approved"&&e.jsxs(e.Fragment,{children:[e.jsxs("button",{onClick:()=>C(k.id),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:[e.jsx(Ze,{className:"w-4 h-4"}),""]}),e.jsxs("button",{onClick:()=>p(k.id),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 text-sm",children:[e.jsx(Ye,{className:"w-4 h-4"}),""]})]})]})]}),f===k.id&&e.jsxs("div",{className:"mt-4 p-4 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"text",value:u,onChange:R=>x(R.target.value),placeholder:"  ...",className:"w-full px-4 py-2 border border-gray-300 rounded-lg mb-3"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>T(k.id),className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:" "}),e.jsx("button",{onClick:()=>{p(null),x("")},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""})]})]})]},k.id))}):e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(Ze,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"   "}),e.jsx("p",{className:"text-gray-600",children:"      "})]}),g&&g.totalPages>1&&e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:[" ",g.pageNumber,"  ",g.totalPages]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>d(k=>Math.max(1,k-1)),disabled:c===1,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""}),e.jsx("button",{onClick:()=>d(k=>Math.min(g.totalPages,k+1)),disabled:c===g.totalPages,className:"px-4 py-2 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:""})]})]})})]})]})}function x5(){const s=Te(qn),n=Te(Rr),a=Te(ml),[i,c]=S.useState((n==null?void 0:n.id)||0),[d,u]=S.useState(!1),[x,f]=S.useState(null),[p,g]=S.useState({productId:0,price:0,effectiveFrom:new Date().toISOString().split("T")[0]}),{data:y,isLoading:w}=H2(i,{skip:!i}),{data:v}=vl({}),N=(v==null?void 0:v.data)??[],[j,{isLoading:C}]=V2(),[T]=W2(),_=async b=>{var E;if(b.preventDefault(),!p.productId){J.error("  ");return}if(p.price<=0){J.error("      ");return}try{await j({branchId:i,productId:p.productId,price:p.price,effectiveFrom:p.effectiveFrom}).unwrap(),J.success("   "),u(!1),f(null),g({productId:0,price:0,effectiveFrom:new Date().toISOString().split("T")[0]})}catch(O){J.error(((E=O==null?void 0:O.data)==null?void 0:E.message)||"    ")}},k=async b=>{var E;if(confirm("        "))try{await T({branchId:i,productId:b}).unwrap(),J.success("   ")}catch(O){J.error(((E=O==null?void 0:O.data)==null?void 0:E.message)||"    ")}},R=b=>{g({productId:b.productId,price:b.price,effectiveFrom:b.effectiveFrom.split("T")[0]}),f(b.id),u(!0)};return s?w?e.jsx("div",{className:"flex items-center justify-center h-64",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:" "}),e.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"    "})]}),e.jsxs("button",{onClick:()=>u(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx($t,{className:"w-4 h-4"}),"  "]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsxs("select",{value:i,onChange:b=>c(Number(b.target.value)),className:"w-full md:w-64 px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:0,children:" "}),a.map(b=>e.jsx("option",{value:b.id,children:b.name},b.id))]})]}),d&&e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x?" ":"  "}),e.jsx("button",{onClick:()=>{u(!1),f(null),g({productId:0,price:0,effectiveFrom:new Date().toISOString().split("T")[0]})},className:"p-2 hover:bg-gray-100 rounded-lg",children:e.jsx(Ye,{className:"w-5 h-5 text-gray-500"})})]}),e.jsxs("form",{onSubmit:_,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:""}),e.jsxs("select",{value:p.productId,onChange:b=>g({...p,productId:Number(b.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0,disabled:!!x,children:[e.jsx("option",{value:0,children:" "}),N.map(b=>e.jsxs("option",{value:b.id,children:[b.name," -  : ",b.price," ."]},b.id))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"  (.)"}),e.jsx("input",{type:"number",step:"0.01",min:"0",value:p.price,onChange:b=>g({...p,price:Number(b.target.value)}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:" "}),e.jsx("input",{type:"date",value:p.effectiveFrom,onChange:b=>g({...p,effectiveFrom:b.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500",required:!0})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("button",{type:"submit",disabled:C,className:"flex-1 px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 font-semibold",children:C?" ...":""}),e.jsx("button",{type:"button",onClick:()=>{u(!1),f(null)},className:"px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:""})]})]})]}),i>0&&e.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:" "}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""}),e.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:y&&y.length>0?y.map(b=>{const E=b.price-b.defaultPrice,O=(E/b.defaultPrice*100).toFixed(1);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm font-medium text-gray-900",children:b.productName})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm text-gray-900",children:[b.defaultPrice.toFixed(2)," ."]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"text-sm font-semibold text-blue-600",children:[b.price.toFixed(2)," ."]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:`text-sm font-semibold ${E>0?"text-green-600":E<0?"text-red-600":"text-gray-600"}`,children:[E>0?"+":"",E.toFixed(2)," (",O,"%)"]})}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("div",{className:"text-sm text-gray-900",children:new Date(b.effectiveFrom).toLocaleDateString("ar-EG")})}),e.jsx("td",{className:"px-6 py-4",children:b.isActive?e.jsx("span",{className:"inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:""}):e.jsx("span",{className:"inline-flex px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:" "})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:()=>R(b),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg",title:"",children:e.jsx(tn,{className:"w-4 h-4"})}),e.jsx("button",{onClick:()=>k(b.productId),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg",title:"",children:e.jsx(is,{className:"w-4 h-4"})})]})})]},b.id)}):e.jsx("tr",{children:e.jsxs("td",{colSpan:7,className:"px-6 py-12 text-center",children:[e.jsx(Ns,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500",children:"     "}),e.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"    "})]})})})]})})})]}):e.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(zt,{className:"w-8 h-8 text-yellow-600"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-yellow-900",children:"  "}),e.jsx("p",{className:"text-sm text-yellow-700",children:"    "})]})]})})}function p5(){const s=Te(Rr),n=Te(qn),[a,i]=S.useState("inventory"),[c,d]=S.useState(!1),x=[{id:"inventory",label:" ",icon:Ze,adminOnly:!1},{id:"alerts",label:" ",icon:zt,adminOnly:!1},{id:"transfers",label:" ",icon:$x,adminOnly:!0},{id:"pricing",label:" ",icon:Ns,adminOnly:!0}].filter(f=>!f.adminOnly||n);return e.jsx("div",{className:"min-h-screen bg-gray-50",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx(yt,{className:"w-8 h-8 text-blue-600"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:" "})]}),e.jsx("p",{className:"text-gray-600",children:"      "}),s&&e.jsxs("div",{className:"mt-3 inline-flex items-center gap-2 px-4 py-2 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(yt,{className:"w-4 h-4 text-blue-600"}),e.jsxs("span",{className:"text-sm font-medium text-blue-900",children:[" : ",s.name]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 mb-6",children:[e.jsx("div",{className:"border-b border-gray-200",children:e.jsx("nav",{className:"flex -mb-px",children:x.map(f=>{const p=f.icon,g=a===f.id;return e.jsxs("button",{onClick:()=>{i(f.id),d(!1)},className:`flex items-center gap-2 px-6 py-4 border-b-2 font-medium text-sm transition-colors ${g?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[e.jsx(p,{className:"w-5 h-5"}),f.label]},f.id)})})}),e.jsxs("div",{className:"p-6",children:[a==="inventory"&&e.jsx(u5,{}),a==="alerts"&&e.jsx(m5,{}),a==="transfers"&&e.jsxs("div",{className:"space-y-6",children:[c?e.jsx(f5,{onSuccess:()=>d(!1),onCancel:()=>d(!1)}):e.jsx("div",{className:"flex justify-end mb-4",children:e.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx($x,{className:"w-4 h-4"}),"  "]})}),e.jsx(h5,{})]}),a==="pricing"&&e.jsx(x5,{})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-blue-900 mb-3",children:"    "}),e.jsxs("ul",{className:"space-y-2 text-sm text-blue-800",children:[e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"           "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"          "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"     ( ) -   "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:" :"}),"        "]})]}),e.jsxs("li",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"font-bold",children:""}),e.jsxs("span",{children:[e.jsx("strong",{children:":"}),"          "]})]})]})]})]})})}const g5=tt.injectEndpoints({endpoints:s=>({getTenants:s.query({query:()=>({url:"/system/tenants",method:"GET"})}),createTenant:s.mutation({query:n=>({url:"/system/tenants",method:"POST",body:n})}),setTenantStatus:s.mutation({query:({tenantId:n,body:a})=>({url:`/system/tenants/${n}/status`,method:"PATCH",body:a})})})}),{useGetTenantsQuery:y5,useCreateTenantMutation:v5,useSetTenantStatusMutation:j5}=g5,b5=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s]).{8,100}$/;function N5(){const[s,{isLoading:n}]=v5(),[a,{isLoading:i}]=j5(),{data:c,isLoading:d,refetch:u}=y5(),[x,f]=S.useState({tenantName:"",adminEmail:"",adminPassword:"",branchName:""}),[p,g]=S.useState(""),[y,w]=S.useState(""),[v,N]=S.useState(""),[j,C]=S.useState("all"),T=(c==null?void 0:c.data)??[],_=T.filter(I=>I.isActive).length,k=T.length-_,R=T.reduce((I,F)=>I+F.usersCount,0),b=T.reduce((I,F)=>I+F.activeUsersCount,0),E=T.reduce((I,F)=>I+F.activeBranchesCount,0),O=T.filter(I=>{const F=I.name.toLowerCase().includes(v.toLowerCase())||I.slug.toLowerCase().includes(v.toLowerCase()),B=j==="all"||j==="active"&&I.isActive||j==="inactive"&&!I.isActive;return F&&B}),L=()=>x.tenantName.trim().length<2?"       ":x.branchName.trim().length<2?"       ":b5.test(x.adminPassword)?"":"      8           ",M=async I=>{var $;I.preventDefault(),g(""),w("");const F=L();if(F){g(F);return}if(window.confirm("             ."))try{const q={tenantName:x.tenantName.trim(),adminEmail:x.adminEmail.trim(),adminPassword:x.adminPassword,branchName:x.branchName.trim()},Z=await s(q).unwrap();w(Z.message||"   "),await u(),f({tenantName:"",adminEmail:"",adminPassword:"",branchName:""})}catch(q){console.error("Create tenant error:",q),g((($=q==null?void 0:q.data)==null?void 0:$.message)||(q==null?void 0:q.message)||"   ")}},A=async(I,F)=>{var $;if(window.confirm(F?"      ":"      "))try{const q=await a({tenantId:I,body:{isActive:!F}}).unwrap();w(q.message||"   "),g(""),await u()}catch(q){g((($=q==null?void 0:q.data)==null?void 0:$.message)||(q==null?void 0:q.message)||"    "),w("")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 p-6",children:e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:e.jsx(yt,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"  "}),e.jsx("p",{className:"text-gray-600",children:"   (System Owner)"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-6 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:T.length})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-green-600 mt-2",children:_})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-red-600 mt-2",children:k})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:R})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-blue-600 mt-2",children:b})]}),e.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 shadow-sm",children:[e.jsx("p",{className:"text-sm text-gray-500",children:" "}),e.jsx("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:E})]})]}),p&&e.jsxs("div",{className:"mb-6 p-4 bg-red-50 border-l-4 border-red-500 rounded-lg flex items-start gap-3",children:[e.jsx(Fn,{className:"w-5 h-5 text-red-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-red-800 mb-1",children:""}),e.jsx("p",{className:"text-red-700",children:p})]})]}),y&&e.jsxs("div",{className:"mb-6 p-4 bg-green-50 border-l-4 border-green-500 rounded-lg flex items-start gap-3",children:[e.jsx(Kw,{className:"w-5 h-5 text-green-500 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-green-800 mb-1",children:"!"}),e.jsx("p",{className:"text-green-700",children:y})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden mb-6",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 px-6 py-4",children:e.jsx("h2",{className:"text-xl font-semibold text-white",children:" "})}),e.jsxs("form",{onSubmit:M,className:"p-6 space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(yt,{className:"w-4 h-4 inline-block ml-1"})," "]}),e.jsx("input",{type:"text",value:x.tenantName,onChange:I=>f({...x,tenantName:I.target.value}),required:!0,minLength:2,maxLength:100,placeholder:":  ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(m0,{className:"w-4 h-4 inline-block ml-1"}),"  "]}),e.jsx("input",{type:"text",value:x.branchName,onChange:I=>f({...x,branchName:I.target.value}),required:!0,minLength:2,maxLength:100,placeholder:":  ",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsx("div",{className:"border-t border-gray-200 pt-6",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:" "})}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(Ku,{className:"w-4 h-4 inline-block ml-1"}),"  "]}),e.jsx("input",{type:"email",value:x.adminEmail,onChange:I=>f({...x,adminEmail:I.target.value}),required:!0,placeholder:"admin@example.com",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[e.jsx(t2,{className:"w-4 h-4 inline-block ml-1"})," "]}),e.jsx("input",{type:"password",value:x.adminPassword,onChange:I=>f({...x,adminPassword:I.target.value}),required:!0,minLength:8,maxLength:100,placeholder:"  ",pattern:"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[^\\w\\s]).{8,100}$",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),e.jsx("p",{className:"mt-2 text-sm text-gray-500",children:"8+  :       "})]}),e.jsx("button",{type:"submit",disabled:n,className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-[1.02] active:scale-[0.98]",children:n?e.jsxs("span",{className:"flex items-center justify-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})," ..."]}):" "})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:" "}),e.jsxs("button",{onClick:()=>u(),className:"inline-flex items-center gap-2 px-3 py-2 text-sm border border-gray-300 rounded-lg hover:bg-gray-50",type:"button",children:[e.jsx(yl,{className:"w-4 h-4"}),""]})]}),e.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsx("input",{type:"text",value:v,onChange:I=>N(I.target.value),placeholder:"   slug",className:"md:col-span-2 px-3 py-2 border border-gray-300 rounded-lg text-sm"}),e.jsxs("select",{value:j,onChange:I=>C(I.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg text-sm",children:[e.jsx("option",{value:"all",children:" "}),e.jsx("option",{value:"active",children:" "}),e.jsx("option",{value:"inactive",children:" "})]})]}),d?e.jsx("div",{className:"p-6 text-gray-600",children:"  ..."}):O.length===0?e.jsx("div",{className:"p-6 text-gray-600",children:"    ."}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:"Slug"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:" ()"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:"Admins / Cashiers"}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:" "}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:""}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-gray-600",children:""})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:O.map(I=>e.jsxs("tr",{children:[e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 font-medium",children:I.name}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:I.slug}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[I.branchesCount," (",I.activeBranchesCount,")"]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[I.activeUsersCount," / ",I.usersCount,e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[" : ",I.inactiveUsersCount]})]}),e.jsxs("td",{className:"px-4 py-3 text-sm text-gray-600",children:[I.adminsCount," / ",I.cashiersCount]}),e.jsxs("td",{className:"px-4 py-3 text-xs text-gray-600 leading-5",children:[e.jsxs("div",{children:[": ",I.currency]}),e.jsxs("div",{children:[" : ",I.timezone]}),e.jsxs("div",{children:[": ",I.isTaxEnabled?`${I.taxRate}%`:""]}),e.jsxs("div",{children:[" : ",I.allowNegativeStock?"":" "]}),e.jsxs("div",{children:[" : ",I.updatedAt?new Date(I.updatedAt).toLocaleDateString("ar-EG"):"-"]})]}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:new Date(I.createdAt).toLocaleDateString("ar-EG")}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${I.isActive?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:I.isActive?"":""})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("button",{type:"button",onClick:()=>A(I.id,I.isActive),disabled:i,className:`inline-flex items-center gap-2 px-3 py-2 rounded-lg text-xs font-medium ${I.isActive?"bg-red-50 text-red-700 hover:bg-red-100":"bg-green-50 text-green-700 hover:bg-green-100"} disabled:opacity-50`,children:[e.jsx(l2,{className:"w-3 h-3"}),I.isActive?"":""]})})]},I.id))})]})})]}),e.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-semibold text-blue-900 mb-2",children:""}),e.jsxs("ul",{className:"text-sm text-blue-800 space-y-1",children:[e.jsx("li",{children:"      "}),e.jsx("li",{children:"     "}),e.jsx("li",{children:"      "}),e.jsx("li",{children:"       "})]})]})]})})}const w5=()=>{const s=sr();return S.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",s.pathname)},[s.pathname]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:e.jsxs("div",{className:"text-center animate-fade-in",children:[e.jsx("div",{className:"w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-6xl",children:""})}),e.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"404"}),e.jsx("p",{className:"text-xl text-gray-500 mb-8",children:"  "}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx(bs,{to:"/login",children:e.jsx(ee,{variant:"primary",rightIcon:e.jsx(Jw,{className:"w-4 h-4"}),children:""})}),e.jsxs(ee,{variant:"outline",onClick:()=>window.history.back(),children:[e.jsx(qw,{className:"w-4 h-4 ml-2"}),""]})]})]})})},S5=({children:s})=>Te(ul)?e.jsx(e.Fragment,{children:s}):e.jsx(Hn,{to:"/login",replace:!0}),at=({children:s})=>Te(qn)?e.jsx(e.Fragment,{children:s}):e.jsx(Hn,{to:"/pos",replace:!0}),k5=({children:s})=>Te(Fu)?e.jsx(e.Fragment,{children:s}):e.jsx(Hn,{to:"/pos",replace:!0}),Yx=({children:s})=>{const n=Te(ul),a=Te(dl);return n?e.jsx(Hn,{to:(a==null?void 0:a.role)==="SystemOwner"?"/owner/tenants":"/pos",replace:!0}):e.jsx(e.Fragment,{children:s})},Ke=({children:s})=>Te(Fu)?e.jsx(Hn,{to:"/owner/tenants",replace:!0}):e.jsx(e.Fragment,{children:s}),C5=()=>e.jsxs(J1,{children:[e.jsx(ze,{path:"/",element:e.jsx(Yx,{children:e.jsx(Hn,{to:"/login",replace:!0})})}),e.jsx(ze,{path:"/login",element:e.jsx(Yx,{children:e.jsx(P2,{})})}),e.jsxs(ze,{element:e.jsx(S5,{children:e.jsx(k2,{})}),children:[e.jsx(ze,{path:"/pos",element:e.jsx(Ke,{children:e.jsx(bS,{})})}),e.jsx(ze,{path:"/orders",element:e.jsx(Ke,{children:e.jsx(c4,{})})}),e.jsx(ze,{path:"/shift",element:e.jsx(Ke,{children:e.jsx(u4,{})})}),e.jsx(ze,{path:"/shifts-management",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(m4,{})})})}),e.jsx(ze,{path:"/customers",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(x4,{})})})}),e.jsx(ze,{path:"/products",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(a4,{})})})}),e.jsx(ze,{path:"/categories",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(l4,{})})})}),e.jsx(ze,{path:"/suppliers",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(b4,{})})})}),e.jsx(ze,{path:"/purchase-invoices",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(q4,{})})})}),e.jsx(ze,{path:"/purchase-invoices/new",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(Kx,{})})})}),e.jsx(ze,{path:"/purchase-invoices/:id",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(H4,{})})})}),e.jsx(ze,{path:"/purchase-invoices/:id/edit",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(Kx,{})})})}),e.jsx(ze,{path:"/branches",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(w4,{})})})}),e.jsx(ze,{path:"/reports",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(C4,{})})})}),e.jsx(ze,{path:"/audit",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(_4,{})})})}),e.jsx(ze,{path:"/settings",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(M4,{})})})}),e.jsx(ze,{path:"/expenses",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(r5,{})})})}),e.jsx(ze,{path:"/expenses/new",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(Gx,{})})})}),e.jsx(ze,{path:"/expenses/:id",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(n5,{})})})}),e.jsx(ze,{path:"/expenses/:id/edit",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(Gx,{})})})}),e.jsx(ze,{path:"/cash-register",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(c5,{})})})}),e.jsx(ze,{path:"/cash-register/transactions",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(d5,{})})})}),e.jsx(ze,{path:"/inventory",element:e.jsx(Ke,{children:e.jsx(at,{children:e.jsx(p5,{})})})}),e.jsx(ze,{path:"/owner/tenants",element:e.jsx(k5,{children:e.jsx(N5,{})})})]}),e.jsx(ze,{path:"*",element:e.jsx(w5,{})})]}),E5=()=>{const s=Te(ul),{data:n,isLoading:a}=o0(void 0,{skip:!s}),[i,c]=S.useState(!1),[d,u]=S.useState(null),[x,f]=S.useState("");S.useEffect(()=>{if(!s||a)return;const y=Ks.load(),w=n==null?void 0:n.data;y&&w&&!w.isClosed&&y.shift.id===w.id?(u(y.shift),f(y.savedAt),c(!0)):y&&!w&&Ks.clear()},[s,n,a]),S.useEffect(()=>{if(!s)return;const y=n==null?void 0:n.data;return y&&!y.isClosed?Ks.startAutoSave(()=>y):(Ks.stopAutoSave(),y!=null&&y.isClosed&&Ks.clear()),()=>Ks.stopAutoSave()},[s,n]);const p=()=>{c(!1),u(null)},g=()=>{Ks.clear(),c(!1),u(null)};return e.jsx(h2,{children:e.jsxs(Nw,{children:[e.jsx(C5,{}),d&&e.jsx(E2,{shift:d,savedAt:x,isOpen:i,onRestore:p,onDiscard:g})]})})},P5=()=>{const s=xl(),n=Te(ul),a=Te(zp),i=Te($p),c=Te(qp),{data:d}=w0(void 0,{skip:!n}),u=d==null?void 0:d.data;return S.useEffect(()=>{u&&(u.taxRate!==a||u.isTaxEnabled!==i||u.allowNegativeStock!==c)&&s(Fp({taxRate:u.taxRate,isTaxEnabled:u.isTaxEnabled,allowNegativeStock:u.allowNegativeStock}))},[u,a,i,c,s]),null};Jy.createRoot(document.getElementById("root")).render(e.jsx(he.StrictMode,{children:e.jsx(mv,{store:zu,children:e.jsxs(np,{loading:null,persistor:JN,children:[e.jsx(P5,{}),e.jsx(E5,{}),e.jsx(Yv,{position:"top-center",dir:"rtl",richColors:!0,toastOptions:{duration:3e3,style:{fontFamily:"Cairo, sans-serif",direction:"rtl",textAlign:"right",padding:"16px 20px",fontSize:"16px",minWidth:"320px"},classNames:{toast:"!bg-white !border !border-gray-200 !shadow-lg !rounded-xl !py-4 !px-5",title:"!text-gray-800 !font-semibold !text-base",description:"!text-gray-500 !text-sm",success:"!bg-success-50 !border-success-200 !text-success-700",error:"!bg-danger-50 !border-danger-200 !text-danger-700",warning:"!bg-warning-50 !border-warning-200 !text-warning-700",info:"!bg-info-50 !border-primary-200 !text-primary-700"}}})]})})}));
