# ๐ง ุฅุตูุงุญ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุงุฎุชุจุงุฑ ุงูููุฒุงุช

**ุงูุชุงุฑูุฎ**: 9 ูุจุฑุงูุฑ 2026

---

## โ๏ธ ุงููุดููุฉ

ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ ูุง ุชุนูู ูุฃู:
1. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุง ุชุญุชูู ุนูู ุงูุญููู ุงูุฌุฏูุฏุฉ
2. Migration `EnhanceShiftManagement` ูู ุชูุทุจู
3. Seed Data ุงููุฏููุฉ ูุง ุชุญุชูู ุนูู `LastActivityAt`

---

## โ ุงูุญู (ุฎุทูุฉ ุจุฎุทูุฉ)

### ุงูุฎุทูุฉ 1: ุฅููุงู Backend

ุฅุฐุง ูุงู Backend ูุนููุ ุฃูููู:
```
ุงุถุบุท Ctrl+C ูู terminal
```

### ุงูุฎุทูุฉ 2: ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช

```powershell
cd src\KasserPro.API
del kasserpro.db
del kasserpro.db-shm
del kasserpro.db-wal
```

### ุงูุฎุทูุฉ 3: ุชุทุจูู Migrations

```powershell
dotnet ef database update
```

**ุงููุชููุน**: ูุฌุจ ุฃู ุชุฑู:
```
Applying migration '20260209122732_EnhanceShiftManagement'.
Done.
```

### ุงูุฎุทูุฉ 4: ุชุดุบูู Backend

```powershell
dotnet run
```

**ุงููุชููุน**:
```
info: KasserPro.API[0]
      Database initialized successfully
info: Microsoft.Hosting.Lifetime[14]
      Now listening on: http://localhost:5243
```

### ุงูุฎุทูุฉ 5: ุชุดุบูู Frontend

ูู terminal ุฌุฏูุฏ:
```powershell
cd client
npm run dev
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงูููุฒุงุช

### 1. ุชุณุฌูู ุงูุฏุฎูู
- ุงูุชุญ http://localhost:3000
- Email: `admin@kasserpro.com`
- Password: `Admin@123`

### 2. ูุชุญ ูุฑุฏูุฉ
1. ุงุฐูุจ ุฅูู "ุงููุฑุฏูุฉ"
2. ุงููุฑ "ูุชุญ ูุฑุฏูุฉ ุฌุฏูุฏุฉ"
3. ุฃุฏุฎู ุฑุตูุฏ ุงูุชุชุงุญ: `1000`
4. ุงููุฑ "ูุชุญ ุงููุฑุฏูุฉ"

**ุงููุชููุน**: โ ุงููุฑุฏูุฉ ุชูุชุญ ุจูุฌุงุญ

### 3. ุงูุชุญูู ูู ุงูุญููู ุงูุฌุฏูุฏุฉ

ุงูุชุญ Developer Tools (F12) โ Network โ ุงุฎุชุฑ request `/shifts/current`

**ูุฌุจ ุฃู ุชุฑู**:
```json
{
  "data": {
    "id": 1,
    "lastActivityAt": "2026-02-09T...",
    "inactiveHours": 0,
    "isForceClosed": false,
    "isHandedOver": false,
    "durationHours": 0,
    "durationMinutes": 5,
    ...
  }
}
```

### 4. ุงุฎุชุจุงุฑ ุชุณููู ุงููุฑุฏูุฉ

1. ุงููุฑ ุฒุฑ "ุชุณููู ุงููุฑุฏูุฉ"
2. ุงุฎุชุฑ ูุณุชุฎุฏู ูู ุงููุงุฆูุฉ
3. ุฃุฏุฎู ุงูุฑุตูุฏ ุงูุญุงูู
4. ุงููุฑ "ุชุณููู ุงููุฑุฏูุฉ"

**ุงููุชููุน**: โ ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ

### 5. ุงุฎุชุจุงุฑ ูุงุฆูุฉ ุงููุฑุฏูุงุช ุงูููุชูุญุฉ (Admin)

1. scroll ูุฃุณูู ูู ุตูุญุฉ ุงููุฑุฏูุฉ
2. ูุฌุจ ุฃู ุชุฑู ูุณู "ุงููุฑุฏูุงุช ุงูููุชูุญุฉ"
3. ูุฌุจ ุฃู ุชุฑู ุงููุฑุฏูุฉ ุงูุญุงููุฉ

**ุงููุชููุน**: โ ุงููุงุฆูุฉ ุชุธูุฑ

### 6. ุงุฎุชุจุงุฑ ุฅุบูุงู ุจุงูููุฉ (Admin)

1. ูู ูุงุฆูุฉ ุงููุฑุฏูุงุช ุงูููุชูุญุฉ
2. ุงููุฑ "ุฅุบูุงู ุจุงูููุฉ"
3. ุฃุฏุฎู ุณุจุจ ุงูุฅุบูุงู
4. ุงููุฑ "ุฅุบูุงู ุจุงูููุฉ"

**ุงููุชููุน**: โ ุงููุฑุฏูุฉ ุชูุบูู

### 7. ุงุฎุชุจุงุฑ ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุฑุฏูุงุช

1. ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉุ ุงุฎุชุฑ "ุฅุฏุงุฑุฉ ุงููุฑุฏูุงุช"
2. ูุฌุจ ุฃู ุชุฑู ูุงุฆูุฉ ุงููุฑุฏูุงุช ุงูููุชูุญุฉ

**ุงููุชููุน**: โ ุงูุตูุญุฉ ุชุนูู

### 8. ุงุฎุชุจุงุฑ ุงุณุชุนุงุฏุฉ ุจุนุฏ ุงูุชุนุทู

1. ุงูุชุญ ูุฑุฏูุฉ ุฌุฏูุฏุฉ
2. ุงูุชุธุฑ ุฏูููุฉ (ููุญูุธ ุงูุชููุงุฆู)
3. ุฃุบูู ุงููุชุตูุญ
4. ุงูุชุญ ุงููุชุตูุญ ูุฑุฉ ุฃุฎุฑู
5. ุงุฐูุจ ุฅูู http://localhost:3000

**ุงููุชููุน**: โ ูุธูุฑ modal "ุงุณุชุนุงุฏุฉ ุงููุฑุฏูุฉ"

---

## ๐ ุญู ุงููุดุงูู

### ุงููุดููุฉ: Migration ูู ุชูุทุจู

```powershell
# ุชุญูู ูู Migrations
dotnet ef migrations list

# ุฅุฐุง ูู ุชุธูุฑ EnhanceShiftManagement
dotnet ef migrations add EnhanceShiftManagement
dotnet ef database update
```

### ุงููุดููุฉ: Backend ูุง ูุจุฏุฃ

```powershell
# ุชุญูู ูู ุงูุฃุฎุทุงุก
dotnet build
```

ุฅุฐุง ูุงู ููุงู ุฎุทุฃ ูู Buildุ ุฃุฑุณู ุงูุฎุทุฃ.

### ุงููุดููุฉ: ุงูุญููู ุงูุฌุฏูุฏุฉ ูุง ุชุธูุฑ

1. ุชุฃูุฏ ูู ุชุทุจูู Migration
2. ุชุฃูุฏ ูู ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ
3. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู Backend

### ุงููุดููุฉ: Frontend ูุนุฑุถ ุฃุฎุทุงุก

```powershell
cd client
npm install
npm run dev
```

### ุงููุดููุฉ: "ูุง ุชูุฌุฏ ูุฑุฏูุงุช ููุชูุญุฉ" ูู ูุงุฆูุฉ ุงููุฑุฏูุงุช

ูุฐุง ุทุจูุนู ุฅุฐุง ูู ุชูุชุญ ูุฑุฏูุฉ ุจุนุฏ. ุงูุชุญ ูุฑุฏูุฉ ุฃููุงู.

---

## ๐ Checklist

ูุจู ุฃู ุชููู "ูุง ูุนูู"ุ ุชุฃูุฏ ูู:

- [ ] ุญุฐูุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ (`kasserpro.db`)
- [ ] ุทุจูุช Migrations (`dotnet ef database update`)
- [ ] ุฑุฃูุช ุฑุณุงูุฉ "Applying migration '20260209122732_EnhanceShiftManagement'"
- [ ] Backend ูุนูู ุจุฏูู ุฃุฎุทุงุก
- [ ] Frontend ูุนูู ุจุฏูู ุฃุฎุทุงุก
- [ ] ุณุฌูุช ุฏุฎูู ุจู admin@kasserpro.com
- [ ] ูุชุญุช ูุฑุฏูุฉ ุฌุฏูุฏุฉ
- [ ] ุชุญููุช ูู Network tab ูู Developer Tools
- [ ] ุฑุฃูุช ุงูุญููู ุงูุฌุฏูุฏุฉ ูู response

---

## ๐ฏ ุงูุญููู ุงูุฌุฏูุฏุฉ ุงููุทููุจุฉ

ูุฌุจ ุฃู ุชุธูุฑ ูู response:

```typescript
{
  lastActivityAt: string;        // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  inactiveHours: number;         // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  isForceClosed: boolean;        // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  isHandedOver: boolean;         // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  durationHours: number;         // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  durationMinutes: number;       // โ ูุฌุจ ุฃู ูููู ููุฌูุฏ
  forceClosedByUserName?: string;
  forceClosedAt?: string;
  forceCloseReason?: string;
  handedOverFromUserName?: string;
  handedOverToUserName?: string;
  handedOverAt?: string;
  handoverBalance: number;
  handoverNotes?: string;
}
```

---

## ๐ธ Screenshots ุงููุชููุนุฉ

### 1. ุตูุญุฉ ุงููุฑุฏูุฉ
- โ ุฒุฑ "ุชุณููู ุงููุฑุฏูุฉ" ูุธูุฑ
- โ ูุณู "ุงููุฑุฏูุงุช ุงูููุชูุญุฉ" ูุธูุฑ ููู Admin
- โ ุชุญุฐูุฑ ุนุฏู ุงููุดุงุท ูุธูุฑ ุจุนุฏ 8 ุณุงุนุงุช

### 2. Modal ุชุณููู ุงููุฑุฏูุฉ
- โ ูุงุฆูุฉ ุงููุณุชุฎุฏููู
- โ ุญูู ุงูุฑุตูุฏ ุงูุญุงูู
- โ ุญูู ุงูููุงุญุธุงุช

### 3. Modal ุฅุบูุงู ุจุงูููุฉ
- โ ุญูู ุงูุณุจุจ (ุฅูุฒุงูู)
- โ ุญูู ุงูุฑุตูุฏ ุงููุนูู (ุงุฎุชูุงุฑู)
- โ ุชุญุฐูุฑ ูุงุถุญ

### 4. ุตูุญุฉ ุฅุฏุงุฑุฉ ุงููุฑุฏูุงุช
- โ ูุงุฆูุฉ ุงููุฑุฏูุงุช ุงูููุชูุญุฉ
- โ ุฒุฑ "ุฅุบูุงู ุจุงูููุฉ" ููู ูุฑุฏูุฉ
- โ ูุนูููุงุช ุงููุฑุฏูุฉ (ุงููุงุดูุฑุ ุงููุฏุฉุ ุงูุฑุตูุฏ)

---

## โ ุฅุฐุง ูู ุดูุก ูุนูู

ุณุชููู ูุงุฏุฑุงู ุนูู:
1. โ ูุชุญ ูุฑุฏูุฉ
2. โ ุชุณููู ุงููุฑุฏูุฉ
3. โ ุฑุคูุฉ ูุงุฆูุฉ ุงููุฑุฏูุงุช ุงูููุชูุญุฉ (Admin)
4. โ ุฅุบูุงู ูุฑุฏูุฉ ุจุงูููุฉ (Admin)
5. โ ุฑุคูุฉ ุชุญุฐูุฑ ุนุฏู ุงููุดุงุท (ุจุนุฏ 8 ุณุงุนุงุช)
6. โ ุงุณุชุนุงุฏุฉ ุงููุฑุฏูุฉ ุจุนุฏ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุชุตูุญ

---

## ๐ ุฅุฐุง ูู ูุนูู

ุฃุฑุณู:
1. Screenshot ูู Network tab (request `/shifts/current`)
2. Screenshot ูู Console (F12 โ Console)
3. ุฃู ุฑุณุงุฆู ุฎุทุฃ ูู Backend terminal
4. ุฃู ุฑุณุงุฆู ุฎุทุฃ ูู Frontend terminal

---

**ููุงุญุธุฉ ูููุฉ**: ูุฌุจ ุญุฐู ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุฅุนุงุฏุฉ ุฅูุดุงุฆูุง. ูุง ูููู ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุฏููุฉ ูุฃู ุงูุญููู ุงูุฌุฏูุฏุฉ ุบูุฑ ููุฌูุฏุฉ.

**ุงูููุช ุงููุชููุน**: 5-10 ุฏูุงุฆู
