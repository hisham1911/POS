# ุฏููู ุงุฎุชุจุงุฑ ููุงุชูุฑ ุงูุดุฑุงุก - Purchase Invoices Testing Guide

## โ ุงูุชุญุฏูุซุงุช ุงููููุฐุฉ

### 1. Backend (ุชู ุจูุฌุงุญ โ)
- โ ุฅูุดุงุก ุฌููุน ุงูู Entities ูุงูู DTOs
- โ ุชุทุจูู Migration ูููุงุนุฏุฉ
- โ ุฅูุดุงุก Service ูุน ุฌููุน ุงูุนูููุงุช
- โ ุฅูุดุงุก Controller ูุน 9 endpoints
- โ Build ูุงุฌุญ ุจุฏูู ุฃุฎุทุงุก

### 2. Frontend (ุชู ุจูุฌุงุญ โ)
- โ ุฅูุดุงุก Types
- โ ุฅูุดุงุก API Client ูุน RTK Query
- โ ุฅูุดุงุก 3 ุตูุญุงุช (List, Form, Details)
- โ ุฅูุดุงุก 2 Modals (AddPayment, Cancel)
- โ ุฅุถุงูุฉ Routes ูุงูู Navigation
- โ ุชุญุณูู Error Handling

### 3. Database Seeding (ุชู ุฅุถุงูุชู โ)
- โ ุฅุถุงูุฉ 5 ููุฑุฏูู ุชุฌุฑูุจููู ูู DbInitializer
- โ ุงูููุชุฌุงุช ููุฌูุฏุฉ ูุณุจูุงู (25 ููุชุฌ)

---

## ๐ง ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุชุดุบูู Backend
```bash
cd src/KasserPro.API
dotnet run
```
- ูุฌุจ ุฃู ูุนูู ุนูู: `http://localhost:5243`
- ุณูุชู ุชุทุจูู Migration ุชููุงุฆูุงู
- ุณูุชู ุฅุถุงูุฉ ุงูููุฑุฏูู ุงูุชุฌุฑูุจููู ุชููุงุฆูุงู

### 2. ุชุดุบูู Frontend
```bash
cd client
npm run dev
```
- ูุฌุจ ุฃู ูุนูู ุนูู: `http://localhost:3000`

### 3. ุชุณุฌูู ุงูุฏุฎูู
- Email: `admin@kasserpro.com`
- Password: `Admin@123`

---

## ๐ ุณููุงุฑูููุงุช ุงูุงุฎุชุจุงุฑ

### ุงูุณููุงุฑูู 1: ุฅูุดุงุก ูุงุชูุฑุฉ ุดุฑุงุก ุฌุฏูุฏุฉ

1. **ุงูุงูุชูุงู ููุตูุญุฉ**
   - ุงุถุบุท ุนูู "ููุงุชูุฑ ุงูุดุฑุงุก" ูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
   - ุงุถุบุท ุนูู ุฒุฑ "ุฅูุดุงุก ูุงุชูุฑุฉ ุฌุฏูุฏุฉ"

2. **ููุก ุงูุจูุงูุงุช**
   - ุงุฎุชุฑ ููุฑุฏ ูู ุงููุงุฆูุฉ (ูุซุงู: ุดุฑูุฉ ุงูุฅููุชุฑูููุงุช ุงููุชูุฏูุฉ)
   - ุงุฎุชุฑ ุชุงุฑูุฎ ุงููุงุชูุฑุฉ (ุงูููู)
   - ุฃุถู ููุงุญุธุงุช (ุงุฎุชูุงุฑู)

3. **ุฅุถุงูุฉ ููุชุฌุงุช**
   - ุงุฎุชุฑ ููุชุฌ (ูุซุงู: ุณูุงุนุงุช ุจููุชูุซ)
   - ุฃุฏุฎู ุงููููุฉ (ูุซุงู: 10)
   - ุฃุฏุฎู ุณุนุฑ ุงูุดุฑุงุก (ูุซุงู: 180)
   - ุงุถุบุท "ุฅุถุงูุฉ"
   - ูุฑุฑ ูุฅุถุงูุฉ ููุชุฌุงุช ุฃุฎุฑู

4. **ุงูุญูุธ**
   - ุงุถุบุท "ุญูุธ"
   - ูุฌุจ ุฃู ุชุธูุฑ ุฑุณุงูุฉ ูุฌุงุญ
   - ูุฌุจ ุฃู ูุชู ุงูุชูุฌูู ูุตูุญุฉ ุงูุชูุงุตูู

### ุงูุณููุงุฑูู 2: ุชุฃููุฏ ุงููุงุชูุฑุฉ (Confirm)

1. **ูุชุญ ุงููุงุชูุฑุฉ**
   - ูู ูุงุฆูุฉ ุงูููุงุชูุฑุ ุงุถุบุท ุนูู "ุนุฑุถ" ููุงุชูุฑุฉ Draft

2. **ุงูุชุฃููุฏ**
   - ุงุถุบุท ุฒุฑ "ุชุฃููุฏ ุงููุงุชูุฑุฉ"
   - ูุฌุจ ุฃู ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "Confirmed"
   - ูุฌุจ ุฃู ูุชู ุชุญุฏูุซ ุงููุฎุฒูู ุชููุงุฆูุงู
   - ูุฌุจ ุฃู ูุชู ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ (Weighted Average)

3. **ุงูุชุญูู ูู ุงููุฎุฒูู**
   - ุงุฐูุจ ูุตูุญุฉ "ุงูููุชุฌุงุช"
   - ุชุญูู ูู ุฒูุงุฏุฉ ุงููููุฉ ููููุชุฌุงุช ุงููุดุชุฑุงุฉ

### ุงูุณููุงุฑูู 3: ุฅุถุงูุฉ ุฏูุนุฉ (Payment)

1. **ูุชุญ ูุงุชูุฑุฉ ูุคูุฏุฉ**
   - ุงุฎุชุฑ ูุงุชูุฑุฉ ุจุญุงูุฉ "Confirmed" ุฃู "PartiallyPaid"

2. **ุฅุถุงูุฉ ุฏูุนุฉ**
   - ุงุถุบุท "ุฅุถุงูุฉ ุฏูุนุฉ"
   - ุฃุฏุฎู ุงููุจูุบ (ูุฌุจ ุฃู ูููู <= ุงููุจูุบ ุงููุณุชุญู)
   - ุงุฎุชุฑ ุทุฑููุฉ ุงูุฏูุน (Cash/Card/Fawry)
   - ุงุฎุชุฑ ุชุงุฑูุฎ ุงูุฏูุน
   - ุฃุถู ุฑูู ูุฑุฌุนู (ุงุฎุชูุงุฑู)
   - ุงุถุบุท "ุญูุธ"

3. **ุงูุชุญูู**
   - ูุฌุจ ุฃู ูุธูุฑ ุงูุฏูุน ูู ุฌุฏูู ุงูุฏูุนุงุช
   - ูุฌุจ ุฃู ูุชู ุชุญุฏูุซ ุงููุจูุบ ุงููุฏููุน ูุงููุณุชุญู
   - ุฅุฐุง ุชู ุฏูุน ูุงูู ุงููุจูุบุ ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "Paid"

### ุงูุณููุงุฑูู 4: ุฅูุบุงุก ุงููุงุชูุฑุฉ (Cancel)

1. **ูุชุญ ูุงุชูุฑุฉ**
   - ูููู ุฅูุบุงุก ูุงุชูุฑุฉ ุจุฃู ุญุงูุฉ (Draft/Confirmed/PartiallyPaid)

2. **ุงูุฅูุบุงุก**
   - ุงุถุบุท "ุฅูุบุงุก ุงููุงุชูุฑุฉ"
   - ุฃุฏุฎู ุณุจุจ ุงูุฅูุบุงุก
   - ุงุฎุชุฑ: ูู ุชุฑูุฏ ุชุนุฏูู ุงููุฎุฒููุ
     - โ ูุนู: ุณูุชู ุฎุตู ุงููููุฉ ูู ุงููุฎุฒูู (ููููุงุชูุฑ ุงููุคูุฏุฉ)
     - โ ูุง: ูู ูุชู ุชุนุฏูู ุงููุฎุฒูู

3. **ุงูุชุญูู**
   - ูุฌุจ ุฃู ุชุชุบูุฑ ุงูุญุงูุฉ ุฅูู "Cancelled"
   - ุฅุฐุง ุชู ุงุฎุชูุงุฑ ุชุนุฏูู ุงููุฎุฒููุ ุชุญูู ูู ุงูููุชุฌุงุช

### ุงูุณููุงุฑูู 5: ุชุนุฏูู ูุงุชูุฑุฉ Draft

1. **ูุชุญ ูุงุชูุฑุฉ Draft**
   - ููุท ุงูููุงุชูุฑ ุจุญุงูุฉ "Draft" ูููู ุชุนุฏูููุง

2. **ุงูุชุนุฏูู**
   - ุงุถุบุท "ุชุนุฏูู"
   - ุบููุฑ ุงูููุฑุฏ ุฃู ุงูููุชุฌุงุช ุฃู ุงููููุงุช
   - ุงุถุบุท "ุชุญุฏูุซ"

3. **ุงูุชุญูู**
   - ูุฌุจ ุฃู ูุชู ุญูุธ ุงูุชุบููุฑุงุช
   - ูุฌุจ ุฃู ุชุจูู ุงูุญุงูุฉ "Draft"

### ุงูุณููุงุฑูู 6: ุญุฐู ูุงุชูุฑุฉ Draft

1. **ูู ูุงุฆูุฉ ุงูููุงุชูุฑ**
   - ุงุถุบุท "ุญุฐู" ุนูู ูุงุชูุฑุฉ Draft

2. **ุงูุชุฃููุฏ**
   - ุฃูุฏ ุงูุญุฐู

3. **ุงูุชุญูู**
   - ูุฌุจ ุฃู ุชุฎุชูู ุงููุงุชูุฑุฉ ูู ุงููุงุฆูุฉ

---

## ๐ ููุงุท ุงูุชุญูู ุงููููุฉ

### โ Validation
- [ ] ูุง ูููู ุฅูุดุงุก ูุงุชูุฑุฉ ุจุฏูู ููุฑุฏ
- [ ] ูุง ูููู ุฅูุดุงุก ูุงุชูุฑุฉ ุจุฏูู ููุชุฌุงุช
- [ ] ูุง ูููู ุฅุถุงูุฉ ููุชุฌ ุจูููุฉ ุตูุฑ ุฃู ุณุงูุจุฉ
- [ ] ูุง ูููู ุฅุถุงูุฉ ููุชุฌ ุจุณุนุฑ ุตูุฑ ุฃู ุณุงูุจ
- [ ] ูุง ูููู ุชุนุฏูู ูุงุชูุฑุฉ ูุคูุฏุฉ
- [ ] ูุง ูููู ุญุฐู ูุงุชูุฑุฉ ูุคูุฏุฉ
- [ ] ูุง ูููู ุฅุถุงูุฉ ุฏูุนุฉ ุฃูุจุฑ ูู ุงููุจูุบ ุงููุณุชุญู

### โ Business Logic
- [ ] ุญุณุงุจ ุงูุฅุฌูุงููุงุช ุตุญูุญ (Subtotal + Tax = Total)
- [ ] ุงูุถุฑูุจุฉ 14% (Tax Exclusive)
- [ ] ุชุญุฏูุซ ุงููุฎุฒูู ุนูุฏ ุงูุชุฃููุฏ
- [ ] ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ (Weighted Average)
- [ ] ุชุญุฏูุซ ุฅุญุตุงุฆูุงุช ุงูููุฑุฏ (TotalPurchases, TotalDue, TotalPaid)
- [ ] ุฅูุดุงุก Stock Movements ุนูุฏ ุงูุชุฃููุฏ/ุงูุฅูุบุงุก
- [ ] ุชุญุฏูุซ SupplierProduct (LastPurchasePrice, LastPurchaseDate)

### โ UI/UX
- [ ] ุงูุฑุณุงุฆู ุจุงูุนุฑุจูุฉ
- [ ] ุงูุชูุณูู RTL ุตุญูุญ
- [ ] ุงูุฃุฒุฑุงุฑ ูุงุถุญุฉ ููููููุฉ
- [ ] ุงูุฌุฏุงูู ููุธูุฉ ูุณููุฉ ุงููุฑุงุกุฉ
- [ ] ุฑุณุงุฆู ุงููุฌุงุญ/ุงูุฎุทุฃ ุชุธูุฑ ุจูุถูุญ
- [ ] Loading states ุฃุซูุงุก ุงูุนูููุงุช

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### ุงููุดููุฉ: "ูุง ูุชู ุญูุธ ุงููุงุชูุฑุฉ"

**ุงูุญููู ุงููุญุชููุฉ:**

1. **ุชุญูู ูู Console**
   - ุงูุชุญ Developer Tools (F12)
   - ุชุญูู ูู Console ููุฃุฎุทุงุก
   - ุชุญูู ูู Network tab ููู API requests

2. **ุชุญูู ูู Backend**
   - ุชุฃูุฏ ุฃู Backend ูุนูู ุนูู port 5243
   - ุชุญูู ูู logs ูู terminal
   - ุชุญูู ูู ุฃู Migration ุชู ุชุทุจูููุง

3. **ุชุญูู ูู ุงูุจูุงูุงุช**
   - ุชุฃูุฏ ูู ูุฌูุฏ ููุฑุฏูู ูู ุงููุงุนุฏุฉ
   - ุชุฃูุฏ ูู ูุฌูุฏ ููุชุฌุงุช
   - ุชุฃูุฏ ูู ุชุณุฌูู ุงูุฏุฎูู ูู Admin

4. **ุชุญูู ูู ุงูู API URL**
   - ููู `.env` ูู client ูุฌุจ ุฃู ูุญุชูู ุนูู:
     ```
     VITE_API_URL=http://localhost:5243/api
     ```

### ุงููุดููุฉ: "ูุง ุชูุฌุฏ ููุฑุฏูู ูู ุงููุงุฆูุฉ"

**ุงูุญู:**
1. ุฃููู Backend
2. ุงุญุฐู ููู `kasserpro.db` ูู `src/KasserPro.API/`
3. ุดุบูู Backend ูุฑุฉ ุฃุฎุฑู
4. ุณูุชู ุฅูุดุงุก ูุงุนุฏุฉ ุฌุฏูุฏุฉ ูุน ุงูููุฑุฏูู

### ุงููุดููุฉ: "ุฎุทุฃ 401 Unauthorized"

**ุงูุญู:**
1. ุณุฌูู ุฎุฑูุฌ
2. ุณุฌูู ุฏุฎูู ูุฑุฉ ุฃุฎุฑู
3. ุชุฃูุฏ ูู ุงุณุชุฎุฏุงู ุญุณุงุจ Admin

---

## ๐ ุงูุจูุงูุงุช ุงูุชุฌุฑูุจูุฉ

### ุงูููุฑุฏูู (5 ููุฑุฏูู)
1. ุดุฑูุฉ ุงูุฅููุชุฑูููุงุช ุงููุชูุฏูุฉ
2. ูุคุณุณุฉ ุงูููุงุจุณ ุงูุญุฏูุซุฉ
3. ุดุฑูุฉ ุงูุฃุญุฐูุฉ ุงูุฐูุจูุฉ
4. ููุชุจุฉ ุงูุฃุฏูุงุช ุงูููุชุจูุฉ
5. ุดุฑูุฉ ุงูููุฒู ูุงูุฏูููุฑ

### ุงูููุชุฌุงุช (25 ููุชุฌ)
- ุฅููุชุฑูููุงุช: ุณูุงุนุงุชุ ุดุงุญูุ ุจุงูุฑ ุจุงููุ ูุงูุณุ ูุงุจูุ ุณุงุนุฉ ุฐููุฉ
- ููุงุจุณ: ุชูุดูุฑุชุ ุจูุทูููุ ูููุตุ ุฌุงููุช
- ุฃุญุฐูุฉ: ุฑูุงุถูุ ุฑุณููุ ุตูุฏู
- ุฅูุณุณูุงุฑุงุช: ุญุฒุงูุ ูุญูุธุฉุ ูุธุงุฑุฉุ ุดูุทุฉ
- ููุฒู: ูุตุจุงุญุ ุณุงุนุฉ ุญุงุฆุทุ ูุฑุขุฉ
- ููุชุจูุฉ: ุฏูุชุฑุ ุฃููุงูุ ููููุฉุ ูุณุทุฑุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุงูุถุฑูุจุฉ**: ุงููุธุงู ูุณุชุฎุฏู Tax Exclusive (ุงูุถุฑูุจุฉ ุชูุถุงู ุนูู ุงูุณุนุฑ)
2. **Multi-tenancy**: ูู ุงูุนูููุงุช ูุฑุชุจุทุฉ ุจู TenantId ู BranchId
3. **Audit Trail**: ุฌููุน ุงูุนูููุงุช ูุณุฌูุฉ ูู AuditLog
4. **Transactions**: ุฌููุน ุงูุนูููุงุช ุชุณุชุฎุฏู Database Transactions
5. **Weighted Average Cost**: ูุชู ุญุณุงุจ ูุชูุณุท ุงูุชูููุฉ ุชููุงุฆูุงู ุนูุฏ ุงูุชุฃููุฏ

---

## โจ ุงูุฎุทูุงุช ุงูุชุงููุฉ

ุจุนุฏ ุงูุชูุงู ุงุฎุชุจุงุฑ Feature 1 (Purchase Invoices)ุ ุณููุชูู ุฅูู:

1. **Feature 2**: Multi-branch Inventory Transfer
2. **Feature 3**: Desktop App Integration
3. **Feature 4**: Expenses Management
4. **Feature 5**: Cash Register
5. **Feature 6**: Shift Improvements
6. **Feature 7**: Seed Data Management

---

## ๐ฏ ุงููุฏู

ุงูุชุฃูุฏ ูู ุฃู ููุงุชูุฑ ุงูุดุฑุงุก ุชุนูู ุจุดูู ูุงูู ูุตุญูุญ ูุจู ุงูุงูุชูุงู ููููุฒุฉ ุงูุชุงููุฉ.

**Good Luck! ๐**
